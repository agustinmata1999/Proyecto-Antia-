(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[773],{4275:function(e,t,s){Promise.resolve().then(s.bind(s,8913))},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},8913:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var a=s(7437),r=s(2265),l=s(9376),n=s(1837),i=s(7120);function c(){var e,t,s,l;let{formatPrice:c,symbol:d}=(0,i.U)(),[o,x]=(0,r.useState)([]),[m,u]=(0,r.useState)(null),[g,h]=(0,r.useState)([]),[p,b]=(0,r.useState)(!0),[j,y]=(0,r.useState)("houses"),[v,f]=(0,r.useState)(null),[N,C]=(0,r.useState)(null),w=window.location.origin;(0,r.useEffect)(()=>{D()},[]);let D=async()=>{b(!0),C(null);try{let[e,t,s]=await Promise.all([n.Qm.getHousesWithLinks(),n.Qm.getMetrics(),n.Qm.getPayouts()]);x(e.data||[]),u(t.data||null),h(s.data||[])}catch(s){var e,t;console.error("Error loading affiliate data:",s),C((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Error al cargar datos de afiliaci\xf3n")}finally{b(!1)}},k=async e=>{let t="".concat(w,"/r/").concat(e);try{await navigator.clipboard.writeText(t),f(e),setTimeout(()=>f(null),2e3)}catch(e){console.error("Error copying:",e)}},E=e=>{switch(e){case"PAID":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},P=e=>{switch(e){case"PAID":return"Pagado";case"PENDING":return"Pendiente";case"PROCESSING":return"En proceso";default:return e}};return p?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):N?(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,a.jsx)("p",{className:"text-red-600 mb-4",children:N}),(0,a.jsx)("button",{onClick:D,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reintentar"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83E\uDD1D Afiliaci\xf3n"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Comparte links de casas de apuestas y gana comisiones por cada referido v\xe1lido"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Clicks Totales"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:(null==m?void 0:m.clicks)||0})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Referidos Pendientes"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-yellow-600",children:(null==m?void 0:null===(e=m.referrals)||void 0===e?void 0:e.pending)||0})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Referidos Validados"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600",children:(null==m?void 0:null===(t=m.referrals)||void 0===t?void 0:t.approved)||0})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Ganancias Totales"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:c((null==m?void 0:null===(s=m.earnings)||void 0===s?void 0:s.totalCents)||0)})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsxs)("nav",{className:"flex -mb-px",children:[(0,a.jsx)("button",{onClick:()=>y("houses"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("houses"===j?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83C\uDFE0 Casas de Apuestas"}),(0,a.jsx)("button",{onClick:()=>y("metrics"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("metrics"===j?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCCA M\xe9tricas por Casa"}),(0,a.jsx)("button",{onClick:()=>y("payouts"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("payouts"===j?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCB5 Liquidaciones"})]})}),(0,a.jsxs)("div",{className:"p-6",children:["houses"===j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tus Enlaces de Afiliado"}),0===o.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,a.jsx)("p",{children:"No hay casas de apuestas disponibles en este momento"})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(e=>{let{house:t,link:s}=e;return(0,a.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[t.logoUrl?(0,a.jsx)("img",{src:t.logoUrl,alt:t.name,className:"w-12 h-12 object-contain rounded",onError:e=>{e.target.style.display="none"}}):(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center text-xl font-bold text-gray-500",children:t.name.charAt(0)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:t.name}),(0,a.jsxs)("p",{className:"text-sm text-green-600 font-medium",children:[c(100*t.commissionPerReferralEur)," / referido"]})]})]}),(0,a.jsxs)("div",{className:"text-right text-xs text-gray-500",children:[(0,a.jsxs)("div",{children:[s.totalClicks," clicks"]}),(0,a.jsxs)("div",{children:[s.totalReferrals," referidos"]})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"text",readOnly:!0,value:"".concat(w,"/r/").concat(s.redirectCode),className:"flex-1 text-sm bg-gray-50 border rounded px-3 py-2 text-gray-600"}),(0,a.jsx)("button",{onClick:()=>k(s.redirectCode),className:"px-4 py-2 rounded text-sm font-medium transition-colors ".concat(v===s.redirectCode?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"),children:v===s.redirectCode?"✓ Copiado":"Copiar"})]})})]},t.id)})})]}),"metrics"===j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"M\xe9tricas Detalladas"}),(null==m?void 0:null===(l=m.byHouse)||void 0===l?void 0:l.length)?(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Casa"}),(0,a.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Pendientes"}),(0,a.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Validados"}),(0,a.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rechazados"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ganancias"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.byHouse.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.houseName}),(0,a.jsx)("td",{className:"px-4 py-3 text-center text-sm text-yellow-600",children:e.pending}),(0,a.jsx)("td",{className:"px-4 py-3 text-center text-sm text-green-600",children:e.approved}),(0,a.jsx)("td",{className:"px-4 py-3 text-center text-sm text-red-600",children:e.rejected}),(0,a.jsx)("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:c(e.totalEarningsCents)})]},e.houseId))})]})}):(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,a.jsx)("p",{children:"A\xfan no hay datos de conversiones"})})]}),"payouts"===j&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Liquidaciones Mensuales"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Las liquidaciones de afiliaci\xf3n se pagan mensualmente y NO incluyen comisi\xf3n de plataforma."}),0===g.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,a.jsx)("p",{children:"No hay liquidaciones pendientes"})}):(0,a.jsx)("div",{className:"space-y-4",children:g.map(e=>{var t;return(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-lg font-bold text-gray-900",children:e.periodMonth}),(0,a.jsx)("span",{className:"ml-3 px-2 py-1 text-xs font-medium rounded ".concat(E(e.status)),children:P(e.status)})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:c(e.totalAmountCents)}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.totalReferrals," referidos"]})]})]}),(null===(t=e.houseBreakdown)||void 0===t?void 0:t.length)>0&&(0,a.jsxs)("div",{className:"border-t pt-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Desglose por casa:"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:e.houseBreakdown.map((e,t)=>(0,a.jsxs)("div",{className:"bg-gray-50 rounded px-3 py-2 text-sm",children:[(0,a.jsx)("div",{className:"font-medium text-gray-700",children:e.houseName}),(0,a.jsxs)("div",{className:"text-gray-500",children:[e.referrals," ref. \xb7 ",c(e.amountCents)]})]},t))})]}),e.paidAt&&(0,a.jsxs)("div",{className:"border-t mt-3 pt-3 text-sm text-gray-500",children:["Pagado el: ",new Date(e.paidAt).toLocaleDateString("es-ES")]})]},e.id)})})]})]})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("span",{className:"text-blue-600 text-xl",children:"ℹ️"}),(0,a.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"\xbfC\xf3mo funciona la afiliaci\xf3n?"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-blue-700",children:[(0,a.jsx)("li",{children:"Copia tu link de referido de cualquier casa de apuestas"}),(0,a.jsx)("li",{children:"Comparte el link con tu audiencia"}),(0,a.jsx)("li",{children:"Cuando alguien se registre y haga un dep\xf3sito usando tu link, ganar\xe1s la comisi\xf3n indicada"}),(0,a.jsx)("li",{children:"Las ganancias se liquidan mensualmente"})]})]})]})})]})}var d=s(4646);function o(){var e,t,s,o,x,m,u;let g=(0,l.useRouter)(),{formatPrice:h,symbol:p}=(0,i.U)(),[b,j]=(0,r.useState)("dashboard"),[y,v]=(0,r.useState)("liquidaciones"),[f,N]=(0,r.useState)(null),[C,w]=(0,r.useState)([]),[D,k]=(0,r.useState)(null),[E,P]=(0,r.useState)(null),[S,T]=(0,r.useState)([]),[I,A]=(0,r.useState)(null),[L,U]=(0,r.useState)({forecasts:!0,affiliate:!1}),[M,F]=(0,r.useState)(!0),[R,q]=(0,r.useState)(!1),[B,z]=(0,r.useState)(null),[O,$]=(0,r.useState)(!1),[V,_]=(0,r.useState)({title:"",description:"",priceCents:"",billingType:"ONE_TIME",telegramChannelId:"",active:!0}),[H,G]=(0,r.useState)(!1),[Q,W]=(0,r.useState)(""),[Z,J]=(0,r.useState)([]),[Y,K]=(0,r.useState)(!1),[X,ee]=(0,r.useState)(!1),[et,es]=(0,r.useState)({channelId:"",channelTitle:"",channelType:"private",inviteLink:""}),[ea,er]=(0,r.useState)(!1),[el,en]=(0,r.useState)(null),[ei,ec]=(0,r.useState)(""),[ed,eo]=(0,r.useState)(!1),[ex,em]=(0,r.useState)(null),[eu,eg]=(0,r.useState)(!1),[eh,ep]=(0,r.useState)(!1),[eb,ej]=(0,r.useState)(""),[ey,ev]=(0,r.useState)(""),[ef,eN]=(0,r.useState)(null),[eC,ew]=(0,r.useState)(""),[eD,ek]=(0,r.useState)(!1),[eE,eP]=(0,r.useState)({configured:!1,pending:!1,channelId:null,channelTitle:null,channelUsername:null}),[eS,eT]=(0,r.useState)(null),[eI,eA]=(0,r.useState)(""),[eL,eU]=(0,r.useState)(""),[eM,eF]=(0,r.useState)(!1),[eR,eq]=(0,r.useState)(""),[eB,ez]=(0,r.useState)(null),[eO,e$]=(0,r.useState)(!1),[eV,e_]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{if(await new Promise(e=>setTimeout(e,50)),!localStorage.getItem("access_token")){g.push("/login");return}eH()})()},[]);let eH=async()=>{try{try{let e=await n.g8.getMe();N(e.data),console.log("Loaded user profile:",e.data)}catch(e){console.error("Error loading user profile:",e)}try{let e=await n.fi.getMy();w(e.data)}catch(e){console.error("Error loading products:",e)}try{let e=await n.Q4.getMetrics();k(e.data)}catch(e){console.error("Error loading metrics:",e),k({clicks:0,registers:0,ftds:0,deposits:0,totalDeposits:0,conversionRate:0})}try{let e=await n.$z.channels.getAll();J(e.data.channels||[])}catch(e){console.error("Error loading Telegram channels:",e)}try{let e=await n.$z.getChannelInfo();e.data.connected&&(eg(!0),em(e.data.channel)),e.data.premiumChannelLink&&ew(e.data.premiumChannelLink)}catch(e){console.error("Error loading Telegram info:",e)}try{let e=await n.$z.publicationChannel.get();console.log("Loaded publication channel:",e.data),eP(e.data)}catch(e){console.error("Error loading publication channel:",e)}try{let e=await n.kn.getMyStats();P(e.data)}catch(e){console.error("Error loading sales stats:",e),P({totalSales:0,totalEarningsCents:0,currency:"EUR"})}try{let e=await n.kn.getMySales();T(e.data.slice(0,10))}catch(e){console.error("Error loading recent sales:",e),T([])}try{let e=await n.lY.getAll();A(e.data)}catch(e){console.error("Error loading settlements:",e)}try{let e=await n.wT.getMyModules();e.data.modules&&U(e.data.modules)}catch(e){console.error("Error loading modules:",e)}}catch(e){console.error("Error loading dashboard:",e)}finally{F(!1)}},eG=async()=>{try{await n.iJ.logout(),localStorage.removeItem("access_token"),g.push("/")}catch(e){console.error("Error logging out:",e),localStorage.removeItem("access_token"),g.push("/")}},eQ=async()=>{if(!et.channelId.trim()){ec("Por favor, ingresa el ID del canal");return}er(!0),ec(""),en(null);try{let e=await n.$z.channels.verify(et.channelId.trim());e.data.valid?(en(e.data),es(t=>({...t,channelTitle:e.data.title||"",channelType:e.data.username?"public":"private"}))):ec(e.data.error||"No se pudo verificar el canal")}catch(s){var e,t;ec((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Error al verificar el canal")}finally{er(!1)}},eW=async()=>{if(!et.channelId.trim()||!et.channelTitle.trim()){ec("Por favor, completa todos los campos requeridos");return}eo(!0),ec("");try{if((await n.$z.channels.create({channelId:et.channelId.trim(),channelName:(null==el?void 0:el.username)||void 0,channelTitle:et.channelTitle.trim(),channelType:et.channelType,inviteLink:et.inviteLink.trim()||void 0})).data.success){let e=await n.$z.channels.getAll();J(e.data.channels||[]),ee(!1),es({channelId:"",channelTitle:"",channelType:"private",inviteLink:""}),en(null),alert("✅ Canal a\xf1adido correctamente")}}catch(s){var e,t;ec((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Error al a\xf1adir el canal")}finally{eo(!1)}},eZ=async e=>{if(confirm("\xbfEst\xe1s seguro de que deseas desconectar este canal?"))try{await n.$z.channels.delete(e),J(t=>t.filter(t=>t.id!==e)),alert("Canal desconectado")}catch(e){var t,s;alert("Error al desconectar el canal: "+((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Error desconocido"))}},eJ=async e=>{try{let t=await n.$z.channels.generateInviteLink(e);if(t.data.success){let e=await n.$z.channels.getAll();J(e.data.channels||[]),alert("✅ Enlace de invitaci\xf3n generado: "+t.data.inviteLink)}else alert("Error: "+(t.data.error||"No se pudo generar el enlace"))}catch(e){var t,s;alert("Error: "+((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Error al generar enlace"))}},eY=(e,t)=>{if(console.log("handlePublishToTelegram called",{productId:e,productTitle:t,publicationChannel:eE}),!eE.configured){alert("Primero debes configurar tu Canal de Publicaci\xf3n en la secci\xf3n de Telegram"),j("telegram");return}e_({id:e,title:t}),e$(!0)},eK=async()=>{if(eV){e$(!1),eN(eV.id);try{let e=await n.$z.publishProduct(eV.id);console.log("Publish response:",e.data),e.data.success?alert("✅ \xa1Publicado! Tu producto ya est\xe1 en tu canal de Telegram"):alert("❌ "+(e.data.message||"Error al publicar"))}catch(s){var e,t;console.error("Publish error:",s),alert("❌ Error: "+((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Error al publicar en Telegram"))}finally{eN(null),e_(null)}}},eX=()=>{e$(!1),e_(null)},e0=()=>{let e=setInterval(async()=>{try{let t=await n.$z.publicationChannel.get();t.data.configured&&(eP(t.data),eT(null),clearInterval(e),ez(null))}catch(e){console.error("Error polling publication channel:",e)}},3e3);ez(e)};(0,r.useEffect)(()=>()=>{eB&&clearInterval(eB)},[eB]);let e2=async()=>{eF(!0),eq("");try{let e=await n.$z.publicationChannel.startLinking();e.data.success?(eP(e=>({...e,pending:!0})),eT("auto"),e0()):eq(e.data.message||"Error al iniciar vinculaci\xf3n")}catch(s){var e,t;eq((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Error al iniciar vinculaci\xf3n")}finally{eF(!1)}},e6=async()=>{try{await n.$z.publicationChannel.cancelLinking(),eP(e=>({...e,pending:!1})),eT(null),eB&&(clearInterval(eB),ez(null))}catch(e){console.error("Error canceling linking:",e)}},e1=async()=>{if(!eI.trim()){eq("Por favor, ingresa el ID o @username del canal");return}eF(!0),eq("");try{let e=await n.$z.publicationChannel.set(eI.trim(),eL.trim()||void 0);e.data.success?(eP({configured:!0,pending:!1,channelId:e.data.channelId,channelTitle:e.data.channelTitle,channelUsername:e.data.channelUsername}),eT(null),eA(""),eU("")):eq(e.data.message||"Error al configurar el canal")}catch(s){var e,t;eq((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Error al configurar el canal")}finally{eF(!1)}},e5=async()=>{if(confirm("\xbfEst\xe1s seguro de que deseas desvincular el canal de publicaci\xf3n?"))try{await n.$z.publicationChannel.remove(),eP({configured:!1,pending:!1,channelId:null,channelTitle:null,channelUsername:null})}catch(s){var e,t;alert("Error al eliminar el canal: "+((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Error desconocido"))}},e3=()=>{z(null),_({title:"",description:"",priceCents:"",billingType:"ONE_TIME",telegramChannelId:"",active:!0}),W(""),q(!0)},e4=e=>{var t;z(e),_({title:e.title||"",description:e.description||"",priceCents:e.priceCents?(e.priceCents/100).toString():"",billingType:e.billingType||"ONE_TIME",telegramChannelId:e.telegramChannelId||"",active:null===(t=e.active)||void 0===t||t}),W(""),q(!0)},e8=e=>{z(e),$(!0)},e7=async()=>{var e,t,s;try{if(!V.title.trim()){W("El t\xedtulo es obligatorio");return}let t=parseFloat(V.priceCents);if(isNaN(t)||t<0){W("El precio debe ser un n\xfamero v\xe1lido mayor o igual a 0");return}G(!0),W("");let s={title:V.title.trim(),description:V.description.trim()||void 0,priceCents:Math.round(100*t),billingType:V.billingType,telegramChannelId:V.telegramChannelId||void 0,currency:"EUR"};if(B)await n.fi.update(B.id,s),V.active!==B.active&&(V.active?await n.fi.publish(B.id):await n.fi.pause(B.id));else{let t=await n.fi.create(s);V.active&&(null===(e=t.data)||void 0===e?void 0:e.id)&&await n.fi.publish(t.data.id)}await eH(),e9()}catch(e){console.error("Error saving product:",e),W((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Error al guardar el producto. Por favor, intenta de nuevo.")}finally{G(!1)}},e9=()=>{q(!1),$(!1),z(null),W("")},te=e=>{let t=Z.find(t=>t.channelId===e);return t?t.channelTitle:e};return M?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("aside",{className:"fixed top-0 left-0 w-64 h-full bg-white border-r border-gray-200",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600 mb-8",children:"Antia"}),(0,a.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:(null==f?void 0:null===(e=f.tipsterProfile)||void 0===e?void 0:e.publicName)||(null==f?void 0:f.email)||"Cargando..."}),(0,a.jsxs)("div",{className:"text-xs text-gray-400",children:["#",(null==f?void 0:null===(s=f.tipsterProfile)||void 0===s?void 0:null===(t=s.id)||void 0===t?void 0:t.slice(-4))||"----"]})]}),(0,a.jsxs)("nav",{className:"space-y-2",children:[(0,a.jsx)("button",{onClick:()=>j("dashboard"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("dashboard"===b?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:"Dashboard"}),L.forecasts&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>j("products"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("products"===b?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:"\uD83C\uDFAF Mis Productos"}),(0,a.jsx)("button",{onClick:()=>j("telegram"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("telegram"===b?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:(0,a.jsxs)("span",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"\uD83D\uDCF1 Telegram"}),Z.length>0&&(0,a.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:Z.length})]})})]}),L.affiliate&&(0,a.jsx)("button",{onClick:()=>j("referrals"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("referrals"===b?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:"\uD83E\uDD1D Afiliaci\xf3n"}),(0,a.jsx)("button",{onClick:()=>j("payouts"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("payouts"===b?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:(0,a.jsxs)("span",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"\uD83D\uDCB5 Liquidaciones"}),((null==E?void 0:E.netEarningsCents)||0)>0&&(0,a.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:h((null==E?void 0:E.netEarningsCents)||0)})]})}),(0,a.jsx)("button",{onClick:()=>j("profile"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("profile"===b?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:"⚙️ Perfil"}),(0,a.jsx)("button",{onClick:eG,className:"w-full text-left px-4 py-2 rounded-lg text-red-600 hover:bg-red-50",children:"\uD83D\uDEAA Cerrar Sesi\xf3n"})]})]})}),(0,a.jsxs)("main",{className:"ml-64 p-8",children:[(0,a.jsx)("div",{className:"fixed top-4 right-8 z-50",children:(0,a.jsx)(d.Z,{variant:"pill"})}),"dashboard"===b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Hola ",(null==f?void 0:null===(x=f.tipsterProfile)||void 0===x?void 0:null===(o=x.publicName)||void 0===o?void 0:o.split(" ")[0])||"Tipster",", Bienvenido de nuevo!"]}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Aqu\xed est\xe1 un resumen de tu actividad"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 ".concat(L.forecasts?"lg:grid-cols-4":"lg:grid-cols-3"," gap-6 mb-8"),children:[L.forecasts&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-blue-100",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"\uD83D\uDCB0 Ingresos Brutos"})}),(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:h((null==E?void 0:E.grossEarningsCents)||(null==E?void 0:E.totalEarningsCents)||0)}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Total facturado este mes"})]}),L.forecasts&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCB5 Ventas"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:(null==E?void 0:E.totalSales)||0}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Total de ventas"})]}),L.forecasts&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCE6 Productos"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:C.length}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[C.filter(e=>e.active).length," activos"]})]}),L.affiliate&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-purple-100",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83E\uDD1D Ganancias Afiliaci\xf3n"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:h((null==D?void 0:D.totalEarnings)||0)}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Comisiones pendientes"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDC65 Referidos FTD"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:(null==D?void 0:D.ftds)||0}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"First Time Deposits"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCC5 Pr\xf3xima Liquidaci\xf3n"}),(0,a.jsx)("div",{className:"text-xl font-bold text-gray-900",children:(()=>{let e=new Date,t=e.getDay(),s=new Date(e);return s.setDate(e.getDate()+((7-t)%7||7)),s.toLocaleDateString("es-ES",{day:"numeric",month:"short"})})()}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:(0,a.jsx)("button",{onClick:()=>j("payouts"),className:"text-blue-600 hover:underline",children:"Ver liquidaciones →"})})]})]}),L.forecasts&&(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Mis Productos"}),(0,a.jsx)("button",{onClick:e3,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm",children:"+ Crear Producto"})]}),(0,a.jsx)("div",{className:"p-6",children:0===C.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No tienes productos a\xfan"}),(0,a.jsx)("button",{onClick:e3,className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Crear tu primer producto"})]}):(0,a.jsx)("div",{className:"space-y-4",children:C.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-green-600",children:h(e.priceCents)}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(e.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"),children:e.active?"Activo":"Pausado"}),e.telegramChannelId&&(0,a.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-blue-50 text-blue-700",children:["\uD83D\uDCF1 ",te(e.telegramChannelId)]})]})]}),(0,a.jsx)("button",{onClick:()=>e8(e),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Ver"})]},e.id))})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Ventas Recientes"})}),(0,a.jsx)("div",{className:"p-6",children:0===S.length?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No hay ventas a\xfan"})}):(0,a.jsx)("div",{className:"space-y-4",children:S.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.productTitle||"Producto"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.emailBackup||"Cliente"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-medium text-green-600",children:h(e.amountCents||0)}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString("es-ES")})]})]},e.id))})})]})]}),L.affiliate&&!L.forecasts&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83E\uDD1D Resumen de Afiliaci\xf3n"})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Clics"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:(null==D?void 0:D.clicks)||0})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Registros"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:(null==D?void 0:D.registers)||0})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"FTDs"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:(null==D?void 0:D.ftds)||0})]})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("button",{onClick:()=>j("referrals"),className:"text-purple-600 hover:underline",children:"Ver detalle de afiliaci\xf3n →"})})]})]})]}),"products"===b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Productos"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Gestiona tus pron\xf3sticos y suscripciones"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Lista de Productos"}),(0,a.jsx)("button",{onClick:e3,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm font-medium",children:"+ Crear Producto"})]})}),(0,a.jsx)("div",{className:"p-6",children:0===C.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No tienes productos a\xfan"}),(0,a.jsx)("button",{onClick:e3,className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Crear tu primer producto"})]}):(0,a.jsx)("div",{className:"space-y-4",children:C.map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-green-600",children:["€",(e.priceCents/100).toFixed(2)]}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(e.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"),children:e.active?"Activo":"Pausado"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"SUBSCRIPTION"===e.billingType?"Suscripci\xf3n":"Pago \xfanico"}),e.telegramChannelId&&(0,a.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-blue-50 text-blue-700",children:["\uD83D\uDCF1 ",te(e.telegramChannelId)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>eY(e.id,e.title),disabled:ef===e.id,className:"px-4 py-2 text-white rounded-lg text-sm flex items-center gap-2 disabled:opacity-50 ".concat(eE.configured?"bg-green-600 hover:bg-green-700":"bg-gray-400 hover:bg-gray-500"),title:eE.configured?"Publicar autom\xe1ticamente en ".concat(eE.channelTitle||"Telegram"):"Configura primero tu Canal de Publicaci\xf3n",children:ef===e.id?"⏳ Publicando...":"\uD83D\uDCF1 Compartir en Telegram"}),(0,a.jsx)("button",{onClick:()=>e4(e),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Editar"}),(0,a.jsx)("button",{onClick:()=>e8(e),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Ver"})]})]}),(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-green-600 font-medium mb-1",children:"\uD83D\uDCB3 Link de Pago Directo (para tu canal)"}),(0,a.jsxs)("code",{className:"text-xs text-green-800 bg-white px-2 py-1 rounded border border-green-200 block truncate",children:[window.location.origin,"/checkout/",e.id]})]}),(0,a.jsx)("button",{onClick:()=>{let t=window.location.origin;navigator.clipboard.writeText("".concat(t,"/checkout/").concat(e.id)),alert("✅ Link de checkout copiado")},className:"flex-shrink-0 px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:"\uD83D\uDCCB Copiar"})]}),(0,a.jsx)("p",{className:"text-xs text-green-700 mt-2",children:"\uD83D\uDCE2 Publica este link en tu canal. El cliente paga y autom\xe1ticamente recibe acceso via Telegram."})]})]},e.id))})})]})]}),"telegram"===b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83D\uDCF1 Canales de Telegram"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Gestiona tus canales de Telegram"})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-6 mb-6",children:[(0,a.jsx)("div",{className:"flex items-start justify-between mb-4",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["\uD83D\uDCE2 Canal de Publicaci\xf3n",(0,a.jsx)("span",{className:"text-xs font-normal px-2 py-0.5 bg-green-100 text-green-700 rounded",children:"Para marketing"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:'Conecta tu canal de Telegram donde promocionas tus productos. Usa el bot\xf3n "\uD83D\uDCF1 Compartir" en cada producto para publicar autom\xe1ticamente.'})]})}),eE.configured?(0,a.jsxs)("div",{className:"bg-white rounded-lg p-5 border-2 border-green-300 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 bg-green-500 rounded-full flex items-center justify-center shadow",children:(0,a.jsx)("span",{className:"text-2xl",children:"✅"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-bold text-lg text-gray-900",children:eE.channelTitle||"Canal de Publicaci\xf3n"}),eE.channelUsername&&(0,a.jsx)("p",{className:"text-sm text-blue-600 font-medium",children:eE.channelUsername}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["ID: ",eE.channelId]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"text-sm text-green-600 font-medium mb-2",children:"\uD83C\uDF89 \xa1Listo para publicar!"}),(0,a.jsx)("button",{onClick:e5,className:"px-4 py-2 text-sm text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cambiar Canal"})]})]}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-green-50 rounded-lg border border-green-200",children:(0,a.jsxs)("p",{className:"text-sm text-green-800",children:[(0,a.jsx)("strong",{children:"✨ \xa1Todo listo!"}),' Ve a "Mis Productos" y usa el bot\xf3n ',(0,a.jsx)("span",{className:"font-semibold",children:"\uD83D\uDCF1 Compartir"})," para publicar tus productos en este canal."]})})]}):"auto"===eS||eE.pending?(0,a.jsx)("div",{className:"bg-white rounded-lg p-5 border-2 border-yellow-300",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-yellow-100 rounded-full mb-4 animate-pulse",children:(0,a.jsx)("span",{className:"text-3xl",children:"⏳"})}),(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Esperando conexi\xf3n..."}),(0,a.jsx)("p",{className:"text-gray-600 mb-4",children:"Sigue estos pasos en Telegram:"}),(0,a.jsx)("div",{className:"bg-yellow-50 rounded-lg p-4 text-left mb-4 max-w-md mx-auto",children:(0,a.jsxs)("ol",{className:"space-y-3",children:[(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"Abre tu canal de Telegram"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),(0,a.jsxs)("span",{className:"text-sm text-gray-700",children:["Ve a ",(0,a.jsx)("strong",{children:"Configuraci\xf3n del canal"})," → ",(0,a.jsx)("strong",{children:"Administradores"})]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["Busca y a\xf1ade a ",(0,a.jsx)("a",{href:"https://t.me/Antiabetbot",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 font-bold hover:underline",children:"@Antiabetbot"})," como administrador"]})]}),(0,a.jsxs)("li",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"✓"}),(0,a.jsx)("span",{className:"text-sm text-gray-700",children:"\xa1Listo! Se conectar\xe1 autom\xe1ticamente"})]})]})}),(0,a.jsxs)("div",{className:"flex justify-center gap-3",children:[(0,a.jsx)("a",{href:"https://t.me/Antiabetbot",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm font-medium",children:"Abrir @Antiabetbot"}),(0,a.jsx)("button",{onClick:e6,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"})]})]})}):"manual"===eS?(0,a.jsxs)("div",{className:"bg-white rounded-lg p-5 border border-green-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,a.jsx)("span",{className:"text-xl",children:"✍️"}),(0,a.jsx)("h3",{className:"font-bold text-gray-900",children:"Configuraci\xf3n Manual"})]}),eR&&(0,a.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg mb-4",children:(0,a.jsxs)("p",{className:"text-sm text-red-600",children:["❌ ",eR]})}),(0,a.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 mb-4 text-sm text-blue-800",children:[(0,a.jsx)("strong",{children:"⚠️ Importante:"})," Antes de continuar, aseg\xfarate de haber a\xf1adido a ",(0,a.jsx)("strong",{children:"@Antiabetbot"})," como administrador del canal."]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Canal de Telegram ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:eI,onChange:e=>eA(e.target.value),placeholder:"@micanal o -1001234567890",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-lg"}),(0,a.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\uD83D\uDCA1 Si tu canal es p\xfablico, usa ",(0,a.jsx)("strong",{children:"@nombredelcanal"}),". Si es privado, usa el ID num\xe9rico."]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-2",children:[(0,a.jsx)("button",{onClick:e1,disabled:eM||!eI.trim(),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 font-medium",children:eM?"⏳ Verificando...":"✓ Conectar Canal"}),(0,a.jsx)("button",{onClick:()=>{eT(null),eq(""),eA("")},className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Volver"})]})]}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,a.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,a.jsx)("strong",{children:"\xbfC\xf3mo obtener el ID del canal privado?"}),(0,a.jsx)("br",{}),"Reenv\xeda cualquier mensaje del canal a ",(0,a.jsx)("a",{href:"https://t.me/userinfobot",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"@userinfobot"})," y te dar\xe1 el ID."]})})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-center text-gray-600 mb-2",children:"Elige c\xf3mo quieres vincular tu canal:"}),(0,a.jsx)("div",{onClick:e2,className:"bg-white rounded-lg p-5 border-2 border-green-300 hover:border-green-500 cursor-pointer transition-all hover:shadow-md",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDE80"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900",children:"Conexi\xf3n Autom\xe1tica"}),(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 bg-green-500 text-white rounded-full",children:"Recomendado"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Solo a\xf1ade @Antiabetbot como admin a tu canal y se conectar\xe1 autom\xe1ticamente."}),(0,a.jsx)("p",{className:"text-xs text-green-600 font-medium",children:"✓ Sin configuraci\xf3n manual • ✓ M\xe1s r\xe1pido • ✓ Sin errores"})]}),(0,a.jsx)("div",{className:"text-green-500 text-2xl",children:"→"})]})}),(0,a.jsx)("div",{onClick:()=>eT("manual"),className:"bg-white rounded-lg p-5 border border-gray-200 hover:border-gray-400 cursor-pointer transition-all hover:shadow-sm",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:(0,a.jsx)("span",{className:"text-2xl",children:"✍️"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900 mb-1",children:"Configuraci\xf3n Manual"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Introduce el @username o ID de tu canal manualmente."})]}),(0,a.jsx)("div",{className:"text-gray-400 text-2xl",children:"→"})]})})]}),!eE.configured&&!eS&&!eE.pending&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-900 mb-2",children:"\uD83D\uDCA1 \xbfQu\xe9 es el Canal de Publicaci\xf3n?"}),(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:["Es el canal de Telegram donde compartes tus pron\xf3sticos con tu audiencia. Una vez conectado, podr\xe1s usar el bot\xf3n ",(0,a.jsx)("strong",{children:'"\uD83D\uDCF1 Compartir"'})," en cada producto para publicarlo directamente en tu canal con un solo clic."]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["\uD83D\uDD12 Canales Premium",(0,a.jsx)("span",{className:"text-xs font-normal px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:"Para clientes"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Estos son los canales privados donde tus clientes reciben acceso despu\xe9s de comprar."})]}),(0,a.jsx)("button",{onClick:()=>ee(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm font-medium",children:"+ A\xf1adir Canal"})]}),0===Z.length?(0,a.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-lg",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF1"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No tienes canales conectados"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Conecta tus canales de Telegram para asignarlos a tus productos"}),(0,a.jsx)("button",{onClick:()=>ee(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"A\xf1adir mi primer canal"})]}):(0,a.jsx)("div",{className:"space-y-4",children:Z.map(e=>(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center ".concat("public"===e.channelType?"bg-green-100":"bg-blue-100"),children:(0,a.jsx)("span",{className:"text-2xl",children:"public"===e.channelType?"\uD83C\uDF10":"\uD83D\uDD12"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.channelTitle}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-500",children:[e.channelName&&(0,a.jsxs)("span",{children:["@",e.channelName]}),(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs ".concat("public"===e.channelType?"bg-green-50 text-green-700":"bg-blue-50 text-blue-700"),children:"public"===e.channelType?"P\xfablico":"Privado"}),e.memberCount&&(0,a.jsxs)("span",{children:[e.memberCount," miembros"]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["ID: ",e.channelId," • Conectado: ",new Date(e.connectedAt).toLocaleDateString("es-ES")]}),e.inviteLink&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Enlace: "}),(0,a.jsx)("a",{href:e.inviteLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:e.inviteLink})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["private"===e.channelType&&(0,a.jsx)("button",{onClick:()=>eJ(e.id),className:"px-3 py-1.5 text-xs border border-gray-300 rounded hover:bg-gray-50",title:"Generar enlace de invitaci\xf3n",children:"\uD83D\uDD17 Generar Link"}),(0,a.jsx)("button",{onClick:()=>eZ(e.id),className:"px-3 py-1.5 text-xs text-red-600 border border-red-300 rounded hover:bg-red-50",children:"Desconectar"})]})]})},e.id))})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"\uD83D\uDCD6 C\xf3mo funcionan los canales"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm text-gray-700",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"1. A\xf1ade el bot como administrador:"})," A\xf1ade @Antiabetbot como administrador a tu canal de Telegram con permisos para invitar usuarios."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"2. Conecta el canal:"}),' Usa el bot\xf3n "A\xf1adir Canal" e ingresa el ID del canal (puedes obtenerlo reenviando un mensaje del canal a @userinfobot).']}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"3. Asigna a productos:"})," Al crear o editar un producto, selecciona el canal donde los clientes recibir\xe1n acceso."]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"4. Multi-canal:"})," Puedes tener m\xfaltiples canales y asignar cada producto a un canal diferente."]})]})]})]}),"referrals"===b&&(0,a.jsx)(c,{}),"payouts"===b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83D\uDCB5 Liquidaciones"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Gestiona tus ingresos y pagos"})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow mb-6",children:(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsxs)("nav",{className:"flex -mb-px",children:[(0,a.jsx)("button",{onClick:()=>v("liquidaciones"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("liquidaciones"===y?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCCA Liquidaciones"}),(0,a.jsx)("button",{onClick:()=>v("facturas"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("facturas"===y?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCC4 Facturas"}),(0,a.jsx)("button",{onClick:()=>v("pagos"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("pagos"===y?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCB3 Pagos Recibidos"})]})})}),"liquidaciones"===y&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Balance Pendiente"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:h((null==E?void 0:E.netEarningsCents)||0)}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Pr\xf3xima liquidaci\xf3n: Domingo"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Total Liquidado (Hist\xf3rico)"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600",children:"€0.00"}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Desde el inicio"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Pr\xf3xima Liquidaci\xf3n"}),(0,a.jsx)("div",{className:"text-xl font-bold text-gray-900",children:(()=>{let e=new Date,t=e.getDay(),s=new Date(e);return s.setDate(e.getDate()+((7-t)%7||7)),s.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})()}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Pron\xf3sticos: cada 7 d\xedas"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCA Desglose del Per\xedodo Actual"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Detalle de comisiones y neto a recibir"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsx)("table",{className:"w-full",children:(0,a.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"py-4 text-gray-600",children:"Ingresos Brutos"}),(0,a.jsx)("td",{className:"py-4 text-right font-semibold text-gray-900",children:h((null==E?void 0:E.grossEarningsCents)||0)})]}),(0,a.jsxs)("tr",{className:"bg-red-50",children:[(0,a.jsx)("td",{className:"py-4 text-gray-600",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-red-500",children:"−"}),"Comisi\xf3n Pasarela (Stripe/Redsys)"]})}),(0,a.jsxs)("td",{className:"py-4 text-right font-semibold text-red-600",children:["-",h((null==E?void 0:E.gatewayFeesCents)||0)]})]}),(0,a.jsxs)("tr",{className:"bg-orange-50",children:[(0,a.jsx)("td",{className:"py-4 text-gray-600",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-orange-500",children:"−"}),"Comisi\xf3n Antia (Plataforma)"]})}),(0,a.jsxs)("td",{className:"py-4 text-right font-semibold text-orange-600",children:["-",h((null==E?void 0:E.platformFeesCents)||0)]})]}),(0,a.jsxs)("tr",{className:"bg-green-50 border-t-2 border-green-200",children:[(0,a.jsx)("td",{className:"py-4 text-gray-900 font-semibold",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-green-600",children:"="}),"Neto a Recibir"]})}),(0,a.jsx)("td",{className:"py-4 text-right font-bold text-green-600 text-xl",children:h((null==E?void 0:E.netEarningsCents)||0)})]})]})})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xl",children:"\uD83C\uDFAF"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Pron\xf3sticos"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Venta de productos"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Frecuencia"}),(0,a.jsx)("span",{className:"font-medium",children:"Cada 7 d\xedas"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Comisi\xf3n Antia"}),(0,a.jsx)("span",{className:"font-medium text-orange-600",children:"10% (7% alto volumen)"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Pendiente"}),(0,a.jsx)("span",{className:"font-bold text-blue-600",children:h((null==E?void 0:E.netEarningsCents)||0)})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xl",children:"\uD83E\uDD1D"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Afiliaci\xf3n"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Casas de apuestas"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Frecuencia"}),(0,a.jsx)("span",{className:"font-medium",children:"1 vez al mes"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Comisi\xf3n Antia"}),(0,a.jsx)("span",{className:"font-medium text-green-600",children:"Sin comisi\xf3n"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Pendiente"}),(0,a.jsx)("span",{className:"font-bold text-purple-600",children:"€0.00"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCB Historial de Liquidaciones"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCED"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No hay liquidaciones procesadas a\xfan"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Tu primera liquidaci\xf3n se procesar\xe1 el pr\xf3ximo domingo"})]})})]})]}),"facturas"===y&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCC4 Facturas"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Descarga tus facturas de liquidaci\xf3n"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No hay facturas disponibles"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Las facturas se generan autom\xe1ticamente con cada liquidaci\xf3n"})]})})]}),"pagos"===y&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCB3 Pagos Recibidos"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Historial de transferencias a tu cuenta"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCB8"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No hay pagos recibidos a\xfan"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Aqu\xed ver\xe1s el historial de pagos realizados a tu cuenta bancaria"})]})})]})]}),"profile"===b&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Mi Perfil"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Configuraci\xf3n de tu cuenta"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Informaci\xf3n Personal"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre P\xfablico"}),(0,a.jsx)("input",{type:"text",value:(null==f?void 0:null===(m=f.tipsterProfile)||void 0===m?void 0:m.publicName)||"",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",value:(null==f?void 0:f.email)||"",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tel\xe9fono"}),(0,a.jsx)("input",{type:"text",value:(null==f?void 0:f.phone)||"No configurado",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario de Telegram"}),(0,a.jsx)("input",{type:"text",value:(null==f?void 0:null===(u=f.tipsterProfile)||void 0===u?void 0:u.telegramUsername)||"No configurado",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado de la cuenta"}),(0,a.jsx)("span",{className:"inline-flex px-3 py-1 rounded-full text-sm font-medium ".concat((null==f?void 0:f.status)==="ACTIVE"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:(null==f?void 0:f.status)==="ACTIVE"?"✓ Activa":null==f?void 0:f.status})]}),(0,a.jsx)("div",{className:"pt-4 border-t",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Para modificar tu informaci\xf3n de perfil, contacta con el administrador."})})]})]})]})]}),eO&&eV&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:eX,children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 bg-white/20 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCF1"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Compartir en Telegram"}),(0,a.jsx)("p",{className:"text-green-100 text-sm",children:"Publicaci\xf3n autom\xe1tica"})]})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-gray-700 mb-4",children:"\xbfEst\xe1s seguro que quieres compartir este producto en tu canal de Telegram?"}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Producto:"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:eV.title})]}),(0,a.jsx)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"text-xl",children:"ℹ️"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,a.jsx)("strong",{children:"Se publicar\xe1 autom\xe1ticamente"})," en tu canal:"]}),(0,a.jsxs)("p",{className:"text-sm text-blue-600 font-medium mt-1",children:[eE.channelTitle," ",eE.channelUsername&&"(".concat(eE.channelUsername,")")]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3",children:[(0,a.jsx)("button",{onClick:eX,className:"px-5 py-2.5 border border-gray-300 rounded-lg hover:bg-gray-100 text-gray-700 font-medium transition",children:"Cancelar"}),(0,a.jsxs)("button",{onClick:eK,className:"px-5 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition flex items-center gap-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDCE4"})," S\xed, Publicar Ahora"]})]})]})}),X&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>ee(!1),children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"A\xf1adir Canal de Telegram"}),(0,a.jsx)("button",{onClick:()=>ee(!1),className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[ei&&(0,a.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:ei})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID del Canal ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:et.channelId,onChange:e=>{es({...et,channelId:e.target.value}),en(null)},placeholder:"Ej: -1001234567890",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("button",{onClick:eQ,disabled:ea||!et.channelId.trim(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:ea?"Verificando...":"Verificar"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes obtener el ID reenviando un mensaje del canal a @userinfobot"})]}),el&&(0,a.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-green-800 font-medium",children:"✅ Canal verificado"}),(0,a.jsxs)("p",{className:"text-sm text-green-700",children:["Nombre: ",el.title]}),el.username&&(0,a.jsxs)("p",{className:"text-sm text-green-700",children:["@",el.username]}),(0,a.jsxs)("p",{className:"text-sm text-green-700",children:["Tipo: ",el.type]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre del Canal ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:et.channelTitle,onChange:e=>es({...et,channelTitle:e.target.value}),placeholder:"Ej: Mi Canal Premium",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Canal"}),(0,a.jsxs)("select",{value:et.channelType,onChange:e=>es({...et,channelType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"private",children:"\uD83D\uDD12 Privado"}),(0,a.jsx)("option",{value:"public",children:"\uD83C\uDF10 P\xfablico"})]})]}),"private"===et.channelType&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enlace de Invitaci\xf3n (Opcional)"}),(0,a.jsx)("input",{type:"text",value:et.inviteLink,onChange:e=>es({...et,inviteLink:e.target.value}),placeholder:"Ej: https://t.me/+AbCdEf123456",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes generarlo despu\xe9s desde la lista de canales"})]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end pt-4",children:[(0,a.jsx)("button",{onClick:()=>ee(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),(0,a.jsx)("button",{onClick:eW,disabled:ed||!et.channelId.trim()||!et.channelTitle.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:ed?"A\xf1adiendo...":"A\xf1adir Canal"})]})]})]})}),R&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e9,children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:B?"Editar Producto":"Crear Nuevo Producto"}),(0,a.jsx)("button",{onClick:e9,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("div",{className:"p-6",children:[Q&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:Q})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["T\xedtulo del Producto ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:V.title,onChange:e=>_({...V,title:e.target.value}),placeholder:"Ej: Pron\xf3sticos Premium Mensuales",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n"}),(0,a.jsx)("textarea",{rows:3,value:V.description,onChange:e=>_({...V,description:e.target.value}),placeholder:"Describe tu producto...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Precio (€) ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"number",step:"0.01",min:"0",value:V.priceCents,onChange:e=>_({...V,priceCents:e.target.value}),placeholder:"29.99",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Facturaci\xf3n"}),(0,a.jsxs)("select",{value:V.billingType,onChange:e=>_({...V,billingType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"ONE_TIME",children:"Pago \xfanico"}),(0,a.jsx)("option",{value:"SUBSCRIPTION",children:"Suscripci\xf3n"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Canal de Telegram ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),0===Z.length?(0,a.jsxs)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-yellow-800 mb-2",children:"⚠️ No tienes canales conectados"}),(0,a.jsx)("p",{className:"text-xs text-yellow-700 mb-3",children:"Debes conectar al menos un canal de Telegram para asignarlo a tus productos."}),(0,a.jsx)("button",{type:"button",onClick:()=>{e9(),j("telegram")},className:"text-sm text-blue-600 hover:underline font-medium",children:"Ir a conectar un canal →"})]}):(0,a.jsxs)("select",{value:V.telegramChannelId,onChange:e=>_({...V,telegramChannelId:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"-- Selecciona un canal --"}),Z.map(e=>(0,a.jsxs)("option",{value:e.channelId,children:["public"===e.channelType?"\uD83C\uDF10":"\uD83D\uDD12"," ",e.channelTitle,e.channelName&&" (@".concat(e.channelName,")")]},e.id))]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Este es el canal donde los clientes recibir\xe1n acceso despu\xe9s de la compra"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"active",checked:V.active,onChange:e=>_({...V,active:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"active",className:"ml-2 text-sm text-gray-700",children:"Producto activo"})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex gap-3 justify-end",children:[(0,a.jsx)("button",{onClick:e9,disabled:H,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition disabled:opacity-50",children:"Cancelar"}),(0,a.jsx)("button",{onClick:e7,disabled:H,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 flex items-center gap-2",children:H?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Guardando..."]}):B?"Guardar Cambios":"Crear Producto"})]})]})]})}),O&&B&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e9,children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:B.title}),(0,a.jsx)("button",{onClick:e9,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Descripci\xf3n"}),(0,a.jsx)("p",{className:"text-gray-900",children:B.description||"Sin descripci\xf3n"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Precio"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["€",(B.priceCents/100).toFixed(2)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Estado"}),(0,a.jsx)("span",{className:"inline-block px-3 py-1 rounded text-sm font-medium ".concat(B.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"),children:B.active?"Activo":"Pausado"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Tipo de Facturaci\xf3n"}),(0,a.jsx)("p",{className:"text-gray-900",children:"SUBSCRIPTION"===B.billingType?"Suscripci\xf3n":"Pago \xfanico"})]}),B.telegramChannelId&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Canal de Telegram"}),(0,a.jsxs)("p",{className:"text-gray-900 flex items-center gap-2",children:["\uD83D\uDCF1 ",te(B.telegramChannelId),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["(",B.telegramChannelId,")"]})]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Estad\xedsticas"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Ventas"})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"€0.00"}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Ingresos"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"0"}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Suscriptores"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex gap-3 justify-end",children:[(0,a.jsx)("button",{onClick:e9,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cerrar"}),(0,a.jsx)("button",{onClick:()=>{$(!1),e4(B)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Editar Producto"})]})]})]})})]})}},4646:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(7437),r=s(7120);function l(e){let{className:t="",size:s="md",variant:l="default"}=e,{currency:n,setCurrency:i,loading:c}=(0,r.U)();return c?(0,a.jsx)("div",{className:"animate-pulse bg-gray-200 rounded ".concat("sm"===s?"w-16 h-6":"w-20 h-8")}):"pill"===l?(0,a.jsxs)("div",{className:"inline-flex rounded-full bg-gray-100 p-1 ".concat(t),children:[(0,a.jsx)("button",{onClick:()=>i("EUR"),className:"px-3 py-1 rounded-full text-sm font-medium transition-colors ".concat("EUR"===n?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"),children:"€ EUR"}),(0,a.jsx)("button",{onClick:()=>i("USD"),className:"px-3 py-1 rounded-full text-sm font-medium transition-colors ".concat("USD"===n?"bg-white text-green-600 shadow-sm":"text-gray-500 hover:text-gray-700"),children:"$ USD"})]}):"minimal"===l?(0,a.jsxs)("div",{className:"inline-flex gap-1 ".concat(t),children:[(0,a.jsx)("button",{onClick:()=>i("EUR"),className:"p-1.5 rounded transition-colors ".concat("EUR"===n?"bg-blue-100 text-blue-600":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"),title:"Euro",children:"€"}),(0,a.jsx)("button",{onClick:()=>i("USD"),className:"p-1.5 rounded transition-colors ".concat("USD"===n?"bg-green-100 text-green-600":"text-gray-400 hover:text-gray-600 hover:bg-gray-100"),title:"US Dollar",children:"$"})]}):(0,a.jsxs)("select",{value:n,onChange:e=>i(e.target.value),className:"border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 cursor-pointer ".concat({sm:"text-xs px-2 py-1",md:"text-sm px-3 py-1.5",lg:"text-base px-4 py-2"}[s]," ").concat(t),children:[(0,a.jsx)("option",{value:"EUR",children:"€ EUR"}),(0,a.jsx)("option",{value:"USD",children:"$ USD"})]})}},7120:function(e,t,s){"use strict";s.d(t,{CurrencyProvider:function(){return i},U:function(){return c}});var a=s(7437),r=s(2265),l=s(1837);let n=(0,r.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,r.useState)("EUR"),[c,d]=(0,r.useState)(1.08),[o,x]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=localStorage.getItem("preferredCurrency");("EUR"===e||"USD"===e)&&i(e),m()},[]);let m=async()=>{try{let e=(await l.jk.getRates()).data.find(e=>"EUR"===e.baseCurrency&&"USD"===e.targetCurrency);e&&d(e.rate)}catch(e){console.error("Error loading exchange rate:",e)}finally{x(!1)}},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EUR";return t===s?e:"EUR"===t&&"USD"===s?Math.round(e*c):"USD"===t&&"EUR"===s?Math.round(e/c):e};return(0,a.jsx)(n.Provider,{value:{currency:s,setCurrency:e=>{i(e),localStorage.setItem("preferredCurrency",e)},exchangeRate:c,convert:u,formatPrice:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EUR",a=u(e,t),r="USD"===s?"$":"€";return"".concat(r).concat((a/100).toFixed(2))},symbol:"USD"===s?"$":"€",loading:o},children:t})}function c(){let e=(0,r.useContext)(n);if(void 0===e)throw Error("useCurrency must be used within a CurrencyProvider");return e}},1837:function(e,t,s){"use strict";s.d(t,{$z:function(){return c},Nq:function(){return g},Q4:function(){return i},Qm:function(){return p},Ty:function(){return u},a6:function(){return m},fi:function(){return n},g8:function(){return l},hi:function(){return a},iJ:function(){return r},jk:function(){return h},kn:function(){return d},lY:function(){return o},wT:function(){return x}});let a=s(3464).Z.create({baseURL:"https://affiliate-hub-170.preview.emergentagent.com/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),a.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)!==401||["/login","/register","/"].includes(window.location.pathname)||(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});let r={registerTipster:e=>a.post("/auth/tipster/register",e),registerClient:e=>a.post("/auth/client/register",e),login:e=>a.post("/auth/login",e),logout:()=>a.post("/auth/logout"),sendOtp:e=>a.post("/auth/otp/send",{email:e}),verifyOtp:e=>a.post("/auth/otp/verify",{code:e})},l={getMe:()=>a.get("/users/me"),updateMe:e=>a.patch("/users/me",e)},n={create:e=>a.post("/products",e),getMy:()=>a.get("/products/my"),getOne:e=>a.get("/products/".concat(e)),update:(e,t)=>a.patch("/products/".concat(e),t),publish:e=>a.post("/products/".concat(e,"/publish")),pause:e=>a.post("/products/".concat(e,"/pause")),getCheckoutLink:e=>a.get("/products/".concat(e,"/checkout-link"))},i={getLinks:()=>a.get("/referrals/links"),getMetrics:e=>a.get("/referrals/metrics",{params:{range:e}}),getCommissions:()=>a.get("/referrals/commissions")},c={getChannelInfo:()=>a.get("/telegram/channel-info"),connect:e=>a.post("/telegram/connect",{channelIdentifier:e}),disconnect:()=>a.delete("/telegram/disconnect"),publishProduct:(e,t)=>a.post("/products/".concat(e,"/publish-telegram"),t?{channelId:t}:{}),setPremiumChannel:e=>a.post("/telegram/premium-channel",{premiumChannelLink:e}),publicationChannel:{get:()=>a.get("/telegram/publication-channel"),set:(e,t)=>a.post("/telegram/publication-channel",{channelId:e,channelTitle:t}),remove:()=>a.delete("/telegram/publication-channel"),startLinking:()=>a.post("/telegram/publication-channel/start-linking"),cancelLinking:()=>a.post("/telegram/publication-channel/cancel-linking")},channels:{getAll:()=>a.get("/telegram/channels"),getOne:e=>a.get("/telegram/channels/".concat(e)),create:e=>a.post("/telegram/channels",e),verify:e=>a.post("/telegram/channels/verify",{channelId:e}),update:(e,t)=>a.patch("/telegram/channels/".concat(e),t),delete:e=>a.delete("/telegram/channels/".concat(e)),refresh:e=>a.post("/telegram/channels/".concat(e,"/refresh")),generateInviteLink:e=>a.post("/telegram/channels/".concat(e,"/invite-link"))}},d={getMy:()=>a.get("/orders/my"),getMySales:()=>a.get("/orders/sales"),getMyStats:()=>a.get("/orders/stats")},o={getAll:()=>a.get("/settlements"),getPending:()=>a.get("/settlements/pending"),getHistory:()=>a.get("/settlements/history"),getTotalPaid:()=>a.get("/settlements/total-paid")},x={getMyModules:()=>a.get("/users/me/modules")},m={getProfile:()=>a.get("/client/profile"),updateProfile:e=>a.put("/client/profile",e),getPurchases:()=>a.get("/client/purchases"),getPurchaseDetails:e=>a.get("/client/purchases/".concat(e)),getPaymentHistory:()=>a.get("/client/payments")},u={createTicket:e=>a.post("/support/tickets",e),getMyTickets:()=>a.get("/support/tickets/my"),getTicketDetails:e=>a.get("/support/tickets/my/".concat(e)),admin:{getAllTickets:e=>a.get("/support/admin/tickets",{params:{status:e}}),updateTicket:(e,t)=>a.put("/support/admin/tickets/".concat(e),t)}},g={tipsters:{getAll:()=>a.get("/admin/tipsters"),getOne:e=>a.get("/admin/tipsters/".concat(e)),updateModules:(e,t)=>a.patch("/admin/tipsters/".concat(e,"/modules"),t)},applications:{getAll:e=>a.get("/admin/applications",{params:{status:e}}),getStats:()=>a.get("/admin/applications/stats"),getOne:e=>a.get("/admin/applications/".concat(e)),review:(e,t)=>a.post("/admin/applications/".concat(e,"/review"),t)},commissions:{getAll:()=>a.get("/admin/commissions"),getOne:e=>a.get("/admin/commissions/".concat(e)),getHistory:e=>a.get("/admin/commissions/".concat(e,"/history")),update:(e,t)=>a.patch("/admin/commissions/".concat(e),t)},reports:{getSummary:e=>a.get("/admin/reports/summary",{params:{currency:e}}),getSales:e=>a.get("/admin/reports/sales",{params:e}),getPlatform:e=>a.get("/admin/reports/platform",{params:e}),getSettlements:e=>a.get("/admin/reports/settlements",{params:e}),getTipsters:e=>a.get("/admin/reports/tipsters",{params:e}),exportCSV:(e,t)=>a.get("/admin/reports/export/".concat(e),{params:t,responseType:"blob"})}},h={getRates:()=>a.get("/currency/rates"),getRate:(e,t)=>a.get("/currency/rate/".concat(e,"/").concat(t)),convert:(e,t,s)=>a.get("/currency/convert",{params:{amount:e,from:t,to:s}}),admin:{setRate:(e,t,s)=>a.post("/currency/admin/rate",{baseCurrency:e,targetCurrency:t,rate:s}),removeOverride:(e,t)=>a.delete("/currency/admin/rate/".concat(e,"/").concat(t)),getHistory:(e,t,s)=>a.get("/currency/admin/history/".concat(e,"/").concat(t),{params:{limit:s}})}},p={getHousesWithLinks:e=>a.get("/affiliate/houses",{params:{countryCode:e}}),getHouseWithLink:e=>a.get("/affiliate/houses/".concat(e)),getMyLinks:()=>a.get("/affiliate/my-links"),generateLink:e=>a.post("/affiliate/houses/".concat(e,"/link")),getCampaigns:()=>a.get("/affiliate/campaigns"),getCampaign:e=>a.get("/affiliate/campaigns/".concat(e)),getMetrics:()=>a.get("/affiliate/metrics"),getPayouts:()=>a.get("/affiliate/payouts"),getPayoutDetails:e=>a.get("/affiliate/payouts/".concat(e)),admin:{getHouses:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.get("/admin/affiliate/houses",{params:{includeInactive:e}})},getHouse:e=>a.get("/admin/affiliate/houses/".concat(e)),createHouse:e=>a.post("/admin/affiliate/houses",e),updateHouse:(e,t)=>a.patch("/admin/affiliate/houses/".concat(e),t),getCampaigns:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.get("/admin/affiliate/campaigns",{params:{includeInactive:e}})},getCampaign:e=>a.get("/admin/affiliate/campaigns/".concat(e)),createCampaign:e=>a.post("/admin/affiliate/campaigns",e),updateCampaign:(e,t)=>a.patch("/admin/affiliate/campaigns/".concat(e),t),importCsv:e=>a.post("/admin/affiliate/import-csv",e,{headers:{"Content-Type":"multipart/form-data"}}),getImportBatches:e=>a.get("/admin/affiliate/import-batches",{params:{houseId:e}}),getConversions:e=>a.get("/admin/affiliate/conversions",{params:e}),updateConversionStatus:(e,t,s)=>a.patch("/admin/affiliate/conversions/".concat(e,"/status"),{status:t,rejectionReason:s}),getPayouts:e=>a.get("/admin/affiliate/payouts",{params:e}),generatePayouts:e=>a.post("/admin/affiliate/payouts/generate",{periodMonth:e}),markPayoutPaid:(e,t)=>a.patch("/admin/affiliate/payouts/".concat(e,"/pay"),t)}}}},function(e){e.O(0,[464,971,117,744],function(){return e(e.s=4275)}),_N_E=e.O()}]);