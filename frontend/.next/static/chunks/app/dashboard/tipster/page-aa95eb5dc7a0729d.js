(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[773],{4275:function(e,s,t){Promise.resolve().then(t.bind(t,4521))},4521:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return ea}});var a=t(7437),l=t(2265),r=t(9376),n=t(1837),i=t(7120),c=t(2381),d=t(9397),o=t(6362),x=t(2208),m=t(6221),u=t(401),g=t(8867),h=t(8930),p=t(2489);let b=()=>"",j={ES:{name:"Espa\xf1a",flag:"\uD83C\uDDEA\uD83C\uDDF8"},MX:{name:"M\xe9xico",flag:"\uD83C\uDDF2\uD83C\uDDFD"},AR:{name:"Argentina",flag:"\uD83C\uDDE6\uD83C\uDDF7"},CO:{name:"Colombia",flag:"\uD83C\uDDE8\uD83C\uDDF4"},CL:{name:"Chile",flag:"\uD83C\uDDE8\uD83C\uDDF1"},PE:{name:"Per\xfa",flag:"\uD83C\uDDF5\uD83C\uDDEA"},US:{name:"Estados Unidos",flag:"\uD83C\uDDFA\uD83C\uDDF8"},UK:{name:"Reino Unido",flag:"\uD83C\uDDEC\uD83C\uDDE7"},PT:{name:"Portugal",flag:"\uD83C\uDDF5\uD83C\uDDF9"},DE:{name:"Alemania",flag:"\uD83C\uDDE9\uD83C\uDDEA"}},y=Object.keys(j);function N(){var e,s,t,r;let[n,i]=(0,l.useState)([]),[N,f]=(0,l.useState)(!0),[v,D]=(0,l.useState)(!1),[w,C]=(0,l.useState)(!1),[k,E]=(0,l.useState)(null),[S,A]=(0,l.useState)(null),[T,P]=(0,l.useState)(null),[I,L]=(0,l.useState)({}),[R,F]=(0,l.useState)({title:"",description:"",countriesEnabled:["ES"],countryConfigs:[]}),[B,O]=(0,l.useState)(!1),[M,z]=(0,l.useState)(""),q=window.location.origin;(0,l.useEffect)(()=>{U()},[]);let U=async()=>{f(!0);try{let e=localStorage.getItem("access_token"),s=await fetch("".concat(b(),"/api/tipster/landings"),{headers:{Authorization:"Bearer ".concat(e)}});if(s.ok){let e=await s.json();i(e)}}catch(e){console.error("Error loading landings:",e)}finally{f(!1)}},_=async e=>{if(!I[e])try{let s=localStorage.getItem("access_token"),t=await fetch("".concat(b(),"/api/tipster/landings/houses/").concat(e),{headers:{Authorization:"Bearer ".concat(s)}});if(t.ok){let s=await t.json();L(t=>({...t,[e]:s}))}}catch(e){console.error("Error loading houses:",e)}},H=e=>{let s;let t=R.countriesEnabled;t.includes(e)?(s=t.filter(s=>s!==e),F(t=>({...t,countriesEnabled:s,countryConfigs:t.countryConfigs.filter(s=>s.country!==e)}))):(s=[...t,e],_(e),F(t=>({...t,countriesEnabled:s,countryConfigs:[...t.countryConfigs,{country:e,items:[]}]})))},V=(e,s)=>{F(t=>{let a=[...t.countryConfigs],l=a.findIndex(s=>s.country===e);if(-1===l)a.push({country:e,items:[{bettingHouseId:s,orderIndex:0}]});else{let e=a[l].items;e.find(e=>e.bettingHouseId===s)||e.push({bettingHouseId:s,orderIndex:e.length})}return{...t,countryConfigs:a}})},Z=(e,s)=>{F(t=>{let a=[...t.countryConfigs],l=a.findIndex(s=>s.country===e);return -1!==l&&(a[l].items=a[l].items.filter(e=>e.bettingHouseId!==s).map((e,s)=>({...e,orderIndex:s}))),{...t,countryConfigs:a}})},G=async()=>{if(!R.title.trim()){z("El t\xedtulo de la campa\xf1a es obligatorio");return}if(0===R.countriesEnabled.length){z("Selecciona al menos un pa\xeds");return}for(let s of R.countriesEnabled){let t=R.countryConfigs.find(e=>e.country===s);if(!t||0===t.items.length){var e;z("A\xf1ade al menos una casa de apuestas para ".concat((null===(e=j[s])||void 0===e?void 0:e.name)||s));return}}O(!0),z("");try{let e=localStorage.getItem("access_token"),s=await fetch("".concat(b(),"/api/tipster/landings"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},body:JSON.stringify({title:R.title,description:R.description||void 0,countriesEnabled:R.countriesEnabled,countryConfigs:R.countryConfigs})});if(!s.ok){let e=await s.json();throw Error(e.message||"Error al crear campa\xf1a")}await U(),D(!1),$()}catch(e){z(e.message)}finally{O(!1)}},Y=async e=>{if(confirm("\xbfEst\xe1s seguro de eliminar esta campa\xf1a?"))try{let s=localStorage.getItem("access_token");await fetch("".concat(b(),"/api/tipster/landings/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(s)}}),await U()}catch(e){console.error("Error deleting landing:",e)}},K=async e=>{try{let s=localStorage.getItem("access_token");await fetch("".concat(b(),"/api/tipster/landings/").concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({isActive:!e.isActive})}),await U()}catch(e){console.error("Error toggling landing:",e)}},W=async e=>{E(e),C(!0),A(null);try{let s=localStorage.getItem("access_token"),t=await fetch("".concat(b(),"/api/tipster/landings/").concat(e.id,"/metrics"),{headers:{Authorization:"Bearer ".concat(s)}});if(t.ok){let e=await t.json();A(e)}}catch(e){console.error("Error loading metrics:",e)}},J=async e=>{let s="".concat(q,"/go/").concat(e);try{await navigator.clipboard.writeText(s),P(e),setTimeout(()=>P(null),2e3)}catch(e){console.error("Error copying:",e)}},$=()=>{F({title:"",description:"",countriesEnabled:["ES"],countryConfigs:[]}),z("")},Q=()=>{$(),_("ES"),D(!0)};return N?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Mis Campa\xf1as"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Crea campa\xf1as de afiliaci\xf3n con las casas de apuestas que quieras promocionar"})]}),(0,a.jsxs)(c.z,{onClick:Q,className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"w-4 h-4"}),"Nueva Campa\xf1a"]})]}),0===n.length?(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[(0,a.jsx)("div",{className:"text-gray-400 mb-4",children:(0,a.jsx)(o.Z,{className:"w-12 h-12 mx-auto"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tienes campa\xf1as creadas"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"Crea tu primera campa\xf1a para compartir tus enlaces de afiliado"}),(0,a.jsx)(c.z,{onClick:Q,children:"Crear mi primera Campa\xf1a"})]}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 ".concat(e.isActive?"":"opacity-60"),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title||"Campa\xf1a sin t\xedtulo"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.countriesEnabled.map(e=>{var s;return(null===(s=j[e])||void 0===s?void 0:s.flag)||e}).join(" ")})]}),(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat(e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"),children:e.isActive?"Activa":"Inactiva"})]}),(0,a.jsxs)("div",{className:"flex gap-4 mb-4 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[e.totalImpressions," vistas"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[(0,a.jsx)(m.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:[e.totalClicks," clicks"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-4 p-2 bg-gray-100 rounded text-sm",children:[(0,a.jsxs)("code",{className:"flex-1 truncate text-gray-700",children:[q,"/go/",e.slug]}),(0,a.jsx)("button",{onClick:()=>J(e.slug),className:"p-1 hover:bg-gray-200 rounded",children:T===e.slug?(0,a.jsx)(u.Z,{className:"w-4 h-4 text-green-500"}):(0,a.jsx)(g.Z,{className:"w-4 h-4"})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)(c.z,{size:"sm",variant:"outline",onClick:()=>W(e),children:[(0,a.jsx)(m.Z,{className:"w-4 h-4 mr-1"}),"M\xe9tricas"]}),(0,a.jsxs)(c.z,{size:"sm",variant:"outline",onClick:()=>window.open("/go/".concat(e.slug),"_blank"),children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-1"}),"Ver"]}),(0,a.jsx)(c.z,{size:"sm",variant:"outline",onClick:()=>K(e),children:e.isActive?"Desactivar":"Activar"}),(0,a.jsx)(c.z,{size:"sm",variant:"destructive",onClick:()=>Y(e.id),children:(0,a.jsx)(h.Z,{className:"w-4 h-4"})})]})]},e.id))}),v&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:"Crear Nueva Campa\xf1a"}),(0,a.jsx)("button",{onClick:()=>D(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(p.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre de la Campa\xf1a ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",placeholder:"Ej: Promoci\xf3n Navidad 2025...",value:R.title,onChange:e=>F(s=>({...s,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n (opcional)"}),(0,a.jsx)("textarea",{placeholder:"Una breve descripci\xf3n de tu campa\xf1a...",value:R.description,onChange:e=>F(s=>({...s,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:2})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pa\xedses Objetivo"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"Selecciona los pa\xedses para los que quieres crear esta campa\xf1a"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:y.map(e=>(0,a.jsxs)("button",{type:"button",onClick:()=>H(e),className:"px-3 py-1 rounded-full text-sm font-medium ".concat(R.countriesEnabled.includes(e)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:[j[e].flag," ",j[e].name]},e))})]}),R.countriesEnabled.map(e=>{var s,t,l,r;let n=I[e]||[],i=(null===(s=R.countryConfigs.find(s=>s.country===e))||void 0===s?void 0:s.items.map(e=>e.bettingHouseId))||[];return(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("h4",{className:"font-medium mb-3",children:[null===(t=j[e])||void 0===t?void 0:t.flag," ",(null===(l=j[e])||void 0===l?void 0:l.name)||e]}),(0,a.jsx)("div",{className:"space-y-2 mb-4",children:null===(r=R.countryConfigs.find(s=>s.country===e))||void 0===r?void 0:r.items.map((s,t)=>{let l=n.find(e=>e.id===s.bettingHouseId);return l?(0,a.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[(0,a.jsxs)("span",{className:"font-medium text-gray-500",children:[t+1,"."]}),l.logoUrl&&(0,a.jsx)("img",{src:l.logoUrl,alt:l.name,className:"w-8 h-8 object-contain"}),(0,a.jsx)("span",{className:"flex-1",children:l.name}),(0,a.jsxs)("span",{className:"text-sm text-green-600 font-medium",children:["€",l.commissionPerReferralEur,"/ref"]}),(0,a.jsx)("button",{type:"button",onClick:()=>Z(e,s.bettingHouseId),className:"px-2 py-1 text-sm bg-red-100 text-red-600 rounded hover:bg-red-200",children:(0,a.jsx)(h.Z,{className:"w-4 h-4"})})]},s.bettingHouseId):null})}),(0,a.jsxs)("select",{onChange:s=>{s.target.value&&(V(e,s.target.value),s.target.value="")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[(0,a.jsx)("option",{value:"",children:"+ A\xf1adir casa de apuestas..."}),n.filter(e=>!i.includes(e.id)).map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.name," (€",e.commissionPerReferralEur,"/ref)"]},e.id))]}),0===n.length&&(0,a.jsx)("p",{className:"text-sm text-yellow-600 mt-2",children:"Cargando casas de apuestas..."})]},e)}),M&&(0,a.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-red-600 text-sm",children:M}),(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(c.z,{variant:"outline",onClick:()=>D(!1),children:"Cancelar"}),(0,a.jsx)(c.z,{onClick:G,disabled:B,children:B?"Creando...":"Crear Campa\xf1a"})]})]})]})})}),w&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:(0,a.jsx)("div",{className:"bg-white rounded-lg max-w-lg w-full",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("h2",{className:"text-xl font-bold",children:["M\xe9tricas: ",(null==k?void 0:k.title)||"Landing"]}),(0,a.jsx)("button",{onClick:()=>C(!1),className:"p-1 hover:bg-gray-100 rounded",children:(0,a.jsx)(p.Z,{className:"w-5 h-5"})})]}),S?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null===(e=S.landing)||void 0===e?void 0:e.totalImpressions)||0}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Vistas"})]}),(0,a.jsxs)("div",{className:"p-4 bg-gray-50 rounded text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null===(s=S.landing)||void 0===s?void 0:s.totalClicks)||0}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Clicks"})]})]}),(null===(t=S.clicksByCountry)||void 0===t?void 0:t.length)>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Clicks por Pa\xeds"}),(0,a.jsx)("div",{className:"space-y-1",children:S.clicksByCountry.map(e=>{var s,t;return(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{children:[null===(s=j[e.country])||void 0===s?void 0:s.flag," ",(null===(t=j[e.country])||void 0===t?void 0:t.name)||e.country]}),(0,a.jsx)("span",{className:"font-medium",children:e.clicks})]},e.country)})})]}),(null===(r=S.clicksByHouse)||void 0===r?void 0:r.length)>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-2",children:"Clicks por Casa"}),(0,a.jsx)("div",{className:"space-y-1",children:S.clicksByHouse.map(e=>(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{children:e.houseName}),(0,a.jsx)("span",{className:"font-medium",children:e.clicks})]},e.houseId))})]})]}):(0,a.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]})})})]})}var f=t(7533),v=t(525),D=t(9202),w=t(8420),C=t(1047);let k=()=>"https://apifix-2.preview.emergentagent.com/api".replace("/api","")||window.location.origin,E={ES:"Espa\xf1a",MX:"M\xe9xico",AR:"Argentina",CO:"Colombia",CL:"Chile",PE:"Per\xfa",DE:"Alemania",IT:"Italia",PT:"Portugal",FR:"Francia",UK:"Reino Unido",US:"Estados Unidos"},S={ES:"\uD83C\uDDEA\uD83C\uDDF8",MX:"\uD83C\uDDF2\uD83C\uDDFD",AR:"\uD83C\uDDE6\uD83C\uDDF7",CO:"\uD83C\uDDE8\uD83C\uDDF4",CL:"\uD83C\uDDE8\uD83C\uDDF1",PE:"\uD83C\uDDF5\uD83C\uDDEA",DE:"\uD83C\uDDE9\uD83C\uDDEA",IT:"\uD83C\uDDEE\uD83C\uDDF9",PT:"\uD83C\uDDF5\uD83C\uDDF9",FR:"\uD83C\uDDEB\uD83C\uDDF7",UK:"\uD83C\uDDEC\uD83C\uDDE7",US:"\uD83C\uDDFA\uD83C\uDDF8"};function A(){let[e,s]=(0,l.useState)(!0),[t,r]=(0,l.useState)({startDate:new Date(Date.now()-2592e6).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[n,i]=(0,l.useState)({totalClicks:0,conversions:0,conversionRate:0,totalEarnings:0}),[c,d]=(0,l.useState)([]),[o,x]=(0,l.useState)([]),[u,g]=(0,l.useState)([]),[h,p]=(0,l.useState)([]);(0,l.useEffect)(()=>{b()},[t]);let b=async()=>{s(!0);try{let e=localStorage.getItem("access_token"),s=new URLSearchParams({startDate:t.startDate,endDate:t.endDate}),a=await fetch("".concat(k(),"/api/affiliate/tipster/stats?").concat(s.toString()),{headers:{Authorization:"Bearer ".concat(e)}});if(a.ok){let e=await a.json();i(e.general||{totalClicks:0,conversions:0,conversionRate:0,totalEarnings:0}),d(e.byCountry||[]),x(e.byHouse||[]),g(e.byDate||[]),p(e.byCampaign||[])}}catch(e){console.error("Error loading stats:",e)}finally{s(!1)}};return e?(0,a.jsx)("div",{className:"flex items-center justify-center h-48",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Desde"}),(0,a.jsx)("input",{type:"date",value:t.startDate,onChange:e=>r({...t,startDate:e.target.value}),className:"border rounded-lg px-3 py-2 text-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-500 mb-1",children:"Hasta"}),(0,a.jsx)("input",{type:"date",value:t.endDate,onChange:e=>r({...t,endDate:e.target.value}),className:"border rounded-lg px-3 py-2 text-sm"})]}),(0,a.jsxs)("div",{className:"flex gap-2 mt-5",children:[(0,a.jsx)("button",{onClick:()=>r({startDate:new Date(Date.now()-6048e5).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),className:"px-3 py-2 text-xs bg-white border rounded-lg hover:bg-gray-50",children:"7 d\xedas"}),(0,a.jsx)("button",{onClick:()=>r({startDate:new Date(Date.now()-2592e6).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),className:"px-3 py-2 text-xs bg-white border rounded-lg hover:bg-gray-50",children:"30 d\xedas"}),(0,a.jsx)("button",{onClick:()=>r({startDate:new Date(Date.now()-7776e6).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),className:"px-3 py-2 text-xs bg-white border rounded-lg hover:bg-gray-50",children:"90 d\xedas"})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[(0,a.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg p-4 text-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(f.Z,{className:"w-5 h-5 opacity-80"}),(0,a.jsx)("span",{className:"text-sm opacity-80",children:"Clicks"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:n.totalClicks.toLocaleString()})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-lg p-4 text-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(v.Z,{className:"w-5 h-5 opacity-80"}),(0,a.jsx)("span",{className:"text-sm opacity-80",children:"Conversiones"})]}),(0,a.jsx)("div",{className:"text-2xl font-bold",children:n.conversions.toLocaleString()})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg p-4 text-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(m.Z,{className:"w-5 h-5 opacity-80"}),(0,a.jsx)("span",{className:"text-sm opacity-80",children:"Tasa Conv."})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[n.conversionRate.toFixed(1),"%"]})]}),(0,a.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500 to-orange-500 rounded-lg p-4 text-white",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"\uD83D\uDCB0"}),(0,a.jsx)("span",{className:"text-sm opacity-80",children:"Ganancias"})]}),(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["€",(n.totalEarnings/100).toFixed(2)]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(D.Z,{className:"w-5 h-5 text-gray-500"}),"Por Pa\xeds"]})}),(0,a.jsx)("div",{className:"p-4",children:0===c.length?(0,a.jsx)("div",{className:"text-center py-6 text-gray-500 text-sm",children:"Sin datos en este per\xedodo"}):(0,a.jsx)("div",{className:"space-y-3",children:c.slice(0,8).map(e=>{let s=Math.max(...c.map(e=>e.clicks),1),t=e.clicks/s*100;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-lg",children:S[e.country]||"\uD83C\uDF0D"}),(0,a.jsx)("span",{className:"text-sm",children:E[e.country]||e.country})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-700 font-medium",children:e.clicks}),e.conversions>0&&(0,a.jsxs)("span",{className:"text-green-600 ml-2",children:["+",e.conversions]})]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"".concat(t,"%")}})})]},e.country)})})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(w.Z,{className:"w-5 h-5 text-gray-500"}),"Por Casa de Apuestas"]})}),(0,a.jsx)("div",{className:"p-4",children:0===o.length?(0,a.jsx)("div",{className:"text-center py-6 text-gray-500 text-sm",children:"Sin datos en este per\xedodo"}):(0,a.jsx)("div",{className:"space-y-3",children:o.slice(0,8).map(e=>{let s=Math.max(...o.map(e=>e.clicks),1),t=e.clicks/s*100;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.houseLogo?(0,a.jsx)("img",{src:e.houseLogo,alt:e.houseName,className:"w-5 h-5 object-contain"}):(0,a.jsx)("div",{className:"w-5 h-5 bg-gray-200 rounded flex items-center justify-center text-xs font-bold",children:e.houseName.charAt(0)}),(0,a.jsx)("span",{className:"text-sm",children:e.houseName})]}),(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsx)("span",{className:"text-gray-700 font-medium",children:e.clicks}),e.conversions>0&&(0,a.jsxs)("span",{className:"text-green-600 ml-2",children:["+",e.conversions]})]})]}),(0,a.jsx)("div",{className:"h-2 bg-gray-100 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-green-500 rounded-full",style:{width:"".concat(t,"%")}})})]},e.houseId)})})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:"\uD83D\uDCE2 Por Campa\xf1a"})}),(0,a.jsx)("div",{className:"p-4",children:0===h.length?(0,a.jsx)("div",{className:"text-center py-6 text-gray-500 text-sm",children:"Sin datos en este per\xedodo"}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Campa\xf1a"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Clicks"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Conversiones"}),(0,a.jsx)("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"% Conv."})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-200",children:h.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-4 py-3 text-sm",children:e.campaignName}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-right",children:e.clicks}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-right text-green-600",children:e.conversions}),(0,a.jsxs)("td",{className:"px-4 py-3 text-sm text-right text-gray-500",children:[e.clicks>0?(e.conversions/e.clicks*100).toFixed(1):0,"%"]})]},e.campaignId))})]})})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsxs)("h3",{className:"font-semibold text-gray-900 flex items-center gap-2",children:[(0,a.jsx)(C.Z,{className:"w-5 h-5 text-gray-500"}),"Evoluci\xf3n Diaria"]})}),(0,a.jsx)("div",{className:"p-4",children:0===u.length?(0,a.jsx)("div",{className:"text-center py-6 text-gray-500 text-sm",children:"Sin datos en este per\xedodo"}):(0,a.jsx)("div",{className:"space-y-2",children:u.slice(-14).map(e=>{let s=Math.max(...u.map(e=>e.clicks),1),t=e.clicks/s*100;return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-16 text-xs text-gray-500",children:new Date(e.date).toLocaleDateString("es-ES",{day:"2-digit",month:"short"})}),(0,a.jsx)("div",{className:"flex-1 h-5 bg-gray-100 rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-400 to-blue-600 rounded-full",style:{width:"".concat(t,"%")}})}),(0,a.jsxs)("div",{className:"w-20 text-right text-xs",children:[(0,a.jsx)("span",{className:"text-gray-700 font-medium",children:e.clicks}),e.conversions>0&&(0,a.jsxs)("span",{className:"text-green-600 ml-1",children:["+",e.conversions]})]})]},e.date)})})})]})]})}function T(){var e,s,t,r,c,d;let{formatPrice:o,symbol:x}=(0,i.U)(),[m,u]=(0,l.useState)([]),[g,h]=(0,l.useState)(null),[p,b]=(0,l.useState)([]),[j,y]=(0,l.useState)(!0),[f,v]=(0,l.useState)("landings"),[D,w]=(0,l.useState)(null),[C,k]=(0,l.useState)(null),[E,S]=(0,l.useState)([]),[T,P]=(0,l.useState)(!1),[I,L]=(0,l.useState)({houseId:"",status:""}),R=window.location.origin;(0,l.useEffect)(()=>{F()},[]);let F=async()=>{y(!0),k(null);try{let[e,s,t]=await Promise.all([n.Qm.getHousesWithLinks(),n.Qm.getMetrics(),n.Qm.getPayouts()]);u(e.data||[]),h(s.data||null),b(t.data||[])}catch(t){var e,s;console.error("Error loading affiliate data:",t),k((null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Error al cargar datos de afiliaci\xf3n")}finally{y(!1)}},B=async()=>{P(!0);try{let e=await n.Qm.getMyReferrals(I);S(e.data.referrals||e.data||[])}catch(e){console.error("Error loading referrals:",e)}finally{P(!1)}};(0,l.useEffect)(()=>{"referrals"===f&&B()},[f]);let O=async e=>{let s="".concat(R,"/r/").concat(e);try{await navigator.clipboard.writeText(s),w(e),setTimeout(()=>w(null),2e3)}catch(e){console.error("Error copying:",e)}},M=e=>{switch(e){case"PAID":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},z=e=>{switch(e){case"PAID":return"Pagado";case"PENDING":return"Pendiente";case"PROCESSING":return"En proceso";default:return e}};return j?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):C?(0,a.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,a.jsx)("p",{className:"text-red-600 mb-4",children:C}),(0,a.jsx)("button",{onClick:F,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reintentar"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83E\uDD1D Afiliaci\xf3n"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Comparte links de casas de apuestas y gana comisiones por cada referido v\xe1lido"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Clicks Totales"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:(null==g?void 0:g.clicks)||0})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Referidos Pendientes"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-yellow-600",children:(null==g?void 0:null===(e=g.referrals)||void 0===e?void 0:e.pending)||0})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Referidos Validados"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600",children:(null==g?void 0:null===(s=g.referrals)||void 0===s?void 0:s.approved)||0})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Ganancias Totales"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:o((null==g?void 0:null===(t=g.earnings)||void 0===t?void 0:t.totalCents)||0)})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsxs)("nav",{className:"flex -mb-px overflow-x-auto",children:[(0,a.jsx)("button",{onClick:()=>v("landings"),className:"px-6 py-4 text-sm font-medium border-b-2 whitespace-nowrap ".concat("landings"===f?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDE80 Mis Campa\xf1as"}),(0,a.jsx)("button",{onClick:()=>v("stats"),className:"px-6 py-4 text-sm font-medium border-b-2 whitespace-nowrap ".concat("stats"===f?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCCA Estad\xedsticas"}),(0,a.jsx)("button",{onClick:()=>v("houses"),className:"px-6 py-4 text-sm font-medium border-b-2 whitespace-nowrap ".concat("houses"===f?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83C\uDFE0 Casas de Apuestas"}),(0,a.jsxs)("button",{onClick:()=>v("referrals"),className:"px-6 py-4 text-sm font-medium border-b-2 whitespace-nowrap ".concat("referrals"===f?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["\uD83D\uDC65 Conversiones",(null!==(d=null==g?void 0:null===(r=g.referrals)||void 0===r?void 0:r.pending)&&void 0!==d?d:0)>0&&(0,a.jsx)("span",{className:"ml-2 bg-yellow-500 text-white px-2 py-0.5 rounded-full text-xs",children:null==g?void 0:null===(c=g.referrals)||void 0===c?void 0:c.pending})]}),(0,a.jsx)("button",{onClick:()=>v("payouts"),className:"px-6 py-4 text-sm font-medium border-b-2 whitespace-nowrap ".concat("payouts"===f?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCB5 Liquidaciones"})]})}),(0,a.jsxs)("div",{className:"p-6",children:["landings"===f&&(0,a.jsx)(N,{}),"stats"===f&&(0,a.jsx)(A,{}),"houses"===f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tus Enlaces de Afiliado"}),0===m.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,a.jsx)("p",{children:"No hay casas de apuestas disponibles en este momento"})}):(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:m.map(e=>{let{house:s,link:t}=e;return(0,a.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[s.logoUrl?(0,a.jsx)("img",{src:s.logoUrl,alt:s.name,className:"w-12 h-12 object-contain rounded",onError:e=>{e.target.style.display="none"}}):(0,a.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center text-xl font-bold text-gray-500",children:s.name.charAt(0)}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:s.name}),(0,a.jsxs)("p",{className:"text-sm text-green-600 font-medium",children:[o(100*s.commissionPerReferralEur)," / referido"]})]})]}),(0,a.jsxs)("div",{className:"text-right text-xs text-gray-500",children:[(0,a.jsxs)("div",{children:[t.totalClicks," clicks"]}),(0,a.jsxs)("div",{children:[t.totalReferrals," referidos"]})]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"text",readOnly:!0,value:"".concat(R,"/r/").concat(t.redirectCode),className:"flex-1 text-sm bg-gray-50 border rounded px-3 py-2 text-gray-600"}),(0,a.jsx)("button",{onClick:()=>O(t.redirectCode),className:"px-4 py-2 rounded text-sm font-medium transition-colors ".concat(D===t.redirectCode?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"),children:D===t.redirectCode?"✓ Copiado":"Copiar"})]})})]},s.id)})})]}),"referrals"===f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Detalle de Mis Referidos"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)("select",{value:I.houseId,onChange:e=>L({...I,houseId:e.target.value}),className:"border rounded-lg px-3 py-2 text-sm",children:[(0,a.jsx)("option",{value:"",children:"Todas las casas"}),m.map(e=>{let{house:s}=e;return(0,a.jsx)("option",{value:s.id,children:s.name},s.id)})]}),(0,a.jsxs)("select",{value:I.status,onChange:e=>L({...I,status:e.target.value}),className:"border rounded-lg px-3 py-2 text-sm",children:[(0,a.jsx)("option",{value:"",children:"Todos los estados"}),(0,a.jsx)("option",{value:"PENDING",children:"Pendientes"}),(0,a.jsx)("option",{value:"APPROVED",children:"Aprobados"}),(0,a.jsx)("option",{value:"REJECTED",children:"Rechazados"})]}),(0,a.jsx)("button",{onClick:B,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Filtrar"})]})]}),T?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):0===E.length?(0,a.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[(0,a.jsx)("div",{className:"text-4xl mb-2",children:"\uD83D\uDC65"}),(0,a.jsx)("p",{children:"No tienes referidos a\xfan"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Comparte tus links de afiliaci\xf3n para empezar a ganar"})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Casa"}),(0,a.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Usuario"}),(0,a.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Pa\xeds"}),(0,a.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Tipo"}),(0,a.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ganancia"}),(0,a.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Estado"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:E.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(e.convertedAt||e.clickedAt||new Date).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})}),(0,a.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.houseName}),(0,a.jsxs)("td",{className:"px-4 py-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-900",children:e.userEmail||"Usuario an\xf3nimo"}),e.userTelegram&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:["\uD83D\uDCF1 ",e.userTelegram]})]}),(0,a.jsx)("td",{className:"px-4 py-3 text-center text-sm",children:e.country||"\uD83C\uDF0D"}),(0,a.jsx)("td",{className:"px-4 py-3 text-center",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("DEPOSIT"===e.eventType?"bg-green-100 text-green-700":"REGISTER"===e.eventType?"bg-blue-100 text-blue-700":"QUALIFIED"===e.eventType?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"),children:"DEPOSIT"===e.eventType?"\uD83D\uDCB0 Dep\xf3sito":"REGISTER"===e.eventType?"\uD83D\uDCDD Registro":"QUALIFIED"===e.eventType?"✅ Calificado":e.eventType||"Click"})}),(0,a.jsx)("td",{className:"px-4 py-3 text-right text-sm font-medium text-green-600",children:o(e.commissionCents)}),(0,a.jsx)("td",{className:"px-4 py-3 text-center",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat("PENDING"===e.status?"bg-yellow-100 text-yellow-700":"APPROVED"===e.status?"bg-green-100 text-green-700":"REJECTED"===e.status?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"),children:"PENDING"===e.status?"⏳ Pendiente":"APPROVED"===e.status?"✅ Validado":"REJECTED"===e.status?"❌ Rechazado":e.status})})]},e.id))})]})})]}),"payouts"===f&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Liquidaciones Mensuales"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Las liquidaciones de afiliaci\xf3n se pagan mensualmente y NO incluyen comisi\xf3n de plataforma."}),0===p.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,a.jsx)("p",{children:"No hay liquidaciones pendientes"})}):(0,a.jsx)("div",{className:"space-y-4",children:p.map(e=>{var s;return(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-lg font-bold text-gray-900",children:e.periodMonth}),(0,a.jsx)("span",{className:"ml-3 px-2 py-1 text-xs font-medium rounded ".concat(M(e.status)),children:z(e.status)})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:o(e.totalAmountCents)}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.totalReferrals," referidos"]})]})]}),(null===(s=e.houseBreakdown)||void 0===s?void 0:s.length)>0&&(0,a.jsxs)("div",{className:"border-t pt-3",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Desglose por casa:"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:e.houseBreakdown.map((e,s)=>(0,a.jsxs)("div",{className:"bg-gray-50 rounded px-3 py-2 text-sm",children:[(0,a.jsx)("div",{className:"font-medium text-gray-700",children:e.houseName}),(0,a.jsxs)("div",{className:"text-gray-500",children:[e.referrals," ref. \xb7 ",o(e.amountCents)]})]},s))})]}),e.paidAt&&(0,a.jsxs)("div",{className:"border-t mt-3 pt-3 text-sm text-gray-500",children:["Pagado el: ",new Date(e.paidAt).toLocaleDateString("es-ES")]})]},e.id)})})]})]})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("span",{className:"text-blue-600 text-xl",children:"ℹ️"}),(0,a.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"\xbfC\xf3mo funciona la afiliaci\xf3n?"}),(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-blue-700",children:[(0,a.jsx)("li",{children:"Copia tu link de referido de cualquier casa de apuestas"}),(0,a.jsx)("li",{children:"Comparte el link con tu audiencia"}),(0,a.jsx)("li",{children:"Cuando alguien se registre y haga un dep\xf3sito usando tu link, ganar\xe1s la comisi\xf3n indicada"}),(0,a.jsx)("li",{children:"Las ganancias se liquidan mensualmente"})]})]})]})})]})}var P=t(4646),I=t(3639);function L(e){let{onComplete:s}=e;return(0,a.jsx)("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 mb-6 rounded-r-lg",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(I.Z,{className:"h-5 w-5 text-orange-400"})}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-orange-800",children:"\xa1Completa tus datos de cobro!"}),(0,a.jsx)("div",{className:"mt-2 text-sm text-orange-700",children:(0,a.jsx)("p",{children:"Para poder recibir tus ganancias, necesitas completar tus datos bancarios/KYC. Esto solo te llevar\xe1 unos minutos."})}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)("div",{className:"-mx-2 -my-1.5 flex",children:(0,a.jsx)("button",{onClick:s,className:"bg-orange-100 px-4 py-2 rounded-md text-sm font-medium text-orange-800 hover:bg-orange-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-orange-50 focus:ring-orange-600 transition",children:"Completar ahora →"})})})]})]})})}var R=t(5302),F=t(2369),B=t(3774),O=t(8226),M=t(8736),z=t(5863);let q=[{value:"DNI",label:"DNI (Espa\xf1a)"},{value:"NIE",label:"NIE (Extranjero en Espa\xf1a)"},{value:"PASSPORT",label:"Pasaporte"},{value:"CIF",label:"CIF (Empresa)"}],U=[{value:"IBAN",label:"Transferencia Bancaria (IBAN)"},{value:"PAYPAL",label:"PayPal"},{value:"CRYPTO",label:"Criptomonedas (USDT)"},{value:"OTHER",label:"Otro"}],_=["Espa\xf1a","M\xe9xico","Argentina","Colombia","Chile","Per\xfa","Ecuador","Venezuela","Uruguay","Paraguay","Bolivia","Costa Rica","Panam\xe1","Guatemala","Honduras","El Salvador","Nicaragua","Rep\xfablica Dominicana","Puerto Rico","Cuba","Otro"];function H(e){let{onComplete:s,onCancel:t,initialData:r}=e,[i,c]=(0,l.useState)({legalName:(null==r?void 0:r.legalName)||"",documentType:(null==r?void 0:r.documentType)||"DNI",documentNumber:"",country:(null==r?void 0:r.country)||"Espa\xf1a",bankAccountType:(null==r?void 0:r.bankAccountType)||"IBAN",bankAccountDetails:{iban:"",bankName:"",paypalEmail:"",cryptoAddress:"",cryptoNetwork:"TRC20",otherDetails:""}}),[d,o]=(0,l.useState)(!1),[x,m]=(0,l.useState)(""),[u,g]=(0,l.useState)(!1),h=async e=>{if(e.preventDefault(),m(""),o(!0),!i.legalName.trim()){m("El nombre o raz\xf3n social es obligatorio"),o(!1);return}if(!i.documentNumber.trim()){m("El n\xfamero de documento es obligatorio"),o(!1);return}if("IBAN"===i.bankAccountType&&!i.bankAccountDetails.iban.trim()){m("El IBAN es obligatorio"),o(!1);return}if("PAYPAL"===i.bankAccountType&&!i.bankAccountDetails.paypalEmail.trim()){m("El email de PayPal es obligatorio"),o(!1);return}if("CRYPTO"===i.bankAccountType&&!i.bankAccountDetails.cryptoAddress.trim()){m("La direcci\xf3n de wallet es obligatoria"),o(!1);return}try{let e={};switch(i.bankAccountType){case"IBAN":e={iban:i.bankAccountDetails.iban.replace(/\s/g,"").toUpperCase(),bankName:i.bankAccountDetails.bankName};break;case"PAYPAL":e={email:i.bankAccountDetails.paypalEmail};break;case"CRYPTO":e={address:i.bankAccountDetails.cryptoAddress,network:i.bankAccountDetails.cryptoNetwork};break;case"OTHER":e={details:i.bankAccountDetails.otherDetails}}await n.bs.updateKyc({legalName:i.legalName.trim(),documentType:i.documentType,documentNumber:i.documentNumber.trim(),country:i.country,bankAccountType:i.bankAccountType,bankAccountDetails:e}),g(!0),setTimeout(()=>{s()},2e3)}catch(e){var t,a;m((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Error al guardar los datos")}finally{o(!1)}};return u?(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(R.Z,{className:"w-8 h-8 text-green-500"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\xa1Datos guardados!"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Tus datos de cobro han sido registrados correctamente."})]})}):(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Datos de Cobro (KYC)"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Completa tus datos para poder recibir tus ganancias"})]}),(0,a.jsxs)("form",{onSubmit:h,className:"bg-white rounded-xl shadow-lg p-8",children:[x&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm mb-6",children:x}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)(F.Z,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Informaci\xf3n Personal / Fiscal"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo / Raz\xf3n Social *"}),(0,a.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Juan P\xe9rez Garc\xeda o Mi Empresa S.L.",value:i.legalName,onChange:e=>c({...i,legalName:e.target.value})}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Nombre tal como aparece en tu documento de identidad"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Documento *"}),(0,a.jsx)("select",{required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:i.documentType,onChange:e=>c({...i,documentType:e.target.value}),children:q.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero de Documento *"}),(0,a.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"12345678A",value:i.documentNumber,onChange:e=>c({...i,documentNumber:e.target.value})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,a.jsx)(B.Z,{className:"w-4 h-4 inline mr-1"}),"Pa\xeds de Residencia Fiscal *"]}),(0,a.jsx)("select",{required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:i.country,onChange:e=>c({...i,country:e.target.value}),children:_.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4",children:[(0,a.jsx)(O.Z,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"M\xe9todo de Cobro"})]}),(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\xbfC\xf3mo quieres recibir tus pagos? *"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-3",children:U.map(e=>(0,a.jsx)("button",{type:"button",onClick:()=>c({...i,bankAccountType:e.value}),className:"p-3 rounded-lg border-2 transition text-left ".concat(i.bankAccountType===e.value?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,a.jsx)("div",{className:"font-medium text-sm",children:e.label})},e.value))})]}),"IBAN"===i.bankAccountType&&(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4 mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IBAN *"}),(0,a.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"ES12 3456 7890 1234 5678 9012",value:i.bankAccountDetails.iban,onChange:e=>c({...i,bankAccountDetails:{...i.bankAccountDetails,iban:e.target.value}})})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Banco (opcional)"}),(0,a.jsx)("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Banco Santander, BBVA, etc.",value:i.bankAccountDetails.bankName,onChange:e=>c({...i,bankAccountDetails:{...i.bankAccountDetails,bankName:e.target.value}})})]})]}),"PAYPAL"===i.bankAccountType&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email de PayPal *"}),(0,a.jsx)("input",{type:"email",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tu@email.com",value:i.bankAccountDetails.paypalEmail,onChange:e=>c({...i,bankAccountDetails:{...i.bankAccountDetails,paypalEmail:e.target.value}})})]}),"CRYPTO"===i.bankAccountType&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Red / Network *"}),(0,a.jsxs)("select",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:i.bankAccountDetails.cryptoNetwork,onChange:e=>c({...i,bankAccountDetails:{...i.bankAccountDetails,cryptoNetwork:e.target.value}}),children:[(0,a.jsx)("option",{value:"TRC20",children:"USDT (TRC20 - Tron)"}),(0,a.jsx)("option",{value:"ERC20",children:"USDT (ERC20 - Ethereum)"}),(0,a.jsx)("option",{value:"BEP20",children:"USDT (BEP20 - BSC)"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direcci\xf3n de Wallet *"}),(0,a.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:"TXxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",value:i.bankAccountDetails.cryptoAddress,onChange:e=>c({...i,bankAccountDetails:{...i.bankAccountDetails,cryptoAddress:e.target.value}})})]})]}),"OTHER"===i.bankAccountType&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detalles del m\xe9todo de pago *"}),(0,a.jsx)("textarea",{required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe c\xf3mo quieres recibir tus pagos...",rows:3,value:i.bankAccountDetails.otherDetails,onChange:e=>c({...i,bankAccountDetails:{...i.bankAccountDetails,otherDetails:e.target.value}})})]})]}),(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)(M.Z,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-2"}),(0,a.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,a.jsx)("p",{className:"font-medium",children:"Informaci\xf3n importante"}),(0,a.jsxs)("ul",{className:"mt-1 list-disc list-inside space-y-1 text-blue-700",children:[(0,a.jsx)("li",{children:"Tus datos est\xe1n protegidos y solo se usar\xe1n para procesar tus pagos"}),(0,a.jsx)("li",{children:"Las liquidaciones se procesan los domingos"}),(0,a.jsx)("li",{children:"Podr\xe1s modificar estos datos desde tu perfil"})]})]})]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)("button",{type:"button",onClick:t,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancelar"}),(0,a.jsx)("button",{type:"submit",disabled:d,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):"Guardar Datos"})]})]})]})}var V=t(4766),Z=t(9196),G=t(3732),Y=t(3448);let K=G.fC,W=G.xz,J=l.forwardRef((e,s)=>{let{className:t,align:l="center",sideOffset:r=4,...n}=e;return(0,a.jsx)(G.h_,{children:(0,a.jsx)(G.VY,{ref:s,align:l,sideOffset:r,className:(0,Y.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})});J.displayName=G.VY.displayName;var $=t(6255);let Q=l.forwardRef((e,s)=>{let{className:t,children:l,...r}=e;return(0,a.jsxs)($.fC,{ref:s,className:(0,Y.cn)("relative overflow-hidden",t),...r,children:[(0,a.jsx)($.l_,{className:"h-full w-full rounded-[inherit]",children:l}),(0,a.jsx)(X,{}),(0,a.jsx)($.Ns,{})]})});Q.displayName=$.fC.displayName;let X=l.forwardRef((e,s)=>{let{className:t,orientation:l="vertical",...r}=e;return(0,a.jsx)($.gb,{ref:s,orientation:l,className:(0,Y.cn)("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:(0,a.jsx)($.q4,{className:"relative flex-1 rounded-full bg-border"})})});X.displayName=$.gb.displayName;let ee=e=>{switch(e){case"SALE":return"\uD83D\uDCB0";case"SUBSCRIPTION_NEW":return"\uD83D\uDD04";case"SUBSCRIPTION_CANCELLED":return"❌";case"SUBSCRIPTION_EXPIRED":return"⏰";case"SETTLEMENT":return"\uD83D\uDCB5";case"PAYOUT":return"✅";default:return"\uD83D\uDCE2"}},es=e=>{let s=new Date,t=new Date(e),a=Math.floor((s.getTime()-t.getTime())/1e3);return a<60?"Ahora":a<3600?"Hace ".concat(Math.floor(a/60)," min"):a<86400?"Hace ".concat(Math.floor(a/3600)," h"):a<604800?"Hace ".concat(Math.floor(a/86400)," d\xedas"):t.toLocaleDateString("es-ES")};function et(){let[e,s]=(0,l.useState)([]),[t,r]=(0,l.useState)(0),[i,d]=(0,l.useState)(!1),[o,x]=(0,l.useState)(!1),m=(0,l.useRef)(null),u=async()=>{try{let[e,t]=await Promise.all([n.hi.get("/notifications?limit=20"),n.hi.get("/notifications/unread-count")]);s(e.data.notifications||[]),r(t.data.count||0)}catch(e){console.error("Error fetching notifications:",e)}},g=async e=>{try{await n.hi.post("/notifications/".concat(e,"/read")),s(s=>s.map(s=>s.id===e?{...s,is_read:!0}:s)),r(e=>Math.max(0,e-1))}catch(e){console.error("Error marking notification as read:",e)}},h=async()=>{try{x(!0),await n.hi.post("/notifications/read-all"),s(e=>e.map(e=>({...e,is_read:!0}))),r(0)}catch(e){console.error("Error marking all as read:",e)}finally{x(!1)}};return(0,l.useEffect)(()=>(u(),m.current=setInterval(u,3e4),()=>{m.current&&clearInterval(m.current)}),[]),(0,a.jsxs)(K,{open:i,onOpenChange:d,children:[(0,a.jsx)(W,{asChild:!0,children:(0,a.jsxs)(c.z,{variant:"ghost",size:"icon",className:"relative","aria-label":"Notificaciones",children:[(0,a.jsx)(V.Z,{className:"h-5 w-5"}),t>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-xs font-medium text-white flex items-center justify-center",children:t>9?"9+":t})]})}),(0,a.jsxs)(J,{className:"w-80 p-0",align:"end",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[(0,a.jsx)("h3",{className:"font-semibold",children:"Notificaciones"}),t>0&&(0,a.jsxs)(c.z,{variant:"ghost",size:"sm",className:"text-xs text-blue-600 hover:text-blue-700",onClick:h,disabled:o,children:[(0,a.jsx)(Z.Z,{className:"h-4 w-4 mr-1"}),"Marcar todas"]})]}),(0,a.jsx)(Q,{className:"h-[300px]",children:0===e.length?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center h-[200px] text-gray-500",children:[(0,a.jsx)(V.Z,{className:"h-8 w-8 mb-2 opacity-50"}),(0,a.jsx)("p",{className:"text-sm",children:"No hay notificaciones"})]}):(0,a.jsx)("div",{className:"divide-y",children:e.map(e=>(0,a.jsx)("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors ".concat(e.is_read?"":"bg-blue-50"),onClick:()=>!e.is_read&&g(e.id),children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"text-xl",children:ee(e.type)}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm ".concat(e.is_read?"font-medium":"font-semibold"," text-gray-900"),children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.message}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:es(e.created_at)})]}),!e.is_read&&(0,a.jsx)("div",{className:"h-2 w-2 rounded-full bg-blue-500 mt-2"})]})},e.id))})}),e.length>0&&(0,a.jsx)("div",{className:"px-4 py-2 border-t text-center",children:(0,a.jsx)(c.z,{variant:"ghost",size:"sm",className:"text-xs text-gray-500",onClick:()=>d(!1),children:"Cerrar"})})]})]})}function ea(){var e,s,t,c,d,o,x,m;let u=(0,r.useRouter)(),{formatPrice:g,symbol:h}=(0,i.U)(),[p,b]=(0,l.useState)("dashboard"),[j,y]=(0,l.useState)("liquidaciones"),[N,f]=(0,l.useState)(null),[v,D]=(0,l.useState)([]),[w,C]=(0,l.useState)(null),[k,E]=(0,l.useState)(null),[S,A]=(0,l.useState)([]),[I,R]=(0,l.useState)(null),[F,B]=(0,l.useState)({kycCompleted:!1,needsKyc:!1,applicationStatus:"PENDING"}),[O,M]=(0,l.useState)({forecasts:!0,affiliate:!1}),[z,q]=(0,l.useState)(!0),[U,_]=(0,l.useState)(!1),[V,Z]=(0,l.useState)(null),[G,Y]=(0,l.useState)(!1),[K,W]=(0,l.useState)({title:"",description:"",priceCents:"",billingType:"ONE_TIME",subscriptionInterval:"MONTHLY",telegramChannelId:"",active:!0}),[J,$]=(0,l.useState)(!1),[Q,X]=(0,l.useState)(""),[ee,es]=(0,l.useState)([]),[ea,el]=(0,l.useState)(!1),[er,en]=(0,l.useState)(!1),[ei,ec]=(0,l.useState)(""),[ed,eo]=(0,l.useState)("name"),[ex,em]=(0,l.useState)(!1),[eu,eg]=(0,l.useState)(""),[eh,ep]=(0,l.useState)(""),[eb,ej]=(0,l.useState)({channelId:"",channelTitle:"",channelType:"private",inviteLink:""}),[ey,eN]=(0,l.useState)(!1),[ef,ev]=(0,l.useState)(null),[eD,ew]=(0,l.useState)(!1),[eC,ek]=(0,l.useState)(null),[eE,eS]=(0,l.useState)(!1),[eA,eT]=(0,l.useState)(!1),[eP,eI]=(0,l.useState)(""),[eL,eR]=(0,l.useState)(""),[eF,eB]=(0,l.useState)(null),[eO,eM]=(0,l.useState)(""),[ez,eq]=(0,l.useState)(!1),[eU,e_]=(0,l.useState)({configured:!1,pending:!1,channelId:null,channelTitle:null,channelUsername:null}),[eH,eV]=(0,l.useState)(null),[eZ,eG]=(0,l.useState)(""),[eY,eK]=(0,l.useState)(""),[eW,eJ]=(0,l.useState)(!1),[e$,eQ]=(0,l.useState)(""),[eX,e0]=(0,l.useState)(null),[e2,e1]=(0,l.useState)([]),[e5,e4]=(0,l.useState)(!1),[e3,e6]=(0,l.useState)(!1),[e8,e7]=(0,l.useState)(null),[e9,se]=(0,l.useState)({subject:"",message:""}),[ss,st]=(0,l.useState)(""),[sa,sl]=(0,l.useState)(!1),[sr,sn]=(0,l.useState)([]),[si,sc]=(0,l.useState)(!1),[sd,so]=(0,l.useState)(!1),[sx,sm]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{if(await new Promise(e=>setTimeout(e,50)),!localStorage.getItem("access_token")){u.push("/login");return}su()})()},[]);let su=async()=>{try{try{let e=await n.g8.getMe();f(e.data),console.log("Loaded user profile:",e.data)}catch(e){console.error("Error loading user profile:",e)}try{let e=await n.fi.getMy();D(e.data)}catch(e){console.error("Error loading products:",e)}try{let e=await n.Q4.getMetrics();C(e.data)}catch(e){console.error("Error loading metrics:",e),C({clicks:0,registers:0,ftds:0,deposits:0,totalDeposits:0,conversionRate:0})}try{let e=await n.$z.channels.getAll();es(e.data.channels||[])}catch(e){console.error("Error loading Telegram channels:",e)}try{let e=await n.$z.getChannelInfo();e.data.connected&&(eS(!0),ek(e.data.channel)),e.data.premiumChannelLink&&eM(e.data.premiumChannelLink)}catch(e){console.error("Error loading Telegram info:",e)}try{let e=await n.$z.publicationChannel.get();console.log("Loaded publication channel:",e.data),e_(e.data)}catch(e){console.error("Error loading publication channel:",e)}try{let e=await n.kn.getMyStats();E(e.data)}catch(e){console.error("Error loading sales stats:",e),E({totalSales:0,totalEarningsCents:0,currency:"EUR"})}try{let e=await n.kn.getMySales();A(e.data.slice(0,10))}catch(e){console.error("Error loading recent sales:",e),A([])}try{let e=await n.lY.getAll();R(e.data)}catch(e){console.error("Error loading settlements:",e)}try{let e=await n.wT.getMyModules();e.data.modules&&M(e.data.modules)}catch(e){console.error("Error loading modules:",e)}try{let e=await n.bs.getKycStatus();B(e.data),console.log("Loaded KYC status:",e.data)}catch(e){console.error("Error loading KYC status:",e)}}catch(e){console.error("Error loading dashboard:",e)}finally{q(!1)}},sg=async()=>{try{let e=await n.bs.getKycStatus();B(e.data),b("dashboard")}catch(e){console.error("Error reloading KYC status:",e)}},sh=async()=>{e4(!0);try{let e=await fetch("".concat("https://apifix-2.preview.emergentagent.com/api","/tickets/my"),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))}}),s=await e.json();e1(s.tickets||[])}catch(e){console.error("Error loading tickets:",e)}finally{e4(!1)}},sp=async()=>{if(e9.subject.trim()&&e9.message.trim()){sl(!0);try{let e=[];if(sr.length>0){let s=new FormData;sr.forEach(e=>{s.append("files",e)});try{let t=await fetch("".concat("https://apifix-2.preview.emergentagent.com/api","/upload/tickets"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("access_token"))},body:s});t.ok&&(e=(await t.json()).urls||[])}catch(e){console.error("Error uploading attachments:",e)}}(await fetch("".concat("https://apifix-2.preview.emergentagent.com/api","/tickets"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access_token"))},body:JSON.stringify({...e9,attachments:e})})).ok&&(se({subject:"",message:""}),sn([]),e6(!1),await sh(),alert("✅ Ticket creado exitosamente"))}catch(e){console.error("Error creating ticket:",e),alert("Error al crear el ticket")}finally{sl(!1)}}},sb=async()=>{if(e8&&ss.trim()){sl(!0);try{await fetch("".concat("https://apifix-2.preview.emergentagent.com/api","/tickets/").concat(e8.id,"/reply"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("access_token"))},body:JSON.stringify({message:ss})}),st(""),await sh();let e=e2.find(e=>e.id===e8.id);e&&e7(e)}catch(e){console.error("Error replying to ticket:",e)}finally{sl(!1)}}};(0,l.useEffect)(()=>{"support"===p&&sh()},[p]);let sj=async()=>{try{await n.iJ.logout(),localStorage.removeItem("access_token"),u.push("/")}catch(e){console.error("Error logging out:",e),localStorage.removeItem("access_token"),u.push("/")}},sy=async()=>{if(!ei.trim()){eg("Por favor, ingresa el nombre de tu canal");return}em(!0),eg("");try{let e=await n.$z.channels.connectByName(ei.trim());if(e.data.success){let e=await n.$z.channels.getAll();es(e.data.channels||[]),en(!1),ec(""),alert("✅ Canal conectado correctamente")}else eg(e.data.message||"No se pudo conectar el canal.")}catch(t){var e,s;eg((null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Error al conectar el canal")}finally{em(!1)}},sN=async e=>{if(confirm("\xbfEst\xe1s seguro de que deseas desconectar este canal?"))try{await n.$z.channels.delete(e),es(s=>s.filter(s=>s.id!==e)),alert("Canal desconectado")}catch(e){var s,t;alert("Error al desconectar el canal: "+((null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"Error desconocido"))}},sf=async e=>{try{let s=await n.$z.channels.generateInviteLink(e);if(s.data.success){let e=await n.$z.channels.getAll();es(e.data.channels||[]),alert("✅ Enlace de invitaci\xf3n generado: "+s.data.inviteLink)}else alert("Error: "+(s.data.error||"No se pudo generar el enlace"))}catch(e){var s,t;alert("Error: "+((null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"Error al generar enlace"))}},sv=async()=>{if(sx){so(!1),eB(sx.id);try{let e=await n.$z.publishProduct(sx.id);console.log("Publish response:",e.data),e.data.success?alert("✅ \xa1Publicado! Tu producto ya est\xe1 en tu canal de Telegram"):alert("❌ "+(e.data.message||"Error al publicar"))}catch(t){var e,s;console.error("Publish error:",t),alert("❌ Error: "+((null===(s=t.response)||void 0===s?void 0:null===(e=s.data)||void 0===e?void 0:e.message)||"Error al publicar en Telegram"))}finally{eB(null),sm(null)}}},sD=()=>{so(!1),sm(null)};(0,l.useEffect)(()=>()=>{eX&&clearInterval(eX)},[eX]);let sw=()=>{Z(null),W({title:"",description:"",priceCents:"",billingType:"ONE_TIME",subscriptionInterval:"MONTHLY",telegramChannelId:"",active:!0}),X(""),_(!0)},sC=e=>{var s;Z(e),W({title:e.title||"",description:e.description||"",priceCents:e.priceCents?(e.priceCents/100).toString():"",billingType:e.billingType||"ONE_TIME",subscriptionInterval:e.billingPeriod||"MONTHLY",telegramChannelId:e.telegramChannelId||"",active:null===(s=e.active)||void 0===s||s}),X(""),_(!0)},sk=e=>{Z(e),Y(!0)},sE=async()=>{var e,s,t;try{if(!K.title.trim()){X("El t\xedtulo es obligatorio");return}let s=parseFloat(K.priceCents);if(isNaN(s)||s<0){X("El precio debe ser un n\xfamero v\xe1lido mayor o igual a 0");return}$(!0),X("");let t={title:K.title.trim(),description:K.description.trim()||void 0,priceCents:Math.round(100*s),billingType:K.billingType,billingPeriod:"SUBSCRIPTION"===K.billingType?K.subscriptionInterval:void 0,telegramChannelId:K.telegramChannelId||void 0,currency:"EUR"};if(V)await n.fi.update(V.id,t),K.active!==V.active&&(K.active?await n.fi.publish(V.id):await n.fi.pause(V.id));else{let s=await n.fi.create(t);K.active&&(null===(e=s.data)||void 0===e?void 0:e.id)&&await n.fi.publish(s.data.id)}await su(),sS()}catch(e){console.error("Error saving product:",e),X((null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"Error al guardar el producto. Por favor, intenta de nuevo.")}finally{$(!1)}},sS=()=>{_(!1),Y(!1),Z(null),X("")},sA=e=>{let s=ee.find(s=>s.channelId===e);return s?s.channelTitle:e};return z?(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("aside",{className:"fixed top-0 left-0 w-64 h-full bg-white border-r border-gray-200",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600 mb-8",children:"Antia"}),(0,a.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:(null==N?void 0:null===(e=N.tipsterProfile)||void 0===e?void 0:e.publicName)||(null==N?void 0:N.email)||"Cargando..."}),(0,a.jsxs)("div",{className:"text-xs text-gray-400",children:["#",(null==N?void 0:null===(t=N.tipsterProfile)||void 0===t?void 0:null===(s=t.id)||void 0===s?void 0:s.slice(-4))||"----"]})]}),(0,a.jsxs)("nav",{className:"space-y-2",children:[(0,a.jsx)("button",{onClick:()=>b("dashboard"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("dashboard"===p?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:"Dashboard"}),O.forecasts&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>b("products"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("products"===p?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:"\uD83C\uDFAF Mis Productos"}),(0,a.jsx)("button",{onClick:()=>b("telegram"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("telegram"===p?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:(0,a.jsxs)("span",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"\uD83D\uDCF1 Telegram"}),ee.length>0&&(0,a.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:ee.length})]})})]}),O.affiliate&&(0,a.jsx)("button",{onClick:()=>b("referrals"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("referrals"===p?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:"\uD83E\uDD1D Afiliaci\xf3n"}),(0,a.jsx)("button",{onClick:()=>b("payouts"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("payouts"===p?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:(0,a.jsxs)("span",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"\uD83D\uDCB5 Liquidaciones"}),((null==k?void 0:k.netEarningsCents)||0)>0&&(0,a.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:g((null==k?void 0:k.netEarningsCents)||0)})]})}),F.needsKyc&&(0,a.jsx)("button",{onClick:()=>b("kyc"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("kyc"===p?"bg-orange-50 text-orange-600 font-medium":"text-orange-600 hover:bg-orange-50 animate-pulse"),children:(0,a.jsxs)("span",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"\uD83C\uDFE6 Datos de Cobro"}),(0,a.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-orange-100 text-orange-800",children:"Pendiente"})]})}),(0,a.jsx)("button",{onClick:()=>b("profile"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("profile"===p?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:"⚙️ Perfil"}),(0,a.jsx)("button",{onClick:()=>b("support"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("support"===p?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:"❓ Soporte"}),(0,a.jsx)("button",{onClick:sj,className:"w-full text-left px-4 py-2 rounded-lg text-red-600 hover:bg-red-50",children:"\uD83D\uDEAA Cerrar Sesi\xf3n"})]})]})}),(0,a.jsxs)("main",{className:"ml-64 p-8",children:[(0,a.jsxs)("div",{className:"fixed top-4 right-8 z-50 flex items-center gap-3",children:[(0,a.jsx)(et,{}),(0,a.jsx)(P.Z,{variant:"pill"})]}),F.needsKyc&&"kyc"!==p&&(0,a.jsx)(L,{onComplete:()=>b("kyc")}),"kyc"===p&&(0,a.jsx)(H,{onComplete:sg,onCancel:()=>b("dashboard"),initialData:F.kycData}),"dashboard"===p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Hola ",(null==N?void 0:null===(d=N.tipsterProfile)||void 0===d?void 0:null===(c=d.publicName)||void 0===c?void 0:c.split(" ")[0])||"Tipster",", Bienvenido de nuevo!"]}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Aqu\xed est\xe1 un resumen de tu actividad"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 ".concat(O.forecasts?"lg:grid-cols-4":"lg:grid-cols-3"," gap-6 mb-8"),children:[O.forecasts&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-blue-100",children:[(0,a.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"\uD83D\uDCB0 Ingresos Brutos"})}),(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:g((null==k?void 0:k.grossEarningsCents)||(null==k?void 0:k.totalEarningsCents)||0)}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Total facturado este mes"})]}),O.forecasts&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCB5 Ventas"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:(null==k?void 0:k.totalSales)||0}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Total de ventas"})]}),O.forecasts&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCE6 Productos"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:v.length}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[v.filter(e=>e.active).length," activos"]})]}),O.affiliate&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-purple-100",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83E\uDD1D Ganancias Afiliaci\xf3n"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:g((null==w?void 0:w.totalEarnings)||0)}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Comisiones pendientes"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDC65 Referidos FTD"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:(null==w?void 0:w.ftds)||0}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"First Time Deposits"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCC5 Pr\xf3xima Liquidaci\xf3n"}),(0,a.jsx)("div",{className:"text-xl font-bold text-gray-900",children:(()=>{let e=new Date,s=e.getDay(),t=new Date(e);return t.setDate(e.getDate()+((7-s)%7||7)),t.toLocaleDateString("es-ES",{day:"numeric",month:"short"})})()}),(0,a.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:(0,a.jsx)("button",{onClick:()=>b("payouts"),className:"text-blue-600 hover:underline",children:"Ver liquidaciones →"})})]})]}),O.forecasts&&(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Mis Productos"}),(0,a.jsx)("button",{onClick:sw,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm",children:"+ Crear Producto"})]}),(0,a.jsx)("div",{className:"p-6",children:0===v.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No tienes productos a\xfan"}),(0,a.jsx)("button",{onClick:sw,className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Crear tu primer producto"})]}):(0,a.jsx)("div",{className:"space-y-4",children:v.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-green-600",children:g(e.priceCents)}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(e.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"),children:e.active?"Activo":"Pausado"}),e.telegramChannelId&&(0,a.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-blue-50 text-blue-700",children:["\uD83D\uDCF1 ",sA(e.telegramChannelId)]})]})]}),(0,a.jsx)("button",{onClick:()=>sk(e),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Ver"})]},e.id))})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Ventas Recientes"})}),(0,a.jsx)("div",{className:"p-6",children:0===S.length?(0,a.jsx)("div",{className:"text-center py-8",children:(0,a.jsx)("p",{className:"text-gray-500",children:"No hay ventas a\xfan"})}):(0,a.jsx)("div",{className:"space-y-4",children:S.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-gray-900",children:e.productTitle||"Producto"}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.emailBackup||"Cliente"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("p",{className:"font-medium text-green-600",children:g(e.amountCents||0)}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString("es-ES")})]})]},e.id))})})]})]}),O.affiliate&&!O.forecasts&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83E\uDD1D Resumen de Afiliaci\xf3n"})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Clics"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:(null==w?void 0:w.clicks)||0})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Registros"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:(null==w?void 0:w.registers)||0})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"FTDs"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:(null==w?void 0:w.ftds)||0})]})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)("button",{onClick:()=>b("referrals"),className:"text-purple-600 hover:underline",children:"Ver detalle de afiliaci\xf3n →"})})]})]})]}),"products"===p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Productos"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Gestiona tus pron\xf3sticos y suscripciones"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Lista de Productos"}),(0,a.jsx)("button",{onClick:sw,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm font-medium",children:"+ Crear Producto"})]})}),(0,a.jsx)("div",{className:"p-6",children:0===v.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No tienes productos a\xfan"}),(0,a.jsx)("button",{onClick:sw,className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Crear tu primer producto"})]}):(0,a.jsx)("div",{className:"space-y-4",children:v.map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-green-600",children:["€",(e.priceCents/100).toFixed(2)]}),(0,a.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(e.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"),children:e.active?"Activo":"Pausado"}),(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"SUBSCRIPTION"===e.billingType?"Suscripci\xf3n":"Pago \xfanico"}),e.telegramChannelId&&(0,a.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-blue-50 text-blue-700",children:["\uD83D\uDCF1 ",sA(e.telegramChannelId)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>{let s="".concat(window.location.origin,"/checkout/").concat(e.id),t="\uD83D\uDD25 ".concat(e.title,"\n\n").concat(e.description||"","\n\n\uD83D\uDCB0 Precio: €").concat((e.priceCents/100).toFixed(2),"\n\n\uD83D\uDC49 Comprar aqu\xed: ").concat(s);navigator.clipboard.writeText(t),alert("✅ Texto copiado al portapapeles!\n\nP\xe9galo en tu canal de Telegram, Instagram, o donde quieras.")},className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm flex items-center gap-2 hover:bg-green-700",title:"Copiar link de checkout con texto sugerido",children:"\uD83D\uDCCB Copiar Link"}),(0,a.jsx)("button",{onClick:()=>sC(e),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Editar"}),(0,a.jsx)("button",{onClick:()=>sk(e),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Ver"})]})]}),(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-xs text-green-600 font-medium mb-1",children:"\uD83D\uDCB3 Link de Pago Directo (para tu canal)"}),(0,a.jsxs)("code",{className:"text-xs text-green-800 bg-white px-2 py-1 rounded border border-green-200 block truncate",children:[window.location.origin,"/checkout/",e.id]})]}),(0,a.jsx)("button",{onClick:()=>{let s=window.location.origin;navigator.clipboard.writeText("".concat(s,"/checkout/").concat(e.id)),alert("✅ Link de checkout copiado")},className:"flex-shrink-0 px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:"\uD83D\uDCCB Copiar"})]}),(0,a.jsx)("p",{className:"text-xs text-green-700 mt-2",children:"\uD83D\uDCE2 Publica este link en tu canal. El cliente paga y autom\xe1ticamente recibe acceso via Telegram."})]})]},e.id))})})]})]}),"telegram"===p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83D\uDCF1 Canal Premium"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Conecta tu canal privado donde los clientes recibir\xe1n acceso despu\xe9s de pagar"})]}),(0,a.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl shadow-sm overflow-hidden mb-8",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-100",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"C\xf3mo conectar tu canal de Telegram"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Sigue estos 4 pasos simples"})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-5",children:[(0,a.jsx)("span",{className:"inline-flex items-center justify-center px-3 py-1 bg-gray-900 text-white text-xs font-bold rounded-full mb-4",children:"Paso 01"}),(0,a.jsx)("div",{className:"w-14 h-14 bg-white rounded-2xl shadow-sm flex items-center justify-center mb-4",children:(0,a.jsx)("svg",{className:"w-7 h-7 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Crea tu canal privado"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Abre Telegram y crea un nuevo canal privado."}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-[10px] font-bold",children:"1"}),(0,a.jsx)("span",{children:"Abre Telegram"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-[10px] font-bold",children:"2"}),(0,a.jsx)("span",{children:'Toca "Nuevo Canal"'})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-[10px] font-bold",children:"3"}),(0,a.jsx)("span",{children:'Selecciona "Privado"'})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-5",children:[(0,a.jsx)("span",{className:"inline-flex items-center justify-center px-3 py-1 bg-gray-900 text-white text-xs font-bold rounded-full mb-4",children:"Paso 02"}),(0,a.jsx)("div",{className:"w-14 h-14 bg-white rounded-2xl shadow-sm flex items-center justify-center mb-4",children:(0,a.jsx)("svg",{className:"w-7 h-7 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"A\xf1ade el bot"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Agrega @Antiabetbot como administrador."}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-[10px] font-bold",children:"1"}),(0,a.jsx)("span",{children:'Ve a "Administradores"'})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-[10px] font-bold",children:"2"}),(0,a.jsx)("span",{children:"Busca @Antiabetbot"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-[10px] font-bold",children:"3"}),(0,a.jsx)("span",{children:"Dale los permisos"})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-5",children:[(0,a.jsx)("span",{className:"inline-flex items-center justify-center px-3 py-1 bg-gray-900 text-white text-xs font-bold rounded-full mb-4",children:"Paso 03"}),(0,a.jsx)("div",{className:"w-14 h-14 bg-white rounded-2xl shadow-sm flex items-center justify-center mb-4",children:(0,a.jsxs)("svg",{className:"w-7 h-7 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"Conecta aqu\xed"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Escribe el nombre de tu canal abajo."}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-[10px] font-bold",children:"1"}),(0,a.jsx)("span",{children:'Clic en "A\xf1adir Canal"'})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-[10px] font-bold",children:"2"}),(0,a.jsx)("span",{children:"Escribe el nombre"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-[10px] font-bold",children:"3"}),(0,a.jsx)("span",{children:'Pulsa "Conectar"'})]})]})]}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-2xl p-5",children:[(0,a.jsx)("span",{className:"inline-flex items-center justify-center px-3 py-1 bg-gray-900 text-white text-xs font-bold rounded-full mb-4",children:"Paso 04"}),(0,a.jsx)("div",{className:"w-14 h-14 bg-white rounded-2xl shadow-sm flex items-center justify-center mb-4",children:(0,a.jsx)("svg",{className:"w-7 h-7 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("h4",{className:"font-semibold text-gray-900 mb-2",children:"\xa1Listo!"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Tus clientes reciben acceso autom\xe1tico."}),(0,a.jsxs)("ul",{className:"space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-[10px] font-bold",children:"✓"}),(0,a.jsx)("span",{children:"Acceso autom\xe1tico tras compra"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-[10px] font-bold",children:"✓"}),(0,a.jsx)("span",{children:"Publica tus pron\xf3sticos"})]}),(0,a.jsxs)("li",{className:"flex items-start gap-2 text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"flex-shrink-0 w-5 h-5 bg-green-100 text-green-600 rounded-full flex items-center justify-center text-[10px] font-bold",children:"✓"}),(0,a.jsx)("span",{children:"Sin trabajo manual"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 rounded-xl flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm text-blue-800",children:"Bot de Telegram"}),(0,a.jsx)("p",{className:"font-mono font-bold text-blue-900",children:"@Antiabetbot"})]})]}),(0,a.jsx)("button",{onClick:()=>{navigator.clipboard.writeText("@Antiabetbot")},className:"px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Copiar nombre del bot"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["\uD83D\uDD12 Canales Premium",(0,a.jsx)("span",{className:"text-xs font-normal px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:"Para clientes"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Estos son los canales privados donde tus clientes reciben acceso despu\xe9s de comprar."})]}),(0,a.jsx)("button",{onClick:()=>en(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm font-medium",children:"+ A\xf1adir Canal"})]}),0===ee.length?(0,a.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-lg",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF1"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No tienes canales conectados"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:'Sigue la gu\xeda de arriba y luego haz clic en "A\xf1adir Canal"'}),(0,a.jsx)("button",{onClick:()=>en(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"A\xf1adir mi primer canal"})]}):(0,a.jsx)("div",{className:"space-y-4",children:ee.map(e=>(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center ".concat("public"===e.channelType?"bg-green-100":"bg-blue-100"),children:(0,a.jsx)("span",{className:"text-2xl",children:"public"===e.channelType?"\uD83C\uDF10":"\uD83D\uDD12"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.channelTitle}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-500",children:[e.channelName&&(0,a.jsxs)("span",{children:["@",e.channelName]}),(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs ".concat("public"===e.channelType?"bg-green-50 text-green-700":"bg-blue-50 text-blue-700"),children:"public"===e.channelType?"P\xfablico":"Privado"}),e.memberCount&&(0,a.jsxs)("span",{children:[e.memberCount," miembros"]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["ID: ",e.channelId," • Conectado: ",new Date(e.connectedAt).toLocaleDateString("es-ES")]}),e.inviteLink&&(0,a.jsxs)("div",{className:"mt-2",children:[(0,a.jsx)("span",{className:"text-xs text-gray-500",children:"Enlace: "}),(0,a.jsx)("a",{href:e.inviteLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:e.inviteLink})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["private"===e.channelType&&(0,a.jsx)("button",{onClick:()=>sf(e.id),className:"px-3 py-1.5 text-xs border border-gray-300 rounded hover:bg-gray-50",title:"Generar enlace de invitaci\xf3n",children:"\uD83D\uDD17 Generar Link"}),(0,a.jsx)("button",{onClick:()=>sN(e.id),className:"px-3 py-1.5 text-xs text-red-600 border border-red-300 rounded hover:bg-red-50",children:"Desconectar"})]})]})},e.id))})]})]}),"referrals"===p&&(0,a.jsx)(T,{}),"payouts"===p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83D\uDCB5 Liquidaciones"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Gestiona tus ingresos y pagos"})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow mb-6",children:(0,a.jsx)("div",{className:"border-b border-gray-200",children:(0,a.jsxs)("nav",{className:"flex -mb-px",children:[(0,a.jsx)("button",{onClick:()=>y("liquidaciones"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("liquidaciones"===j?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCCA Liquidaciones"}),(0,a.jsx)("button",{onClick:()=>y("facturas"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("facturas"===j?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCC4 Facturas"}),(0,a.jsx)("button",{onClick:()=>y("pagos"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("pagos"===j?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCB3 Pagos Recibidos"})]})})}),"liquidaciones"===j&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Balance Pendiente"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:g((null==k?void 0:k.netEarningsCents)||0)}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Pr\xf3xima liquidaci\xf3n: Domingo"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Total Liquidado (Hist\xf3rico)"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-green-600",children:"€0.00"}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Desde el inicio"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Pr\xf3xima Liquidaci\xf3n"}),(0,a.jsx)("div",{className:"text-xl font-bold text-gray-900",children:(()=>{let e=new Date,s=e.getDay(),t=new Date(e);return t.setDate(e.getDate()+((7-s)%7||7)),t.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})()}),(0,a.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Pron\xf3sticos: cada 7 d\xedas"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCA Desglose del Per\xedodo Actual"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Detalle de comisiones y neto a recibir"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsx)("table",{className:"w-full",children:(0,a.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"py-4 text-gray-600",children:"Ingresos Brutos"}),(0,a.jsx)("td",{className:"py-4 text-right font-semibold text-gray-900",children:g((null==k?void 0:k.grossEarningsCents)||0)})]}),(0,a.jsxs)("tr",{className:"bg-red-50",children:[(0,a.jsx)("td",{className:"py-4 text-gray-600",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-red-500",children:"−"}),"Comisi\xf3n Pasarela (Stripe/Redsys)"]})}),(0,a.jsxs)("td",{className:"py-4 text-right font-semibold text-red-600",children:["-",g((null==k?void 0:k.gatewayFeesCents)||0)]})]}),(0,a.jsxs)("tr",{className:"bg-orange-50",children:[(0,a.jsx)("td",{className:"py-4 text-gray-600",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-orange-500",children:"−"}),"Comisi\xf3n Antia (Plataforma)"]})}),(0,a.jsxs)("td",{className:"py-4 text-right font-semibold text-orange-600",children:["-",g((null==k?void 0:k.platformFeesCents)||0)]})]}),(0,a.jsxs)("tr",{className:"bg-green-50 border-t-2 border-green-200",children:[(0,a.jsx)("td",{className:"py-4 text-gray-900 font-semibold",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-green-600",children:"="}),"Neto a Recibir"]})}),(0,a.jsx)("td",{className:"py-4 text-right font-bold text-green-600 text-xl",children:g((null==k?void 0:k.netEarningsCents)||0)})]})]})})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xl",children:"\uD83C\uDFAF"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Pron\xf3sticos"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Venta de productos"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Frecuencia"}),(0,a.jsx)("span",{className:"font-medium",children:"Cada 7 d\xedas"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Comisi\xf3n Antia"}),(0,a.jsx)("span",{className:"font-medium text-orange-600",children:"10% (7% alto volumen)"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Pendiente"}),(0,a.jsx)("span",{className:"font-bold text-blue-600",children:g((null==k?void 0:k.netEarningsCents)||0)})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-xl",children:"\uD83E\uDD1D"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Afiliaci\xf3n"}),(0,a.jsx)("p",{className:"text-xs text-gray-500",children:"Casas de apuestas"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Frecuencia"}),(0,a.jsx)("span",{className:"font-medium",children:"1 vez al mes"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Comisi\xf3n Antia"}),(0,a.jsx)("span",{className:"font-medium text-green-600",children:"Sin comisi\xf3n"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Pendiente"}),(0,a.jsx)("span",{className:"font-bold text-purple-600",children:"€0.00"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCB Historial de Liquidaciones"})}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCED"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No hay liquidaciones procesadas a\xfan"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Tu primera liquidaci\xf3n se procesar\xe1 el pr\xf3ximo domingo"})]})})]})]}),"facturas"===j&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCC4 Facturas"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Descarga tus facturas de liquidaci\xf3n"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC4"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No hay facturas disponibles"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Las facturas se generan autom\xe1ticamente con cada liquidaci\xf3n"})]})})]}),"pagos"===j&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCB3 Pagos Recibidos"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Historial de transferencias a tu cuenta"})]}),(0,a.jsx)("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCB8"}),(0,a.jsx)("p",{className:"text-gray-500",children:"No hay pagos recibidos a\xfan"}),(0,a.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Aqu\xed ver\xe1s el historial de pagos realizados a tu cuenta bancaria"})]})})]})]}),"profile"===p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Mi Perfil"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Configuraci\xf3n de tu cuenta"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Informaci\xf3n Personal"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre P\xfablico"}),(0,a.jsx)("input",{type:"text",value:(null==N?void 0:null===(o=N.tipsterProfile)||void 0===o?void 0:o.publicName)||"",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,a.jsx)("input",{type:"email",value:(null==N?void 0:N.email)||"",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tel\xe9fono"}),(0,a.jsx)("input",{type:"text",value:(null==N?void 0:N.phone)||"No configurado",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario de Telegram"}),(0,a.jsx)("input",{type:"text",value:(null==N?void 0:null===(x=N.tipsterProfile)||void 0===x?void 0:x.telegramUsername)||"No configurado",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado de la cuenta"}),(0,a.jsx)("span",{className:"inline-flex px-3 py-1 rounded-full text-sm font-medium ".concat((null==N?void 0:N.status)==="ACTIVE"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:(null==N?void 0:N.status)==="ACTIVE"?"✓ Activa":null==N?void 0:N.status})]}),(0,a.jsx)("div",{className:"pt-4 border-t",children:(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Para modificar tu informaci\xf3n de perfil, contacta con el administrador."})})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83C\uDFE6 Datos de Cobro"}),F.kycCompleted?(0,a.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"✓ Completo"}):(0,a.jsx)("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:"Pendiente"})]}),F.kycCompleted&&F.kycData?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre/Raz\xf3n Social"}),(0,a.jsx)("input",{type:"text",value:F.kycData.legalName||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Documento"}),(0,a.jsx)("input",{type:"text",value:F.kycData.documentType||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xfamero"}),(0,a.jsx)("input",{type:"text",value:F.kycData.documentNumber||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pa\xeds"}),(0,a.jsx)("input",{type:"text",value:F.kycData.country||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M\xe9todo de Cobro"}),(0,a.jsx)("input",{type:"text",value:F.kycData.bankAccountType||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,a.jsx)("div",{className:"pt-4 border-t",children:(0,a.jsx)("button",{onClick:()=>b("kyc"),className:"w-full px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 font-medium transition",children:"✏️ Modificar Datos de Cobro"})})]}):(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCCB"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Datos no configurados"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Completa tus datos de cobro para poder recibir tus ganancias"}),(0,a.jsx)("button",{onClick:()=>b("kyc"),className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium transition",children:"Completar Ahora"})]})]})]})]}),"support"===p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"❓ Soporte"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Centro de ayuda y tickets de soporte"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"lg:col-span-1",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"\uD83D\uDCDD Nuevo Ticket"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asunto *"}),(0,a.jsx)("input",{type:"text",value:e9.subject,onChange:e=>se({...e9,subject:e.target.value}),placeholder:"Describe brevemente tu problema",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje *"}),(0,a.jsx)("textarea",{value:e9.message,onChange:e=>se({...e9,message:e.target.value}),placeholder:"Explica tu problema con detalle...",rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adjuntar archivos (opcional)"}),(0,a.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition cursor-pointer",onClick:()=>{var e;return null===(e=document.getElementById("ticket-file-input"))||void 0===e?void 0:e.click()},children:[(0,a.jsx)("input",{id:"ticket-file-input",type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx",className:"hidden",onChange:e=>{let s=Array.from(e.target.files||[]);sn(e=>[...e,...s].slice(0,5))}}),(0,a.jsxs)("div",{className:"text-gray-500",children:[(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCCE"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Haz clic para adjuntar capturas o documentos"}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"M\xe1x. 5 archivos (im\xe1genes, PDF, DOC)"})]})]}),sr.length>0&&(0,a.jsx)("div",{className:"mt-3 space-y-2",children:sr.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg px-3 py-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("span",{children:e.type.startsWith("image/")?"\uD83D\uDDBC️":"\uD83D\uDCC4"}),(0,a.jsx)("span",{className:"truncate max-w-[150px]",children:e.name}),(0,a.jsxs)("span",{className:"text-gray-400 text-xs",children:["(",(e.size/1024).toFixed(1)," KB)"]})]}),(0,a.jsx)("button",{onClick:()=>sn(e=>e.filter((e,t)=>t!==s)),className:"text-red-500 hover:text-red-700 text-sm",children:"✕"})]},s))})]}),(0,a.jsx)("button",{onClick:sp,disabled:!e9.subject.trim()||!e9.message.trim()||sa,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition disabled:opacity-50 disabled:cursor-not-allowed",children:sa?"Enviando...":"Enviar Ticket"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"❓ Preguntas Frecuentes"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("details",{className:"group",children:[(0,a.jsx)("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 hover:text-blue-600",children:"\xbfC\xf3mo conecto mi canal de Telegram?"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600 pl-4",children:"Ve a la secci\xf3n Telegram, a\xf1ade @Antiabetbot como admin de tu canal y luego conecta el canal desde el panel."})]}),(0,a.jsxs)("details",{className:"group",children:[(0,a.jsx)("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 hover:text-blue-600",children:"\xbfCu\xe1ndo recibo mis pagos?"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600 pl-4",children:"Las liquidaciones se procesan el d\xeda 28 de cada mes. Aseg\xfarate de tener tus datos de cobro completos."})]}),(0,a.jsxs)("details",{className:"group",children:[(0,a.jsx)("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 hover:text-blue-600",children:"\xbfC\xf3mo creo un producto sin canal?"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-gray-600 pl-4",children:'Al crear un producto, selecciona "Sin canal" en la opci\xf3n de canal. Los clientes recibir\xe1n confirmaci\xf3n por email.'})]})]})]})]}),(0,a.jsxs)("div",{className:"lg:col-span-2",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCB Mis Tickets"})}),e5?(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-2 text-gray-500",children:"Cargando tickets..."})]}):0===e2.length?(0,a.jsxs)("div",{className:"p-8 text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCED"})}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tienes tickets"}),(0,a.jsx)("p",{className:"text-gray-500 text-sm",children:"Cuando crees un ticket, aparecer\xe1 aqu\xed"})]}):(0,a.jsx)("div",{className:"divide-y divide-gray-200",children:e2.map(e=>{var s,t,l;return(0,a.jsx)("div",{className:"p-4 hover:bg-gray-50 cursor-pointer transition ".concat((null==e8?void 0:e8.id)===e.id?"bg-blue-50":""),onClick:()=>e7(e),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("h4",{className:"font-medium text-gray-900",children:e.subject}),(0,a.jsx)("span",{className:"px-2 py-0.5 rounded-full text-xs font-medium ".concat("OPEN"===e.status?"bg-yellow-100 text-yellow-800":"IN_PROGRESS"===e.status?"bg-blue-100 text-blue-800":"RESOLVED"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:"OPEN"===e.status?"Abierto":"IN_PROGRESS"===e.status?"En proceso":"RESOLVED"===e.status?"Resuelto":e.status})]}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:(null===(t=e.messages)||void 0===t?void 0:null===(s=t[0])||void 0===s?void 0:s.message)||e.message}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Creado: ",new Date(e.createdAt).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),(0,a.jsx)("div",{className:"ml-4",children:(null===(l=e.responses)||void 0===l?void 0:l.length)>0&&(0,a.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:[e.responses.length+1," mensajes"]})})]})},e.id)})})]}),e8&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow mt-6",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-bold text-gray-900",children:e8.subject}),(0,a.jsx)("span",{className:"inline-flex px-2 py-0.5 rounded-full text-xs font-medium mt-1 ".concat("OPEN"===e8.status?"bg-yellow-100 text-yellow-800":"IN_PROGRESS"===e8.status?"bg-blue-100 text-blue-800":"RESOLVED"===e8.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:"OPEN"===e8.status?"Abierto":"IN_PROGRESS"===e8.status?"En proceso":"RESOLVED"===e8.status?"Resuelto":e8.status})]}),(0,a.jsx)("button",{onClick:()=>e7(null),className:"text-gray-400 hover:text-gray-600",children:"✕"})]})}),(0,a.jsxs)("div",{className:"p-6 max-h-80 overflow-y-auto space-y-4",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-gray-50 mr-8",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"\uD83D\uDC64 T\xfa"}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e8.createdAt).toLocaleString("es-ES")})]}),(0,a.jsx)("p",{className:"text-gray-700 text-sm",children:e8.message})]}),null===(m=e8.responses)||void 0===m?void 0:m.map((e,s)=>(0,a.jsxs)("div",{className:"p-4 rounded-lg ".concat(e.isAdmin?"bg-blue-50 ml-8":"bg-gray-50 mr-8"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium ".concat(e.isAdmin?"text-blue-600":"text-gray-700"),children:e.isAdmin?"\uD83D\uDC64 Soporte Antia":"\uD83D\uDC64 T\xfa"}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e.createdAt).toLocaleString("es-ES")})]}),(0,a.jsx)("p",{className:"text-gray-700 text-sm",children:e.message})]},s))]}),"RESOLVED"!==e8.status&&(0,a.jsx)("div",{className:"p-6 border-t border-gray-200",children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:ss,onChange:e=>st(e.target.value),placeholder:"Escribe tu respuesta...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:e=>"Enter"===e.key&&sb()}),(0,a.jsx)("button",{onClick:sb,disabled:!ss.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition disabled:opacity-50",children:"Enviar"})]})})]})]})]})]})]}),sd&&sx&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:sD,children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-14 h-14 bg-white/20 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCF1"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-bold",children:"Compartir en Telegram"}),(0,a.jsx)("p",{className:"text-green-100 text-sm",children:"Publicaci\xf3n autom\xe1tica"})]})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("p",{className:"text-gray-700 mb-4",children:"\xbfEst\xe1s seguro que quieres compartir este producto en tu canal de Telegram?"}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Producto:"}),(0,a.jsx)("p",{className:"font-semibold text-gray-900",children:sx.title})]}),(0,a.jsx)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("span",{className:"text-xl",children:"ℹ️"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,a.jsx)("strong",{children:"Se publicar\xe1 autom\xe1ticamente"})," en tu canal:"]}),(0,a.jsxs)("p",{className:"text-sm text-blue-600 font-medium mt-1",children:[eU.channelTitle," ",eU.channelUsername&&"(".concat(eU.channelUsername,")")]})]})]})})]}),(0,a.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3",children:[(0,a.jsx)("button",{onClick:sD,className:"px-5 py-2.5 border border-gray-300 rounded-lg hover:bg-gray-100 text-gray-700 font-medium transition",children:"Cancelar"}),(0,a.jsxs)("button",{onClick:sv,className:"px-5 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition flex items-center gap-2",children:[(0,a.jsx)("span",{children:"\uD83D\uDCE4"})," S\xed, Publicar Ahora"]})]})]})}),er&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>en(!1),children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Conectar Canal de Telegram"}),(0,a.jsx)("button",{onClick:()=>{en(!1),eg(""),ec("")},className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsx)("h4",{className:"font-medium text-blue-800 mb-2",children:"\uD83D\uDCCB Requisito previo:"}),(0,a.jsxs)("p",{className:"text-sm text-blue-700",children:["A\xf1ade el bot ",(0,a.jsx)("strong",{children:"@Antiabetbot"})," como ",(0,a.jsx)("strong",{children:"administrador"})," de tu canal"]})]}),eu&&(0,a.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:eu})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre del Canal ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:ei,onChange:e=>ec(e.target.value),placeholder:"Ej: Mi Canal Premium",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-lg"}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Escribe el nombre exacto de tu canal tal como aparece en Telegram"})]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end pt-4",children:[(0,a.jsx)("button",{onClick:()=>{en(!1),eg(""),ec("")},className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),(0,a.jsx)("button",{onClick:sy,disabled:ex||!ei.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:ex?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Conectando..."]}):"Conectar Canal"})]})]})]})}),U&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:sS,children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:V?"Editar Producto":"Crear Nuevo Producto"}),(0,a.jsx)("button",{onClick:sS,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("div",{className:"p-6",children:[Q&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-sm text-red-600",children:Q})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["T\xedtulo del Producto ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"text",value:K.title,onChange:e=>W({...K,title:e.target.value}),placeholder:"Ej: Pron\xf3sticos Premium Mensuales",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n"}),(0,a.jsx)("textarea",{rows:3,value:K.description,onChange:e=>W({...K,description:e.target.value}),placeholder:"Describe tu producto...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Precio (€) ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,a.jsx)("input",{type:"number",step:"0.01",min:"0",value:K.priceCents,onChange:e=>W({...K,priceCents:e.target.value}),placeholder:"29.99",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Facturaci\xf3n"}),(0,a.jsxs)("select",{value:K.billingType,onChange:e=>W({...K,billingType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"ONE_TIME",children:"Pago \xfanico"}),(0,a.jsx)("option",{value:"SUBSCRIPTION",children:"Suscripci\xf3n"})]})]}),"SUBSCRIPTION"===K.billingType&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frecuencia de Cobro"}),(0,a.jsxs)("select",{value:K.subscriptionInterval,onChange:e=>W({...K,subscriptionInterval:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"MONTHLY",children:"Mensual"}),(0,a.jsx)("option",{value:"QUARTERLY",children:"Trimestral (cada 3 meses)"}),(0,a.jsx)("option",{value:"ANNUAL",children:"Anual"})]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Si el cliente no renueva, perder\xe1 acceso autom\xe1ticamente al canal"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Canal de Telegram ",(0,a.jsx)("span",{className:"text-red-500",children:"*"})]}),0===ee.length?(0,a.jsxs)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm text-yellow-800 mb-2",children:"⚠️ No tienes canales conectados"}),(0,a.jsx)("p",{className:"text-xs text-yellow-700 mb-3",children:"Debes conectar al menos un canal de Telegram para asignarlo a tus productos."}),(0,a.jsx)("button",{type:"button",onClick:()=>{sS(),b("telegram")},className:"text-sm text-blue-600 hover:underline font-medium",children:"Ir a conectar un canal →"})]}):(0,a.jsxs)("select",{value:K.telegramChannelId,onChange:e=>W({...K,telegramChannelId:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"\uD83D\uDEAB Sin canal (solo confirmaci\xf3n de pago)"}),ee.map(e=>(0,a.jsxs)("option",{value:e.channelId,children:["public"===e.channelType?"\uD83C\uDF10":"\uD83D\uDD12"," ",e.channelTitle,e.channelName&&" (@".concat(e.channelName,")")]},e.id))]}),(0,a.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:K.telegramChannelId?"Los clientes recibir\xe1n acceso a este canal despu\xe9s de pagar":"Sin canal: Los clientes solo recibir\xe1n confirmaci\xf3n de pago"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",id:"active",checked:K.active,onChange:e=>W({...K,active:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,a.jsx)("label",{htmlFor:"active",className:"ml-2 text-sm text-gray-700",children:"Producto activo"})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex gap-3 justify-end",children:[(0,a.jsx)("button",{onClick:sS,disabled:J,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition disabled:opacity-50",children:"Cancelar"}),(0,a.jsx)("button",{onClick:sE,disabled:J,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 flex items-center gap-2",children:J?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Guardando..."]}):V?"Guardar Cambios":"Crear Producto"})]})]})]})}),G&&V&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:sS,children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:V.title}),(0,a.jsx)("button",{onClick:sS,className:"text-gray-400 hover:text-gray-600",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Descripci\xf3n"}),(0,a.jsx)("p",{className:"text-gray-900",children:V.description||"Sin descripci\xf3n"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Precio"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["€",(V.priceCents/100).toFixed(2)]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Estado"}),(0,a.jsx)("span",{className:"inline-block px-3 py-1 rounded text-sm font-medium ".concat(V.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"),children:V.active?"Activo":"Pausado"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Tipo de Facturaci\xf3n"}),(0,a.jsx)("p",{className:"text-gray-900",children:"SUBSCRIPTION"===V.billingType?"Suscripci\xf3n":"Pago \xfanico"})]}),V.telegramChannelId&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Canal de Telegram"}),(0,a.jsxs)("p",{className:"text-gray-900 flex items-center gap-2",children:["\uD83D\uDCF1 ",sA(V.telegramChannelId),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["(",V.telegramChannelId,")"]})]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Estad\xedsticas"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Ventas"})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"€0.00"}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Ingresos"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"0"}),(0,a.jsx)("div",{className:"text-xs text-gray-600",children:"Suscriptores"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex gap-3 justify-end",children:[(0,a.jsx)("button",{onClick:sS,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cerrar"}),(0,a.jsx)("button",{onClick:()=>{Y(!1),sC(V)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Editar Producto"})]})]})]})})]})}},2381:function(e,s,t){"use strict";t.d(s,{z:function(){return d}});var a=t(7437),l=t(2265),r=t(7495),n=t(535),i=t(3448);let c=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=l.forwardRef((e,s)=>{let{className:t,variant:l,size:n,asChild:d=!1,...o}=e,x=d?r.g7:"button";return(0,a.jsx)(x,{className:(0,i.cn)(c({variant:l,size:n,className:t})),ref:s,...o})});d.displayName="Button"},3448:function(e,s,t){"use strict";t.d(s,{cn:function(){return r}});var a=t(1994),l=t(3335);function r(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,l.m6)((0,a.W)(s))}}},function(e){e.O(0,[464,522,872,80,971,117,744],function(){return e(e.s=4275)}),_N_E=e.O()}]);