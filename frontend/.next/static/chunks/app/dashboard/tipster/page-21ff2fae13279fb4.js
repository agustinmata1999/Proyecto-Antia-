(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[773],{4275:function(e,a,s){Promise.resolve().then(s.bind(s,641))},641:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return U}});var t=s(7437),l=s(2265),r=s(9376),n=s(1837),i=s(7120);function d(){var e,a,s,r;let{formatPrice:d,symbol:c}=(0,i.U)(),[o,x]=(0,l.useState)([]),[m,u]=(0,l.useState)(null),[g,h]=(0,l.useState)([]),[b,p]=(0,l.useState)(!0),[j,y]=(0,l.useState)("houses"),[N,v]=(0,l.useState)(null),[f,C]=(0,l.useState)(null),w=window.location.origin;(0,l.useEffect)(()=>{D()},[]);let D=async()=>{p(!0),C(null);try{let[e,a,s]=await Promise.all([n.Qm.getHousesWithLinks(),n.Qm.getMetrics(),n.Qm.getPayouts()]);x(e.data||[]),u(a.data||null),h(s.data||[])}catch(s){var e,a;console.error("Error loading affiliate data:",s),C((null===(a=s.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"Error al cargar datos de afiliaci\xf3n")}finally{p(!1)}},k=async e=>{let a="".concat(w,"/r/").concat(e);try{await navigator.clipboard.writeText(a),v(e),setTimeout(()=>v(null),2e3)}catch(e){console.error("Error copying:",e)}},E=e=>{switch(e){case"PAID":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},T=e=>{switch(e){case"PAID":return"Pagado";case"PENDING":return"Pendiente";case"PROCESSING":return"En proceso";default:return e}};return b?(0,t.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):f?(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[(0,t.jsx)("p",{className:"text-red-600 mb-4",children:f}),(0,t.jsx)("button",{onClick:D,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reintentar"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83E\uDD1D Afiliaci\xf3n"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Comparte links de casas de apuestas y gana comisiones por cada referido v\xe1lido"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Clicks Totales"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:(null==m?void 0:m.clicks)||0})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Referidos Pendientes"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-yellow-600",children:(null==m?void 0:null===(e=m.referrals)||void 0===e?void 0:e.pending)||0})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Referidos Validados"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-green-600",children:(null==m?void 0:null===(a=m.referrals)||void 0===a?void 0:a.approved)||0})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Ganancias Totales"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:d((null==m?void 0:null===(s=m.earnings)||void 0===s?void 0:s.totalCents)||0)})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"flex -mb-px",children:[(0,t.jsx)("button",{onClick:()=>y("houses"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("houses"===j?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83C\uDFE0 Casas de Apuestas"}),(0,t.jsx)("button",{onClick:()=>y("metrics"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("metrics"===j?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCCA M\xe9tricas por Casa"}),(0,t.jsx)("button",{onClick:()=>y("payouts"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("payouts"===j?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCB5 Liquidaciones"})]})}),(0,t.jsxs)("div",{className:"p-6",children:["houses"===j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tus Enlaces de Afiliado"}),0===o.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,t.jsx)("p",{children:"No hay casas de apuestas disponibles en este momento"})}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:o.map(e=>{let{house:a,link:s}=e;return(0,t.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[a.logoUrl?(0,t.jsx)("img",{src:a.logoUrl,alt:a.name,className:"w-12 h-12 object-contain rounded",onError:e=>{e.target.style.display="none"}}):(0,t.jsx)("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center text-xl font-bold text-gray-500",children:a.name.charAt(0)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:a.name}),(0,t.jsxs)("p",{className:"text-sm text-green-600 font-medium",children:[d(100*a.commissionPerReferralEur)," / referido"]})]})]}),(0,t.jsxs)("div",{className:"text-right text-xs text-gray-500",children:[(0,t.jsxs)("div",{children:[s.totalClicks," clicks"]}),(0,t.jsxs)("div",{children:[s.totalReferrals," referidos"]})]})]}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("input",{type:"text",readOnly:!0,value:"".concat(w,"/r/").concat(s.redirectCode),className:"flex-1 text-sm bg-gray-50 border rounded px-3 py-2 text-gray-600"}),(0,t.jsx)("button",{onClick:()=>k(s.redirectCode),className:"px-4 py-2 rounded text-sm font-medium transition-colors ".concat(N===s.redirectCode?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"),children:N===s.redirectCode?"✓ Copiado":"Copiar"})]})})]},a.id)})})]}),"metrics"===j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"M\xe9tricas Detalladas"}),(null==m?void 0:null===(r=m.byHouse)||void 0===r?void 0:r.length)?(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Casa"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Pendientes"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Validados"}),(0,t.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rechazados"}),(0,t.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ganancias"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.byHouse.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:e.houseName}),(0,t.jsx)("td",{className:"px-4 py-3 text-center text-sm text-yellow-600",children:e.pending}),(0,t.jsx)("td",{className:"px-4 py-3 text-center text-sm text-green-600",children:e.approved}),(0,t.jsx)("td",{className:"px-4 py-3 text-center text-sm text-red-600",children:e.rejected}),(0,t.jsx)("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:d(e.totalEarningsCents)})]},e.houseId))})]})}):(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,t.jsx)("p",{children:"A\xfan no hay datos de conversiones"})})]}),"payouts"===j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Liquidaciones Mensuales"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-4",children:"Las liquidaciones de afiliaci\xf3n se pagan mensualmente y NO incluyen comisi\xf3n de plataforma."}),0===g.length?(0,t.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,t.jsx)("p",{children:"No hay liquidaciones pendientes"})}):(0,t.jsx)("div",{className:"space-y-4",children:g.map(e=>{var a;return(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-lg font-bold text-gray-900",children:e.periodMonth}),(0,t.jsx)("span",{className:"ml-3 px-2 py-1 text-xs font-medium rounded ".concat(E(e.status)),children:T(e.status)})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:d(e.totalAmountCents)}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[e.totalReferrals," referidos"]})]})]}),(null===(a=e.houseBreakdown)||void 0===a?void 0:a.length)>0&&(0,t.jsxs)("div",{className:"border-t pt-3",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Desglose por casa:"}),(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:e.houseBreakdown.map((e,a)=>(0,t.jsxs)("div",{className:"bg-gray-50 rounded px-3 py-2 text-sm",children:[(0,t.jsx)("div",{className:"font-medium text-gray-700",children:e.houseName}),(0,t.jsxs)("div",{className:"text-gray-500",children:[e.referrals," ref. \xb7 ",d(e.amountCents)]})]},a))})]}),e.paidAt&&(0,t.jsxs)("div",{className:"border-t mt-3 pt-3 text-sm text-gray-500",children:["Pagado el: ",new Date(e.paidAt).toLocaleDateString("es-ES")]})]},e.id)})})]})]})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)("span",{className:"text-blue-600 text-xl",children:"ℹ️"}),(0,t.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,t.jsx)("p",{className:"font-medium mb-1",children:"\xbfC\xf3mo funciona la afiliaci\xf3n?"}),(0,t.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-blue-700",children:[(0,t.jsx)("li",{children:"Copia tu link de referido de cualquier casa de apuestas"}),(0,t.jsx)("li",{children:"Comparte el link con tu audiencia"}),(0,t.jsx)("li",{children:"Cuando alguien se registre y haga un dep\xf3sito usando tu link, ganar\xe1s la comisi\xf3n indicada"}),(0,t.jsx)("li",{children:"Las ganancias se liquidan mensualmente"})]})]})]})})]})}var c=s(4646),o=s(3639);function x(e){let{onComplete:a}=e;return(0,t.jsx)("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 mb-6 rounded-r-lg",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(o.Z,{className:"h-5 w-5 text-orange-400"})}),(0,t.jsxs)("div",{className:"ml-3 flex-1",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-orange-800",children:"\xa1Completa tus datos de cobro!"}),(0,t.jsx)("div",{className:"mt-2 text-sm text-orange-700",children:(0,t.jsx)("p",{children:"Para poder recibir tus ganancias, necesitas completar tus datos bancarios/KYC. Esto solo te llevar\xe1 unos minutos."})}),(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)("div",{className:"-mx-2 -my-1.5 flex",children:(0,t.jsx)("button",{onClick:a,className:"bg-orange-100 px-4 py-2 rounded-md text-sm font-medium text-orange-800 hover:bg-orange-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-orange-50 focus:ring-orange-600 transition",children:"Completar ahora →"})})})]})]})})}var m=s(5302),u=s(2369),g=s(3774),h=s(8226),b=s(8736),p=s(5863);let j=[{value:"DNI",label:"DNI (Espa\xf1a)"},{value:"NIE",label:"NIE (Extranjero en Espa\xf1a)"},{value:"PASSPORT",label:"Pasaporte"},{value:"CIF",label:"CIF (Empresa)"}],y=[{value:"IBAN",label:"Transferencia Bancaria (IBAN)"},{value:"PAYPAL",label:"PayPal"},{value:"CRYPTO",label:"Criptomonedas (USDT)"},{value:"OTHER",label:"Otro"}],N=["Espa\xf1a","M\xe9xico","Argentina","Colombia","Chile","Per\xfa","Ecuador","Venezuela","Uruguay","Paraguay","Bolivia","Costa Rica","Panam\xe1","Guatemala","Honduras","El Salvador","Nicaragua","Rep\xfablica Dominicana","Puerto Rico","Cuba","Otro"];function v(e){let{onComplete:a,onCancel:s,initialData:r}=e,[i,d]=(0,l.useState)({legalName:(null==r?void 0:r.legalName)||"",documentType:(null==r?void 0:r.documentType)||"DNI",documentNumber:"",country:(null==r?void 0:r.country)||"Espa\xf1a",bankAccountType:(null==r?void 0:r.bankAccountType)||"IBAN",bankAccountDetails:{iban:"",bankName:"",paypalEmail:"",cryptoAddress:"",cryptoNetwork:"TRC20",otherDetails:""}}),[c,o]=(0,l.useState)(!1),[x,v]=(0,l.useState)(""),[f,C]=(0,l.useState)(!1),w=async e=>{if(e.preventDefault(),v(""),o(!0),!i.legalName.trim()){v("El nombre o raz\xf3n social es obligatorio"),o(!1);return}if(!i.documentNumber.trim()){v("El n\xfamero de documento es obligatorio"),o(!1);return}if("IBAN"===i.bankAccountType&&!i.bankAccountDetails.iban.trim()){v("El IBAN es obligatorio"),o(!1);return}if("PAYPAL"===i.bankAccountType&&!i.bankAccountDetails.paypalEmail.trim()){v("El email de PayPal es obligatorio"),o(!1);return}if("CRYPTO"===i.bankAccountType&&!i.bankAccountDetails.cryptoAddress.trim()){v("La direcci\xf3n de wallet es obligatoria"),o(!1);return}try{let e={};switch(i.bankAccountType){case"IBAN":e={iban:i.bankAccountDetails.iban.replace(/\s/g,"").toUpperCase(),bankName:i.bankAccountDetails.bankName};break;case"PAYPAL":e={email:i.bankAccountDetails.paypalEmail};break;case"CRYPTO":e={address:i.bankAccountDetails.cryptoAddress,network:i.bankAccountDetails.cryptoNetwork};break;case"OTHER":e={details:i.bankAccountDetails.otherDetails}}await n.bs.updateKyc({legalName:i.legalName.trim(),documentType:i.documentType,documentNumber:i.documentNumber.trim(),country:i.country,bankAccountType:i.bankAccountType,bankAccountDetails:e}),C(!0),setTimeout(()=>{a()},2e3)}catch(e){var s,t;v((null===(t=e.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"Error al guardar los datos")}finally{o(!1)}};return f?(0,t.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(m.Z,{className:"w-8 h-8 text-green-500"})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\xa1Datos guardados!"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Tus datos de cobro han sido registrados correctamente."})]})}):(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Datos de Cobro (KYC)"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Completa tus datos para poder recibir tus ganancias"})]}),(0,t.jsxs)("form",{onSubmit:w,className:"bg-white rounded-xl shadow-lg p-8",children:[x&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm mb-6",children:x}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)(u.Z,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Informaci\xf3n Personal / Fiscal"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo / Raz\xf3n Social *"}),(0,t.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Juan P\xe9rez Garc\xeda o Mi Empresa S.L.",value:i.legalName,onChange:e=>d({...i,legalName:e.target.value})}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Nombre tal como aparece en tu documento de identidad"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Documento *"}),(0,t.jsx)("select",{required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:i.documentType,onChange:e=>d({...i,documentType:e.target.value}),children:j.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero de Documento *"}),(0,t.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"12345678A",value:i.documentNumber,onChange:e=>d({...i,documentNumber:e.target.value})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(g.Z,{className:"w-4 h-4 inline mr-1"}),"Pa\xeds de Residencia Fiscal *"]}),(0,t.jsx)("select",{required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:i.country,onChange:e=>d({...i,country:e.target.value}),children:N.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5 text-blue-600 mr-2"}),(0,t.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"M\xe9todo de Cobro"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\xbfC\xf3mo quieres recibir tus pagos? *"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-3",children:y.map(e=>(0,t.jsx)("button",{type:"button",onClick:()=>d({...i,bankAccountType:e.value}),className:"p-3 rounded-lg border-2 transition text-left ".concat(i.bankAccountType===e.value?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"),children:(0,t.jsx)("div",{className:"font-medium text-sm",children:e.label})},e.value))})]}),"IBAN"===i.bankAccountType&&(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IBAN *"}),(0,t.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"ES12 3456 7890 1234 5678 9012",value:i.bankAccountDetails.iban,onChange:e=>d({...i,bankAccountDetails:{...i.bankAccountDetails,iban:e.target.value}})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Banco (opcional)"}),(0,t.jsx)("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Banco Santander, BBVA, etc.",value:i.bankAccountDetails.bankName,onChange:e=>d({...i,bankAccountDetails:{...i.bankAccountDetails,bankName:e.target.value}})})]})]}),"PAYPAL"===i.bankAccountType&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email de PayPal *"}),(0,t.jsx)("input",{type:"email",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tu@email.com",value:i.bankAccountDetails.paypalEmail,onChange:e=>d({...i,bankAccountDetails:{...i.bankAccountDetails,paypalEmail:e.target.value}})})]}),"CRYPTO"===i.bankAccountType&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Red / Network *"}),(0,t.jsxs)("select",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:i.bankAccountDetails.cryptoNetwork,onChange:e=>d({...i,bankAccountDetails:{...i.bankAccountDetails,cryptoNetwork:e.target.value}}),children:[(0,t.jsx)("option",{value:"TRC20",children:"USDT (TRC20 - Tron)"}),(0,t.jsx)("option",{value:"ERC20",children:"USDT (ERC20 - Ethereum)"}),(0,t.jsx)("option",{value:"BEP20",children:"USDT (BEP20 - BSC)"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direcci\xf3n de Wallet *"}),(0,t.jsx)("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:"TXxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",value:i.bankAccountDetails.cryptoAddress,onChange:e=>d({...i,bankAccountDetails:{...i.bankAccountDetails,cryptoAddress:e.target.value}})})]})]}),"OTHER"===i.bankAccountType&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detalles del m\xe9todo de pago *"}),(0,t.jsx)("textarea",{required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe c\xf3mo quieres recibir tus pagos...",rows:3,value:i.bankAccountDetails.otherDetails,onChange:e=>d({...i,bankAccountDetails:{...i.bankAccountDetails,otherDetails:e.target.value}})})]})]}),(0,t.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)(b.Z,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-2"}),(0,t.jsxs)("div",{className:"text-sm text-blue-800",children:[(0,t.jsx)("p",{className:"font-medium",children:"Informaci\xf3n importante"}),(0,t.jsxs)("ul",{className:"mt-1 list-disc list-inside space-y-1 text-blue-700",children:[(0,t.jsx)("li",{children:"Tus datos est\xe1n protegidos y solo se usar\xe1n para procesar tus pagos"}),(0,t.jsx)("li",{children:"Las liquidaciones se procesan los domingos"}),(0,t.jsx)("li",{children:"Podr\xe1s modificar estos datos desde tu perfil"})]})]})]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,t.jsx)("button",{type:"button",onClick:s,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancelar"}),(0,t.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:c?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):"Guardar Datos"})]})]})]})}var f=s(4766),C=s(9196),w=s(7495),D=s(535),k=s(1994),E=s(3335);function T(){for(var e=arguments.length,a=Array(e),s=0;s<e;s++)a[s]=arguments[s];return(0,E.m6)((0,k.W)(a))}let P=(0,D.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),A=l.forwardRef((e,a)=>{let{className:s,variant:l,size:r,asChild:n=!1,...i}=e,d=n?w.g7:"button";return(0,t.jsx)(d,{className:T(P({variant:l,size:r,className:s})),ref:a,...i})});A.displayName="Button";var S=s(3732);let I=S.fC,L=S.xz,R=l.forwardRef((e,a)=>{let{className:s,align:l="center",sideOffset:r=4,...n}=e;return(0,t.jsx)(S.h_,{children:(0,t.jsx)(S.VY,{ref:a,align:l,sideOffset:r,className:T("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})})});R.displayName=S.VY.displayName;var B=s(6255);let F=l.forwardRef((e,a)=>{let{className:s,children:l,...r}=e;return(0,t.jsxs)(B.fC,{ref:a,className:T("relative overflow-hidden",s),...r,children:[(0,t.jsx)(B.l_,{className:"h-full w-full rounded-[inherit]",children:l}),(0,t.jsx)(M,{}),(0,t.jsx)(B.Ns,{})]})});F.displayName=B.fC.displayName;let M=l.forwardRef((e,a)=>{let{className:s,orientation:l="vertical",...r}=e;return(0,t.jsx)(B.gb,{ref:a,orientation:l,className:T("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...r,children:(0,t.jsx)(B.q4,{className:"relative flex-1 rounded-full bg-border"})})});M.displayName=B.gb.displayName;let q=e=>{switch(e){case"SALE":return"\uD83D\uDCB0";case"SUBSCRIPTION_NEW":return"\uD83D\uDD04";case"SUBSCRIPTION_CANCELLED":return"❌";case"SUBSCRIPTION_EXPIRED":return"⏰";case"SETTLEMENT":return"\uD83D\uDCB5";case"PAYOUT":return"✅";default:return"\uD83D\uDCE2"}},O=e=>{let a=new Date,s=new Date(e),t=Math.floor((a.getTime()-s.getTime())/1e3);return t<60?"Ahora":t<3600?"Hace ".concat(Math.floor(t/60)," min"):t<86400?"Hace ".concat(Math.floor(t/3600)," h"):t<604800?"Hace ".concat(Math.floor(t/86400)," d\xedas"):s.toLocaleDateString("es-ES")};function z(){let[e,a]=(0,l.useState)([]),[s,r]=(0,l.useState)(0),[i,d]=(0,l.useState)(!1),[c,o]=(0,l.useState)(!1),x=(0,l.useRef)(null),m=async()=>{try{let[e,s]=await Promise.all([n.hi.get("/notifications?limit=20"),n.hi.get("/notifications/unread-count")]);a(e.data.notifications||[]),r(s.data.count||0)}catch(e){console.error("Error fetching notifications:",e)}},u=async e=>{try{await n.hi.post("/notifications/".concat(e,"/read")),a(a=>a.map(a=>a.id===e?{...a,is_read:!0}:a)),r(e=>Math.max(0,e-1))}catch(e){console.error("Error marking notification as read:",e)}},g=async()=>{try{o(!0),await n.hi.post("/notifications/read-all"),a(e=>e.map(e=>({...e,is_read:!0}))),r(0)}catch(e){console.error("Error marking all as read:",e)}finally{o(!1)}};return(0,l.useEffect)(()=>(m(),x.current=setInterval(m,3e4),()=>{x.current&&clearInterval(x.current)}),[]),(0,t.jsxs)(I,{open:i,onOpenChange:d,children:[(0,t.jsx)(L,{asChild:!0,children:(0,t.jsxs)(A,{variant:"ghost",size:"icon",className:"relative","aria-label":"Notificaciones",children:[(0,t.jsx)(f.Z,{className:"h-5 w-5"}),s>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-xs font-medium text-white flex items-center justify-center",children:s>9?"9+":s})]})}),(0,t.jsxs)(R,{className:"w-80 p-0",align:"end",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[(0,t.jsx)("h3",{className:"font-semibold",children:"Notificaciones"}),s>0&&(0,t.jsxs)(A,{variant:"ghost",size:"sm",className:"text-xs text-blue-600 hover:text-blue-700",onClick:g,disabled:c,children:[(0,t.jsx)(C.Z,{className:"h-4 w-4 mr-1"}),"Marcar todas"]})]}),(0,t.jsx)(F,{className:"h-[300px]",children:0===e.length?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-[200px] text-gray-500",children:[(0,t.jsx)(f.Z,{className:"h-8 w-8 mb-2 opacity-50"}),(0,t.jsx)("p",{className:"text-sm",children:"No hay notificaciones"})]}):(0,t.jsx)("div",{className:"divide-y",children:e.map(e=>(0,t.jsx)("div",{className:"px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors ".concat(e.is_read?"":"bg-blue-50"),onClick:()=>!e.is_read&&u(e.id),children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-xl",children:q(e.type)}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-sm ".concat(e.is_read?"font-medium":"font-semibold"," text-gray-900"),children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.message}),(0,t.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:O(e.created_at)})]}),!e.is_read&&(0,t.jsx)("div",{className:"h-2 w-2 rounded-full bg-blue-500 mt-2"})]})},e.id))})}),e.length>0&&(0,t.jsx)("div",{className:"px-4 py-2 border-t text-center",children:(0,t.jsx)(A,{variant:"ghost",size:"sm",className:"text-xs text-gray-500",onClick:()=>d(!1),children:"Cerrar"})})]})]})}function U(){var e,a,s,o,m,u,g;let h=(0,r.useRouter)(),{formatPrice:b,symbol:p}=(0,i.U)(),[j,y]=(0,l.useState)("dashboard"),[N,f]=(0,l.useState)("liquidaciones"),[C,w]=(0,l.useState)(null),[D,k]=(0,l.useState)([]),[E,T]=(0,l.useState)(null),[P,A]=(0,l.useState)(null),[S,I]=(0,l.useState)([]),[L,R]=(0,l.useState)(null),[B,F]=(0,l.useState)({kycCompleted:!1,needsKyc:!1,applicationStatus:"PENDING"}),[M,q]=(0,l.useState)({forecasts:!0,affiliate:!1}),[O,U]=(0,l.useState)(!0),[_,Y]=(0,l.useState)(!1),[H,V]=(0,l.useState)(null),[G,K]=(0,l.useState)(!1),[Z,$]=(0,l.useState)({title:"",description:"",priceCents:"",billingType:"ONE_TIME",subscriptionInterval:"MONTHLY",telegramChannelId:"",active:!0}),[W,Q]=(0,l.useState)(!1),[J,X]=(0,l.useState)(""),[ee,ea]=(0,l.useState)([]),[es,et]=(0,l.useState)(!1),[el,er]=(0,l.useState)(!1),[en,ei]=(0,l.useState)({channelId:"",channelTitle:"",channelType:"private",inviteLink:""}),[ed,ec]=(0,l.useState)(!1),[eo,ex]=(0,l.useState)(null),[em,eu]=(0,l.useState)(""),[eg,eh]=(0,l.useState)(!1),[eb,ep]=(0,l.useState)(null),[ej,ey]=(0,l.useState)(!1),[eN,ev]=(0,l.useState)(!1),[ef,eC]=(0,l.useState)(""),[ew,eD]=(0,l.useState)(""),[ek,eE]=(0,l.useState)(null),[eT,eP]=(0,l.useState)(""),[eA,eS]=(0,l.useState)(!1),[eI,eL]=(0,l.useState)({configured:!1,pending:!1,channelId:null,channelTitle:null,channelUsername:null}),[eR,eB]=(0,l.useState)(null),[eF,eM]=(0,l.useState)(""),[eq,eO]=(0,l.useState)(""),[ez,eU]=(0,l.useState)(!1),[e_,eY]=(0,l.useState)(""),[eH,eV]=(0,l.useState)(null),[eG,eK]=(0,l.useState)(!1),[eZ,e$]=(0,l.useState)(null);(0,l.useEffect)(()=>{(async()=>{if(await new Promise(e=>setTimeout(e,50)),!localStorage.getItem("access_token")){h.push("/login");return}eW()})()},[]);let eW=async()=>{try{try{let e=await n.g8.getMe();w(e.data),console.log("Loaded user profile:",e.data)}catch(e){console.error("Error loading user profile:",e)}try{let e=await n.fi.getMy();k(e.data)}catch(e){console.error("Error loading products:",e)}try{let e=await n.Q4.getMetrics();T(e.data)}catch(e){console.error("Error loading metrics:",e),T({clicks:0,registers:0,ftds:0,deposits:0,totalDeposits:0,conversionRate:0})}try{let e=await n.$z.channels.getAll();ea(e.data.channels||[])}catch(e){console.error("Error loading Telegram channels:",e)}try{let e=await n.$z.getChannelInfo();e.data.connected&&(ey(!0),ep(e.data.channel)),e.data.premiumChannelLink&&eP(e.data.premiumChannelLink)}catch(e){console.error("Error loading Telegram info:",e)}try{let e=await n.$z.publicationChannel.get();console.log("Loaded publication channel:",e.data),eL(e.data)}catch(e){console.error("Error loading publication channel:",e)}try{let e=await n.kn.getMyStats();A(e.data)}catch(e){console.error("Error loading sales stats:",e),A({totalSales:0,totalEarningsCents:0,currency:"EUR"})}try{let e=await n.kn.getMySales();I(e.data.slice(0,10))}catch(e){console.error("Error loading recent sales:",e),I([])}try{let e=await n.lY.getAll();R(e.data)}catch(e){console.error("Error loading settlements:",e)}try{let e=await n.wT.getMyModules();e.data.modules&&q(e.data.modules)}catch(e){console.error("Error loading modules:",e)}try{let e=await n.bs.getKycStatus();F(e.data),console.log("Loaded KYC status:",e.data)}catch(e){console.error("Error loading KYC status:",e)}}catch(e){console.error("Error loading dashboard:",e)}finally{U(!1)}},eQ=async()=>{try{let e=await n.bs.getKycStatus();F(e.data),y("dashboard")}catch(e){console.error("Error reloading KYC status:",e)}},eJ=async()=>{try{await n.iJ.logout(),localStorage.removeItem("access_token"),h.push("/")}catch(e){console.error("Error logging out:",e),localStorage.removeItem("access_token"),h.push("/")}},eX=async()=>{if(!en.channelId.trim()){eu("Por favor, ingresa el ID del canal");return}ec(!0),eu(""),ex(null);try{let e=await n.$z.channels.verify(en.channelId.trim());e.data.valid?(ex(e.data),ei(a=>({...a,channelTitle:e.data.title||"",channelType:e.data.username?"public":"private"}))):eu(e.data.error||"No se pudo verificar el canal")}catch(s){var e,a;eu((null===(a=s.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"Error al verificar el canal")}finally{ec(!1)}},e0=async()=>{if(!en.channelId.trim()||!en.channelTitle.trim()){eu("Por favor, completa todos los campos requeridos");return}eh(!0),eu("");try{if((await n.$z.channels.create({channelId:en.channelId.trim(),channelName:(null==eo?void 0:eo.username)||void 0,channelTitle:en.channelTitle.trim(),channelType:en.channelType,inviteLink:en.inviteLink.trim()||void 0})).data.success){let e=await n.$z.channels.getAll();ea(e.data.channels||[]),er(!1),ei({channelId:"",channelTitle:"",channelType:"private",inviteLink:""}),ex(null),alert("✅ Canal a\xf1adido correctamente")}}catch(s){var e,a;eu((null===(a=s.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"Error al a\xf1adir el canal")}finally{eh(!1)}},e2=async e=>{if(confirm("\xbfEst\xe1s seguro de que deseas desconectar este canal?"))try{await n.$z.channels.delete(e),ea(a=>a.filter(a=>a.id!==e)),alert("Canal desconectado")}catch(e){var a,s;alert("Error al desconectar el canal: "+((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Error desconocido"))}},e6=async e=>{try{let a=await n.$z.channels.generateInviteLink(e);if(a.data.success){let e=await n.$z.channels.getAll();ea(e.data.channels||[]),alert("✅ Enlace de invitaci\xf3n generado: "+a.data.inviteLink)}else alert("Error: "+(a.data.error||"No se pudo generar el enlace"))}catch(e){var a,s;alert("Error: "+((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Error al generar enlace"))}},e1=async()=>{if(eZ){eK(!1),eE(eZ.id);try{let e=await n.$z.publishProduct(eZ.id);console.log("Publish response:",e.data),e.data.success?alert("✅ \xa1Publicado! Tu producto ya est\xe1 en tu canal de Telegram"):alert("❌ "+(e.data.message||"Error al publicar"))}catch(s){var e,a;console.error("Publish error:",s),alert("❌ Error: "+((null===(a=s.response)||void 0===a?void 0:null===(e=a.data)||void 0===e?void 0:e.message)||"Error al publicar en Telegram"))}finally{eE(null),e$(null)}}},e3=()=>{eK(!1),e$(null)};(0,l.useEffect)(()=>()=>{eH&&clearInterval(eH)},[eH]);let e5=()=>{V(null),$({title:"",description:"",priceCents:"",billingType:"ONE_TIME",subscriptionInterval:"MONTHLY",telegramChannelId:"",active:!0}),X(""),Y(!0)},e4=e=>{var a;V(e),$({title:e.title||"",description:e.description||"",priceCents:e.priceCents?(e.priceCents/100).toString():"",billingType:e.billingType||"ONE_TIME",subscriptionInterval:e.billingPeriod||"MONTHLY",telegramChannelId:e.telegramChannelId||"",active:null===(a=e.active)||void 0===a||a}),X(""),Y(!0)},e8=e=>{V(e),K(!0)},e7=async()=>{var e,a,s;try{if(!Z.title.trim()){X("El t\xedtulo es obligatorio");return}let a=parseFloat(Z.priceCents);if(isNaN(a)||a<0){X("El precio debe ser un n\xfamero v\xe1lido mayor o igual a 0");return}Q(!0),X("");let s={title:Z.title.trim(),description:Z.description.trim()||void 0,priceCents:Math.round(100*a),billingType:Z.billingType,billingPeriod:"SUBSCRIPTION"===Z.billingType?Z.subscriptionInterval:void 0,telegramChannelId:Z.telegramChannelId||void 0,currency:"EUR"};if(H)await n.fi.update(H.id,s),Z.active!==H.active&&(Z.active?await n.fi.publish(H.id):await n.fi.pause(H.id));else{let a=await n.fi.create(s);Z.active&&(null===(e=a.data)||void 0===e?void 0:e.id)&&await n.fi.publish(a.data.id)}await eW(),e9()}catch(e){console.error("Error saving product:",e),X((null===(s=e.response)||void 0===s?void 0:null===(a=s.data)||void 0===a?void 0:a.message)||"Error al guardar el producto. Por favor, intenta de nuevo.")}finally{Q(!1)}},e9=()=>{Y(!1),K(!1),V(null),X("")},ae=e=>{let a=ee.find(a=>a.channelId===e);return a?a.channelTitle:e};return O?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)("aside",{className:"fixed top-0 left-0 w-64 h-full bg-white border-r border-gray-200",children:(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600 mb-8",children:"Antia"}),(0,t.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500",children:(null==C?void 0:null===(e=C.tipsterProfile)||void 0===e?void 0:e.publicName)||(null==C?void 0:C.email)||"Cargando..."}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:["#",(null==C?void 0:null===(s=C.tipsterProfile)||void 0===s?void 0:null===(a=s.id)||void 0===a?void 0:a.slice(-4))||"----"]})]}),(0,t.jsxs)("nav",{className:"space-y-2",children:[(0,t.jsx)("button",{onClick:()=>y("dashboard"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("dashboard"===j?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:"Dashboard"}),M.forecasts&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>y("products"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("products"===j?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:"\uD83C\uDFAF Mis Productos"}),(0,t.jsx)("button",{onClick:()=>y("telegram"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("telegram"===j?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:(0,t.jsxs)("span",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"\uD83D\uDCF1 Telegram"}),ee.length>0&&(0,t.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:ee.length})]})})]}),M.affiliate&&(0,t.jsx)("button",{onClick:()=>y("referrals"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("referrals"===j?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:"\uD83E\uDD1D Afiliaci\xf3n"}),(0,t.jsx)("button",{onClick:()=>y("payouts"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("payouts"===j?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:(0,t.jsxs)("span",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"\uD83D\uDCB5 Liquidaciones"}),((null==P?void 0:P.netEarningsCents)||0)>0&&(0,t.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:b((null==P?void 0:P.netEarningsCents)||0)})]})}),B.needsKyc&&(0,t.jsx)("button",{onClick:()=>y("kyc"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("kyc"===j?"bg-orange-50 text-orange-600 font-medium":"text-orange-600 hover:bg-orange-50 animate-pulse"),children:(0,t.jsxs)("span",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{children:"\uD83C\uDFE6 Datos de Cobro"}),(0,t.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-orange-100 text-orange-800",children:"Pendiente"})]})}),(0,t.jsx)("button",{onClick:()=>y("profile"),className:"w-full text-left px-4 py-2 rounded-lg ".concat("profile"===j?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"),children:"⚙️ Perfil"}),(0,t.jsx)("button",{onClick:eJ,className:"w-full text-left px-4 py-2 rounded-lg text-red-600 hover:bg-red-50",children:"\uD83D\uDEAA Cerrar Sesi\xf3n"})]})]})}),(0,t.jsxs)("main",{className:"ml-64 p-8",children:[(0,t.jsxs)("div",{className:"fixed top-4 right-8 z-50 flex items-center gap-3",children:[(0,t.jsx)(z,{}),(0,t.jsx)(c.Z,{variant:"pill"})]}),B.needsKyc&&"kyc"!==j&&(0,t.jsx)(x,{onComplete:()=>y("kyc")}),"kyc"===j&&(0,t.jsx)(v,{onComplete:eQ,onCancel:()=>y("dashboard"),initialData:B.kycData}),"dashboard"===j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Hola ",(null==C?void 0:null===(m=C.tipsterProfile)||void 0===m?void 0:null===(o=m.publicName)||void 0===o?void 0:o.split(" ")[0])||"Tipster",", Bienvenido de nuevo!"]}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Aqu\xed est\xe1 un resumen de tu actividad"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 ".concat(M.forecasts?"lg:grid-cols-4":"lg:grid-cols-3"," gap-6 mb-8"),children:[M.forecasts&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-blue-100",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,t.jsx)("div",{className:"text-sm text-gray-500",children:"\uD83D\uDCB0 Ingresos Brutos"})}),(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:b((null==P?void 0:P.grossEarningsCents)||(null==P?void 0:P.totalEarningsCents)||0)}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Total facturado este mes"})]}),M.forecasts&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCB5 Ventas"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:(null==P?void 0:P.totalSales)||0}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Total de ventas"})]}),M.forecasts&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCE6 Productos"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:D.length}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[D.filter(e=>e.active).length," activos"]})]}),M.affiliate&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-purple-100",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83E\uDD1D Ganancias Afiliaci\xf3n"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-purple-600",children:b((null==E?void 0:E.totalEarnings)||0)}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"Comisiones pendientes"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDC65 Referidos FTD"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:(null==E?void 0:E.ftds)||0}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:"First Time Deposits"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCC5 Pr\xf3xima Liquidaci\xf3n"}),(0,t.jsx)("div",{className:"text-xl font-bold text-gray-900",children:(()=>{let e=new Date,a=e.getDay(),s=new Date(e);return s.setDate(e.getDate()+((7-a)%7||7)),s.toLocaleDateString("es-ES",{day:"numeric",month:"short"})})()}),(0,t.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:(0,t.jsx)("button",{onClick:()=>y("payouts"),className:"text-blue-600 hover:underline",children:"Ver liquidaciones →"})})]})]}),M.forecasts&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Mis Productos"}),(0,t.jsx)("button",{onClick:e5,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm",children:"+ Crear Producto"})]}),(0,t.jsx)("div",{className:"p-6",children:0===D.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"No tienes productos a\xfan"}),(0,t.jsx)("button",{onClick:e5,className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Crear tu primer producto"})]}):(0,t.jsx)("div",{className:"space-y-4",children:D.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-green-600",children:b(e.priceCents)}),(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(e.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"),children:e.active?"Activo":"Pausado"}),e.telegramChannelId&&(0,t.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-blue-50 text-blue-700",children:["\uD83D\uDCF1 ",ae(e.telegramChannelId)]})]})]}),(0,t.jsx)("button",{onClick:()=>e8(e),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Ver"})]},e.id))})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Ventas Recientes"})}),(0,t.jsx)("div",{className:"p-6",children:0===S.length?(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No hay ventas a\xfan"})}):(0,t.jsx)("div",{className:"space-y-4",children:S.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium text-gray-900",children:e.productTitle||"Producto"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:e.emailBackup||"Cliente"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("p",{className:"font-medium text-green-600",children:b(e.amountCents||0)}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString("es-ES")})]})]},e.id))})})]})]}),M.affiliate&&!M.forecasts&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83E\uDD1D Resumen de Afiliaci\xf3n"})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Clics"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:(null==E?void 0:E.clicks)||0})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Registros"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:(null==E?void 0:E.registers)||0})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"FTDs"}),(0,t.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:(null==E?void 0:E.ftds)||0})]})]}),(0,t.jsx)("div",{className:"mt-6 text-center",children:(0,t.jsx)("button",{onClick:()=>y("referrals"),className:"text-purple-600 hover:underline",children:"Ver detalle de afiliaci\xf3n →"})})]})]})]}),"products"===j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Productos"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Gestiona tus pron\xf3sticos y suscripciones"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Lista de Productos"}),(0,t.jsx)("button",{onClick:e5,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm font-medium",children:"+ Crear Producto"})]})}),(0,t.jsx)("div",{className:"p-6",children:0===D.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"No tienes productos a\xfan"}),(0,t.jsx)("button",{onClick:e5,className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Crear tu primer producto"})]}):(0,t.jsx)("div",{className:"space-y-4",children:D.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-green-600",children:["€",(e.priceCents/100).toFixed(2)]}),(0,t.jsx)("span",{className:"text-xs px-2 py-1 rounded ".concat(e.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"),children:e.active?"Activo":"Pausado"}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"SUBSCRIPTION"===e.billingType?"Suscripci\xf3n":"Pago \xfanico"}),e.telegramChannelId&&(0,t.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-blue-50 text-blue-700",children:["\uD83D\uDCF1 ",ae(e.telegramChannelId)]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("button",{onClick:()=>{let a="".concat(window.location.origin,"/checkout/").concat(e.id),s="\uD83D\uDD25 ".concat(e.title,"\n\n").concat(e.description||"","\n\n\uD83D\uDCB0 Precio: €").concat((e.priceCents/100).toFixed(2),"\n\n\uD83D\uDC49 Comprar aqu\xed: ").concat(a);navigator.clipboard.writeText(s),alert("✅ Texto copiado al portapapeles!\n\nP\xe9galo en tu canal de Telegram, Instagram, o donde quieras.")},className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm flex items-center gap-2 hover:bg-green-700",title:"Copiar link de checkout con texto sugerido",children:"\uD83D\uDCCB Copiar Link"}),(0,t.jsx)("button",{onClick:()=>e4(e),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Editar"}),(0,t.jsx)("button",{onClick:()=>e8(e),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Ver"})]})]}),(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("p",{className:"text-xs text-green-600 font-medium mb-1",children:"\uD83D\uDCB3 Link de Pago Directo (para tu canal)"}),(0,t.jsxs)("code",{className:"text-xs text-green-800 bg-white px-2 py-1 rounded border border-green-200 block truncate",children:[window.location.origin,"/checkout/",e.id]})]}),(0,t.jsx)("button",{onClick:()=>{let a=window.location.origin;navigator.clipboard.writeText("".concat(a,"/checkout/").concat(e.id)),alert("✅ Link de checkout copiado")},className:"flex-shrink-0 px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:"\uD83D\uDCCB Copiar"})]}),(0,t.jsx)("p",{className:"text-xs text-green-700 mt-2",children:"\uD83D\uDCE2 Publica este link en tu canal. El cliente paga y autom\xe1ticamente recibe acceso via Telegram."})]})]},e.id))})})]})]}),"telegram"===j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83D\uDCF1 Canal Premium"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Conecta tu canal privado donde los clientes recibir\xe1n acceso despu\xe9s de pagar"})]}),0===ee.length&&!el&&(0,t.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6 mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center gap-2",children:"\uD83D\uDE80 Gu\xeda R\xe1pida: C\xf3mo conectar tu canal premium"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-blue-100",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:(0,t.jsx)("span",{className:"text-lg font-bold text-blue-600",children:"1"})}),(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Crea tu canal"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["En Telegram, crea un canal ",(0,t.jsx)("strong",{children:"privado"})," donde tus clientes recibir\xe1n tus pron\xf3sticos."]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-blue-100",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:(0,t.jsx)("span",{className:"text-lg font-bold text-blue-600",children:"2"})}),(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Agrega el bot como admin"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Entra a la configuraci\xf3n del canal → Administradores → Agregar administrador → Busca ",(0,t.jsx)("strong",{children:"@Antiabetbot"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg p-4 border border-blue-100",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mb-3",children:(0,t.jsx)("span",{className:"text-lg font-bold text-blue-600",children:"3"})}),(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-2",children:"Conecta el canal aqu\xed"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:['Haz clic en "A\xf1adir Canal" abajo y pega el ',(0,t.jsx)("strong",{children:"@username"})," o ",(0,t.jsx)("strong",{children:"link de invitaci\xf3n"})," de tu canal."]})]})]}),(0,t.jsx)("div",{className:"mt-4 p-3 bg-blue-100 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:["\uD83D\uDCA1 ",(0,t.jsx)("strong",{children:"Importante:"})," Solo conecta tu canal premium/privado. El canal p\xfablico donde haces marketing NO necesita conectarse aqu\xed."]})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["\uD83D\uDD12 Canales Premium",(0,t.jsx)("span",{className:"text-xs font-normal px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:"Para clientes"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Estos son los canales privados donde tus clientes reciben acceso despu\xe9s de comprar."})]}),(0,t.jsx)("button",{onClick:()=>er(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm font-medium",children:"+ A\xf1adir Canal"})]}),0===ee.length?(0,t.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-lg",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF1"}),(0,t.jsx)("p",{className:"text-gray-500 mb-4",children:"No tienes canales conectados"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mb-4",children:"Conecta tus canales de Telegram para asignarlos a tus productos"}),(0,t.jsx)("button",{onClick:()=>er(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"A\xf1adir mi primer canal"})]}):(0,t.jsx)("div",{className:"space-y-4",children:ee.map(e=>(0,t.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center ".concat("public"===e.channelType?"bg-green-100":"bg-blue-100"),children:(0,t.jsx)("span",{className:"text-2xl",children:"public"===e.channelType?"\uD83C\uDF10":"\uD83D\uDD12"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:e.channelTitle}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-500",children:[e.channelName&&(0,t.jsxs)("span",{children:["@",e.channelName]}),(0,t.jsx)("span",{className:"px-2 py-0.5 rounded text-xs ".concat("public"===e.channelType?"bg-green-50 text-green-700":"bg-blue-50 text-blue-700"),children:"public"===e.channelType?"P\xfablico":"Privado"}),e.memberCount&&(0,t.jsxs)("span",{children:[e.memberCount," miembros"]})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["ID: ",e.channelId," • Conectado: ",new Date(e.connectedAt).toLocaleDateString("es-ES")]}),e.inviteLink&&(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500",children:"Enlace: "}),(0,t.jsx)("a",{href:e.inviteLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:e.inviteLink})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["private"===e.channelType&&(0,t.jsx)("button",{onClick:()=>e6(e.id),className:"px-3 py-1.5 text-xs border border-gray-300 rounded hover:bg-gray-50",title:"Generar enlace de invitaci\xf3n",children:"\uD83D\uDD17 Generar Link"}),(0,t.jsx)("button",{onClick:()=>e2(e.id),className:"px-3 py-1.5 text-xs text-red-600 border border-red-300 rounded hover:bg-red-50",children:"Desconectar"})]})]})},e.id))})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"\uD83D\uDCD6 C\xf3mo funcionan los canales"}),(0,t.jsxs)("div",{className:"space-y-3 text-sm text-gray-700",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"1. A\xf1ade el bot como administrador:"})," A\xf1ade @Antiabetbot como administrador a tu canal de Telegram con permisos para invitar usuarios."]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"2. Conecta el canal:"}),' Usa el bot\xf3n "A\xf1adir Canal" e ingresa el ID del canal (puedes obtenerlo reenviando un mensaje del canal a @userinfobot).']}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"3. Asigna a productos:"})," Al crear o editar un producto, selecciona el canal donde los clientes recibir\xe1n acceso."]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"4. Multi-canal:"})," Puedes tener m\xfaltiples canales y asignar cada producto a un canal diferente."]})]})]})]}),"referrals"===j&&(0,t.jsx)(d,{}),"payouts"===j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83D\uDCB5 Liquidaciones"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Gestiona tus ingresos y pagos"})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow mb-6",children:(0,t.jsx)("div",{className:"border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"flex -mb-px",children:[(0,t.jsx)("button",{onClick:()=>f("liquidaciones"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("liquidaciones"===N?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCCA Liquidaciones"}),(0,t.jsx)("button",{onClick:()=>f("facturas"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("facturas"===N?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCC4 Facturas"}),(0,t.jsx)("button",{onClick:()=>f("pagos"),className:"px-6 py-4 text-sm font-medium border-b-2 ".concat("pagos"===N?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\uD83D\uDCB3 Pagos Recibidos"})]})})}),"liquidaciones"===N&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Balance Pendiente"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:b((null==P?void 0:P.netEarningsCents)||0)}),(0,t.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Pr\xf3xima liquidaci\xf3n: Domingo"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Total Liquidado (Hist\xf3rico)"}),(0,t.jsx)("div",{className:"text-3xl font-bold text-green-600",children:"€0.00"}),(0,t.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Desde el inicio"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("div",{className:"text-sm text-gray-500 mb-2",children:"Pr\xf3xima Liquidaci\xf3n"}),(0,t.jsx)("div",{className:"text-xl font-bold text-gray-900",children:(()=>{let e=new Date,a=e.getDay(),s=new Date(e);return s.setDate(e.getDate()+((7-a)%7||7)),s.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})()}),(0,t.jsx)("div",{className:"text-xs text-gray-400 mt-1",children:"Pron\xf3sticos: cada 7 d\xedas"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCA Desglose del Per\xedodo Actual"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Detalle de comisiones y neto a recibir"})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsx)("table",{className:"w-full",children:(0,t.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"py-4 text-gray-600",children:"Ingresos Brutos"}),(0,t.jsx)("td",{className:"py-4 text-right font-semibold text-gray-900",children:b((null==P?void 0:P.grossEarningsCents)||0)})]}),(0,t.jsxs)("tr",{className:"bg-red-50",children:[(0,t.jsx)("td",{className:"py-4 text-gray-600",children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-red-500",children:"−"}),"Comisi\xf3n Pasarela (Stripe/Redsys)"]})}),(0,t.jsxs)("td",{className:"py-4 text-right font-semibold text-red-600",children:["-",b((null==P?void 0:P.gatewayFeesCents)||0)]})]}),(0,t.jsxs)("tr",{className:"bg-orange-50",children:[(0,t.jsx)("td",{className:"py-4 text-gray-600",children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-orange-500",children:"−"}),"Comisi\xf3n Antia (Plataforma)"]})}),(0,t.jsxs)("td",{className:"py-4 text-right font-semibold text-orange-600",children:["-",b((null==P?void 0:P.platformFeesCents)||0)]})]}),(0,t.jsxs)("tr",{className:"bg-green-50 border-t-2 border-green-200",children:[(0,t.jsx)("td",{className:"py-4 text-gray-900 font-semibold",children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{className:"text-green-600",children:"="}),"Neto a Recibir"]})}),(0,t.jsx)("td",{className:"py-4 text-right font-bold text-green-600 text-xl",children:b((null==P?void 0:P.netEarningsCents)||0)})]})]})})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xl",children:"\uD83C\uDFAF"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"Pron\xf3sticos"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Venta de productos"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Frecuencia"}),(0,t.jsx)("span",{className:"font-medium",children:"Cada 7 d\xedas"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Comisi\xf3n Antia"}),(0,t.jsx)("span",{className:"font-medium text-orange-600",children:"10% (7% alto volumen)"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Pendiente"}),(0,t.jsx)("span",{className:"font-bold text-blue-600",children:b((null==P?void 0:P.netEarningsCents)||0)})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xl",children:"\uD83E\uDD1D"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-gray-900",children:"Afiliaci\xf3n"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Casas de apuestas"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Frecuencia"}),(0,t.jsx)("span",{className:"font-medium",children:"1 vez al mes"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Comisi\xf3n Antia"}),(0,t.jsx)("span",{className:"font-medium text-green-600",children:"Sin comisi\xf3n"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Pendiente"}),(0,t.jsx)("span",{className:"font-bold text-purple-600",children:"€0.00"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCB Historial de Liquidaciones"})}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCED"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No hay liquidaciones procesadas a\xfan"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Tu primera liquidaci\xf3n se procesar\xe1 el pr\xf3ximo domingo"})]})})]})]}),"facturas"===N&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCC4 Facturas"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Descarga tus facturas de liquidaci\xf3n"})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC4"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No hay facturas disponibles"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Las facturas se generan autom\xe1ticamente con cada liquidaci\xf3n"})]})})]}),"pagos"===N&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCB3 Pagos Recibidos"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Historial de transferencias a tu cuenta"})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)("div",{className:"text-4xl mb-4",children:"\uD83D\uDCB8"}),(0,t.jsx)("p",{className:"text-gray-500",children:"No hay pagos recibidos a\xfan"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Aqu\xed ver\xe1s el historial de pagos realizados a tu cuenta bancaria"})]})})]})]}),"profile"===j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Mi Perfil"}),(0,t.jsx)("p",{className:"text-gray-600 mt-1",children:"Configuraci\xf3n de tu cuenta"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Informaci\xf3n Personal"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre P\xfablico"}),(0,t.jsx)("input",{type:"text",value:(null==C?void 0:null===(u=C.tipsterProfile)||void 0===u?void 0:u.publicName)||"",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,t.jsx)("input",{type:"email",value:(null==C?void 0:C.email)||"",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tel\xe9fono"}),(0,t.jsx)("input",{type:"text",value:(null==C?void 0:C.phone)||"No configurado",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario de Telegram"}),(0,t.jsx)("input",{type:"text",value:(null==C?void 0:null===(g=C.tipsterProfile)||void 0===g?void 0:g.telegramUsername)||"No configurado",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado de la cuenta"}),(0,t.jsx)("span",{className:"inline-flex px-3 py-1 rounded-full text-sm font-medium ".concat((null==C?void 0:C.status)==="ACTIVE"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:(null==C?void 0:C.status)==="ACTIVE"?"✓ Activa":null==C?void 0:C.status})]}),(0,t.jsx)("div",{className:"pt-4 border-t",children:(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Para modificar tu informaci\xf3n de perfil, contacta con el administrador."})})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83C\uDFE6 Datos de Cobro"}),B.kycCompleted?(0,t.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"✓ Completo"}):(0,t.jsx)("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:"Pendiente"})]}),B.kycCompleted&&B.kycData?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre/Raz\xf3n Social"}),(0,t.jsx)("input",{type:"text",value:B.kycData.legalName||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Documento"}),(0,t.jsx)("input",{type:"text",value:B.kycData.documentType||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xfamero"}),(0,t.jsx)("input",{type:"text",value:B.kycData.documentNumber||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pa\xeds"}),(0,t.jsx)("input",{type:"text",value:B.kycData.country||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M\xe9todo de Cobro"}),(0,t.jsx)("input",{type:"text",value:B.kycData.bankAccountType||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsx)("div",{className:"pt-4 border-t",children:(0,t.jsx)("button",{onClick:()=>y("kyc"),className:"w-full px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 font-medium transition",children:"✏️ Modificar Datos de Cobro"})})]}):(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCCB"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Datos no configurados"}),(0,t.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:"Completa tus datos de cobro para poder recibir tus ganancias"}),(0,t.jsx)("button",{onClick:()=>y("kyc"),className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium transition",children:"Completar Ahora"})]})]})]})]})]}),eG&&eZ&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e3,children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6 text-white",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("div",{className:"w-14 h-14 bg-white/20 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-3xl",children:"\uD83D\uDCF1"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Compartir en Telegram"}),(0,t.jsx)("p",{className:"text-green-100 text-sm",children:"Publicaci\xf3n autom\xe1tica"})]})]})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsx)("p",{className:"text-gray-700 mb-4",children:"\xbfEst\xe1s seguro que quieres compartir este producto en tu canal de Telegram?"}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Producto:"}),(0,t.jsx)("p",{className:"font-semibold text-gray-900",children:eZ.title})]}),(0,t.jsx)("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("span",{className:"text-xl",children:"ℹ️"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,t.jsx)("strong",{children:"Se publicar\xe1 autom\xe1ticamente"})," en tu canal:"]}),(0,t.jsxs)("p",{className:"text-sm text-blue-600 font-medium mt-1",children:[eI.channelTitle," ",eI.channelUsername&&"(".concat(eI.channelUsername,")")]})]})]})})]}),(0,t.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:e3,className:"px-5 py-2.5 border border-gray-300 rounded-lg hover:bg-gray-100 text-gray-700 font-medium transition",children:"Cancelar"}),(0,t.jsxs)("button",{onClick:e1,className:"px-5 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition flex items-center gap-2",children:[(0,t.jsx)("span",{children:"\uD83D\uDCE4"})," S\xed, Publicar Ahora"]})]})]})}),el&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>er(!1),children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"A\xf1adir Canal de Telegram"}),(0,t.jsx)("button",{onClick:()=>er(!1),className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[em&&(0,t.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-red-600",children:em})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID del Canal ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("input",{type:"text",value:en.channelId,onChange:e=>{ei({...en,channelId:e.target.value}),ex(null)},placeholder:"Ej: -1001234567890",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("button",{onClick:eX,disabled:ed||!en.channelId.trim(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:ed?"Verificando...":"Verificar"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes obtener el ID reenviando un mensaje del canal a @userinfobot"})]}),eo&&(0,t.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-green-800 font-medium",children:"✅ Canal verificado"}),(0,t.jsxs)("p",{className:"text-sm text-green-700",children:["Nombre: ",eo.title]}),eo.username&&(0,t.jsxs)("p",{className:"text-sm text-green-700",children:["@",eo.username]}),(0,t.jsxs)("p",{className:"text-sm text-green-700",children:["Tipo: ",eo.type]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre del Canal ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:en.channelTitle,onChange:e=>ei({...en,channelTitle:e.target.value}),placeholder:"Ej: Mi Canal Premium",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Canal"}),(0,t.jsxs)("select",{value:en.channelType,onChange:e=>ei({...en,channelType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"private",children:"\uD83D\uDD12 Privado"}),(0,t.jsx)("option",{value:"public",children:"\uD83C\uDF10 P\xfablico"})]})]}),"private"===en.channelType&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enlace de Invitaci\xf3n (Opcional)"}),(0,t.jsx)("input",{type:"text",value:en.inviteLink,onChange:e=>ei({...en,inviteLink:e.target.value}),placeholder:"Ej: https://t.me/+AbCdEf123456",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes generarlo despu\xe9s desde la lista de canales"})]}),(0,t.jsxs)("div",{className:"flex gap-3 justify-end pt-4",children:[(0,t.jsx)("button",{onClick:()=>er(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),(0,t.jsx)("button",{onClick:e0,disabled:eg||!en.channelId.trim()||!en.channelTitle.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:eg?"A\xf1adiendo...":"A\xf1adir Canal"})]})]})]})}),_&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e9,children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:H?"Editar Producto":"Crear Nuevo Producto"}),(0,t.jsx)("button",{onClick:e9,className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsxs)("div",{className:"p-6",children:[J&&(0,t.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,t.jsx)("p",{className:"text-sm text-red-600",children:J})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["T\xedtulo del Producto ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",value:Z.title,onChange:e=>$({...Z,title:e.target.value}),placeholder:"Ej: Pron\xf3sticos Premium Mensuales",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n"}),(0,t.jsx)("textarea",{rows:3,value:Z.description,onChange:e=>$({...Z,description:e.target.value}),placeholder:"Describe tu producto...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Precio (€) ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"number",step:"0.01",min:"0",value:Z.priceCents,onChange:e=>$({...Z,priceCents:e.target.value}),placeholder:"29.99",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Facturaci\xf3n"}),(0,t.jsxs)("select",{value:Z.billingType,onChange:e=>$({...Z,billingType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"ONE_TIME",children:"Pago \xfanico"}),(0,t.jsx)("option",{value:"SUBSCRIPTION",children:"Suscripci\xf3n"})]})]}),"SUBSCRIPTION"===Z.billingType&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frecuencia de Cobro"}),(0,t.jsxs)("select",{value:Z.subscriptionInterval,onChange:e=>$({...Z,subscriptionInterval:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"MONTHLY",children:"Mensual"}),(0,t.jsx)("option",{value:"QUARTERLY",children:"Trimestral (cada 3 meses)"}),(0,t.jsx)("option",{value:"ANNUAL",children:"Anual"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Si el cliente no renueva, perder\xe1 acceso autom\xe1ticamente al canal"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Canal de Telegram ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),0===ee.length?(0,t.jsxs)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,t.jsx)("p",{className:"text-sm text-yellow-800 mb-2",children:"⚠️ No tienes canales conectados"}),(0,t.jsx)("p",{className:"text-xs text-yellow-700 mb-3",children:"Debes conectar al menos un canal de Telegram para asignarlo a tus productos."}),(0,t.jsx)("button",{type:"button",onClick:()=>{e9(),y("telegram")},className:"text-sm text-blue-600 hover:underline font-medium",children:"Ir a conectar un canal →"})]}):(0,t.jsxs)("select",{value:Z.telegramChannelId,onChange:e=>$({...Z,telegramChannelId:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,t.jsx)("option",{value:"",children:"\uD83D\uDEAB Sin canal (solo confirmaci\xf3n de pago)"}),ee.map(e=>(0,t.jsxs)("option",{value:e.channelId,children:["public"===e.channelType?"\uD83C\uDF10":"\uD83D\uDD12"," ",e.channelTitle,e.channelName&&" (@".concat(e.channelName,")")]},e.id))]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:Z.telegramChannelId?"Los clientes recibir\xe1n acceso a este canal despu\xe9s de pagar":"Sin canal: Los clientes solo recibir\xe1n confirmaci\xf3n de pago"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",id:"active",checked:Z.active,onChange:e=>$({...Z,active:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),(0,t.jsx)("label",{htmlFor:"active",className:"ml-2 text-sm text-gray-700",children:"Producto activo"})]})]}),(0,t.jsxs)("div",{className:"mt-6 flex gap-3 justify-end",children:[(0,t.jsx)("button",{onClick:e9,disabled:W,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition disabled:opacity-50",children:"Cancelar"}),(0,t.jsx)("button",{onClick:e7,disabled:W,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 flex items-center gap-2",children:W?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Guardando..."]}):H?"Guardar Cambios":"Crear Producto"})]})]})]})}),G&&H&&(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e9,children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:H.title}),(0,t.jsx)("button",{onClick:e9,className:"text-gray-400 hover:text-gray-600",children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Descripci\xf3n"}),(0,t.jsx)("p",{className:"text-gray-900",children:H.description||"Sin descripci\xf3n"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Precio"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["€",(H.priceCents/100).toFixed(2)]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Estado"}),(0,t.jsx)("span",{className:"inline-block px-3 py-1 rounded text-sm font-medium ".concat(H.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"),children:H.active?"Activo":"Pausado"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Tipo de Facturaci\xf3n"}),(0,t.jsx)("p",{className:"text-gray-900",children:"SUBSCRIPTION"===H.billingType?"Suscripci\xf3n":"Pago \xfanico"})]}),H.telegramChannelId&&(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Canal de Telegram"}),(0,t.jsxs)("p",{className:"text-gray-900 flex items-center gap-2",children:["\uD83D\uDCF1 ",ae(H.telegramChannelId),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["(",H.telegramChannelId,")"]})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Estad\xedsticas"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Ventas"})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:"€0.00"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Ingresos"})]}),(0,t.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:"0"}),(0,t.jsx)("div",{className:"text-xs text-gray-600",children:"Suscriptores"})]})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 flex gap-3 justify-end",children:[(0,t.jsx)("button",{onClick:e9,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cerrar"}),(0,t.jsx)("button",{onClick:()=>{K(!1),e4(H)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Editar Producto"})]})]})]})})]})}}},function(e){e.O(0,[464,192,80,971,117,744],function(){return e(e.s=4275)}),_N_E=e.O()}]);