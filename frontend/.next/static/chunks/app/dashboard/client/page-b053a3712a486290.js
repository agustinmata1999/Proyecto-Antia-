(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[335],{3794:function(e,t,s){Promise.resolve().then(s.bind(s,2985))},9376:function(e,t,s){"use strict";var a=s(5475);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"useRouter")&&s.d(t,{useRouter:function(){return a.useRouter}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})},2985:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(7437),r=s(2265),l=s(9376),n=s(1837),i=s(3119);function c(){let e=(0,l.useRouter)(),[t,s]=(0,r.useState)("dashboard"),[c,o]=(0,r.useState)(!0),[d,m]=(0,r.useState)(null),[u,x]=(0,r.useState)(null),[g,p]=(0,r.useState)([]),[h,b]=(0,r.useState)([]),[y,f]=(0,r.useState)([]),[j,v]=(0,r.useState)([]),[N,D]=(0,r.useState)(!1),[w,C]=(0,r.useState)({category:"access",subject:"",description:"",orderId:""}),[k,E]=(0,r.useState)(!1),[P,S]=(0,r.useState)(null),[A,T]=(0,r.useState)(""),[I,M]=(0,r.useState)(!1),[R,L]=(0,r.useState)(!1),[O,F]=(0,r.useState)({countryIso:"",telegramUserId:"",locale:"es"}),[_,V]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(!localStorage.getItem("access_token")){e.push("/login");return}B()})()},[]);let B=async()=>{try{try{let e=await n.a6.getProfile();m(e.data.profile),x(e.data.user),e.data.profile&&F({countryIso:e.data.profile.countryIso||"",telegramUserId:e.data.profile.telegramUserId||"",locale:e.data.profile.locale||"es"})}catch(e){console.error("Error loading profile:",e)}try{let e=await n.a6.getPurchases();p(e.data)}catch(e){console.error("Error loading purchases:",e)}try{let e=await n.a6.getSubscriptions();b(e.data||[])}catch(e){console.error("Error loading subscriptions:",e)}try{let e=await n.Ty.getMyTickets();f(e.data)}catch(e){console.error("Error loading tickets:",e)}try{let e=await n.a6.getPaymentHistory();v(e.data)}catch(e){console.error("Error loading payments:",e)}}finally{o(!1)}},H=async()=>{try{await n.iJ.logout(),localStorage.removeItem("access_token"),e.push("/")}catch(t){console.error("Error logging out:",t),localStorage.removeItem("access_token"),e.push("/")}},z=async()=>{if(!w.subject.trim()||!w.description.trim()){alert("Por favor, completa todos los campos");return}E(!0);try{if((await n.Ty.createTicket({category:w.category,subject:w.subject.trim(),description:w.description.trim(),orderId:w.orderId||void 0})).data.success){alert("✅ Ticket creado correctamente"),D(!1),C({category:"access",subject:"",description:"",orderId:""});let e=await n.Ty.getMyTickets();f(e.data)}}catch(s){var e,t;alert("Error al crear ticket: "+((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Error desconocido"))}finally{E(!1)}},U=async e=>{S(e);try{let t=await n.Ty.getTicket(e.id);t.data&&S(t.data)}catch(e){console.error("Error loading ticket:",e)}},G=async()=>{if(A.trim()&&P){M(!0);try{await n.Ty.replyToTicket(P.id,{message:A.trim()}),T("");let e=await n.Ty.getTicket(P.id);e.data&&(S(e.data),f(t=>t.map(t=>t.id===P.id?e.data:t)))}catch(s){var e,t;alert("Error al enviar respuesta: "+((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Error desconocido"))}finally{M(!1)}}},q=async()=>{V(!0);try{if((await n.a6.updateProfile(O)).data.success){alert("✅ Perfil actualizado"),L(!1);let e=await n.a6.getProfile();m(e.data.profile)}}catch(s){var e,t;alert("Error: "+((null===(t=s.response)||void 0===t?void 0:null===(e=t.data)||void 0===e?void 0:e.message)||"Error al guardar"))}finally{V(!1)}},W=async e=>{if(confirm("\xbfEst\xe1s seguro de que quieres cancelar esta suscripci\xf3n?\n\nMantendr\xe1s el acceso hasta el final del periodo actual."))try{if((await n.a6.cancelSubscription(e)).data.success){alert("✅ Suscripci\xf3n cancelada. Mantendr\xe1s el acceso hasta el final del periodo actual.");let e=await n.a6.getSubscriptions();b(e.data||[])}}catch(e){var t,s;alert("Error: "+((null===(s=e.response)||void 0===s?void 0:null===(t=s.data)||void 0===t?void 0:t.message)||"Error al cancelar"))}},X=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EUR";return new Intl.NumberFormat("es-ES",{style:"currency",currency:t}).format(e/100)},Q=e=>new Date(e).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"}),Y=e=>(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat({ACTIVE:"bg-green-100 text-green-700",EXPIRED:"bg-red-100 text-red-700",PENDING:"bg-yellow-100 text-yellow-700",PENDING_ACCESS:"bg-blue-100 text-blue-700",REFUNDED:"bg-gray-100 text-gray-700"}[e]||"bg-gray-100 text-gray-600"),children:{ACTIVE:"✅ Activo",EXPIRED:"⏰ Vencido",PENDING:"⏳ Pendiente",PENDING_ACCESS:"\uD83D\uDD04 Procesando Acceso",REFUNDED:"↩️ Reembolsado"}[e]||e}),Z=e=>(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs font-medium ".concat({OPEN:"bg-yellow-100 text-yellow-700",IN_PROGRESS:"bg-blue-100 text-blue-700",RESOLVED:"bg-green-100 text-green-700",CLOSED:"bg-gray-100 text-gray-700"}[e]||"bg-gray-100 text-gray-600"),children:{OPEN:"\uD83D\uDD35 Abierto",IN_PROGRESS:"\uD83D\uDFE1 En Progreso",RESOLVED:"✅ Resuelto",CLOSED:"⚫ Cerrado"}[e]||e}),J=g.filter(e=>"ACTIVE"===e.status).length,K=g.reduce((e,t)=>e+(t.amountCents||0),0),$=y.filter(e=>"OPEN"===e.status||"IN_PROGRESS"===e.status).length;if(c)return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,a.jsx)("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})});let ee=e=>{let{emoji:t}=e;return(0,a.jsx)("span",{children:t})},et=[{id:"dashboard",label:"Dashboard",icon:(0,a.jsx)(ee,{emoji:"\uD83C\uDFE0"})},{id:"purchases",label:"Mis Compras",icon:(0,a.jsx)(ee,{emoji:"\uD83D\uDED2"}),badge:J>0?J:void 0,badgeColor:"bg-green-100 text-green-700"},{id:"subscriptions",label:"Mis Suscripciones",icon:(0,a.jsx)(ee,{emoji:"\uD83D\uDD04"}),badge:h.filter(e=>"active"===e.status).length>0?h.filter(e=>"active"===e.status).length:void 0,badgeColor:"bg-blue-100 text-blue-700"},{id:"payments",label:"Facturas y Pagos",icon:(0,a.jsx)(ee,{emoji:"\uD83D\uDCC4"})},{id:"support",label:"Soporte",icon:(0,a.jsx)(ee,{emoji:"\uD83D\uDCAC"}),badge:$>0?$:void 0,badgeColor:"bg-yellow-100 text-yellow-700"},{id:"profile",label:"Mi Perfil",icon:(0,a.jsx)(ee,{emoji:"⚙️"})}];return(0,a.jsxs)(i.Z,{navItems:et,activeView:t,onNavChange:e=>s(e),userInfo:{name:(null==u?void 0:u.name)||(null==u?void 0:u.email)||"Mi Cuenta",subtitle:null==u?void 0:u.email},onLogout:H,brandName:"Antia",brandColor:"blue",children:["dashboard"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-6 lg:mb-8",children:[(0,a.jsxs)("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-900",children:["\xa1Hola",(null==u?void 0:u.name)?", ".concat(u.name):"","!"]}),(0,a.jsx)("p",{className:"text-gray-600 mt-1 text-sm lg:text-base",children:"Gestiona tus compras y accesos"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 lg:gap-6 mb-6 lg:mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-4 lg:p-6 border border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-2xl",children:"✅"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Accesos Activos"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:J})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDED2"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Total Compras"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:g.length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-2xl",children:"\uD83D\uDCB0"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm text-gray-500",children:"Total Invertido"}),(0,a.jsx)("div",{className:"text-3xl font-bold text-gray-900",children:X(K)})]})]})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Accesos Activos"})}),(0,a.jsx)("div",{className:"p-6",children:0===g.filter(e=>"ACTIVE"===e.status).length?(0,a.jsxs)("div",{className:"text-center py-8",children:[(0,a.jsx)("div",{className:"text-5xl mb-4",children:"\uD83D\uDCED"}),(0,a.jsx)("p",{className:"text-gray-500 mb-4",children:"No tienes accesos activos"}),(0,a.jsx)("a",{href:"/",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Explorar Pron\xf3sticos"})]}):(0,a.jsx)("div",{className:"space-y-4",children:g.filter(e=>"ACTIVE"===e.status).map(e=>(0,a.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-green-300 transition",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:e.productTitle}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Por: ",e.tipsterName]}),e.expiresAt&&(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Vence: ",Q(e.expiresAt)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[Y(e.status),(0,a.jsx)("a",{href:"https://t.me",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm flex items-center gap-2",children:"\uD83D\uDCF1 Ir al Canal"})]})]})},e.id))})})]})]}),"purchases"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Compras"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Historial de todas tus compras y accesos"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:0===g.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDED2"}),(0,a.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No tienes compras a\xfan"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"Explora los mejores pron\xf3sticos y empieza a ganar"}),(0,a.jsx)("a",{href:"/",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Explorar Pron\xf3sticos"})]}):(0,a.jsx)("div",{className:"divide-y divide-gray-100",children:g.map(e=>(0,a.jsx)("div",{className:"p-6 hover:bg-gray-50 transition",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 text-lg",children:e.productTitle}),Y(e.status)]}),(0,a.jsxs)("p",{className:"text-gray-600 text-sm mb-2",children:["Por: ",e.tipsterName]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,a.jsxs)("span",{children:["\uD83D\uDCC5 Comprado: ",Q(e.createdAt)]}),e.validityDays&&(0,a.jsxs)("span",{children:["⏱️ Duraci\xf3n: ",e.validityDays," d\xedas"]}),e.expiresAt&&(0,a.jsxs)("span",{className:e.isExpired?"text-red-500":"",children:[e.isExpired?"❌ Venci\xf3":"\uD83D\uDCC6 Vence",": ",Q(e.expiresAt)]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"text-xl font-bold text-gray-900 mb-2",children:X(e.amountCents,e.currency)}),(0,a.jsxs)("div",{className:"flex gap-2",children:["ACTIVE"===e.status&&(0,a.jsx)("a",{href:"https://t.me",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm",children:"\uD83D\uDCF1 Ir al Canal"}),"EXPIRED"===e.status&&(0,a.jsx)("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:"\uD83D\uDD04 Renovar"})]})]})]})},e.id))})})]}),"subscriptions"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Suscripciones"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Gestiona tus suscripciones activas"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:0===h.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDD04"}),(0,a.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No tienes suscripciones activas"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Las suscripciones a productos premium aparecer\xe1n aqu\xed"})]}):(0,a.jsx)("div",{className:"divide-y divide-gray-100",children:h.map(e=>(0,a.jsx)("div",{className:"p-6 hover:bg-gray-50",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:e.productTitle}),(0,a.jsx)("span",{className:"px-2 py-0.5 rounded text-xs font-medium ".concat("active"===e.status?"bg-green-100 text-green-700":e.cancelAtPeriodEnd?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-600"),children:"active"===e.status?e.cancelAtPeriodEnd?"⏳ Cancelada al final del periodo":"✅ Activa":"canceled"===e.status?"❌ Cancelada":e.status})]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Por ",e.tipsterName]}),(0,a.jsxs)("div",{className:"flex items-center gap-6 mt-3 text-sm text-gray-600",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Precio:"})," ",X(e.amountCents,e.currency),"/","MONTHLY"===e.billingInterval?"mes":"QUARTERLY"===e.billingInterval?"trimestre":"a\xf1o"]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Pr\xf3ximo cobro:"})," ",Q(e.currentPeriodEnd)]})]}),e.telegramChannelId&&(0,a.jsx)("div",{className:"mt-3",children:(0,a.jsx)("a",{href:"https://t.me/".concat(e.telegramChannelId),target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-blue-600 hover:text-blue-800",children:"\uD83D\uDCF1 Acceder al canal de Telegram"})})]}),(0,a.jsx)("div",{className:"flex items-center gap-2",children:"active"===e.status&&!e.cancelAtPeriodEnd&&(0,a.jsx)("button",{onClick:()=>W(e.id),className:"px-4 py-2 text-red-600 hover:bg-red-50 rounded-lg text-sm font-medium transition",children:"Cancelar"})})]})},e.id))})})]}),"payments"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Facturas y Pagos"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Historial de todos tus pagos realizados"})]}),(0,a.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:0===j.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCC4"}),(0,a.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No hay pagos registrados"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Aqu\xed aparecer\xe1n tus recibos cuando realices una compra"})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Orden"}),(0,a.jsx)("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"M\xe9todo"}),(0,a.jsx)("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase",children:"Importe"}),(0,a.jsx)("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 uppercase",children:"Estado"}),(0,a.jsx)("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-100",children:j.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:Q(e.createdAt)}),(0,a.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500 font-mono",children:["#",e.id.substring(0,8)]}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:"stripe"===e.paymentProvider?"\uD83D\uDCB3 Stripe":"redsys"===e.paymentProvider?"\uD83C\uDFE6 Redsys":e.paymentMethod||"N/A"}),(0,a.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900 text-right font-medium",children:X(e.amountCents,e.currency)}),(0,a.jsx)("td",{className:"px-6 py-4 text-center",children:(0,a.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs",children:"✅ Pagado"})}),(0,a.jsx)("td",{className:"px-6 py-4 text-center",children:(0,a.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm",children:"\uD83D\uDCE5 Recibo"})})]},e.id))})]})})})]}),"support"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Soporte"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"\xbfNecesitas ayuda? Estamos aqu\xed para ti"})]}),(0,a.jsxs)("button",{onClick:()=>D(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition flex items-center gap-2",children:[(0,a.jsx)("span",{children:"➕"})," Nuevo Ticket"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,a.jsxs)("button",{onClick:()=>{C({...w,category:"access",subject:"No tengo acceso al canal"}),D(!0)},className:"bg-white p-6 rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-md transition text-left",children:[(0,a.jsx)("div",{className:"text-3xl mb-3",children:"\uD83D\uDD10"}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Problemas de Acceso"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Pagu\xe9 y no tengo acceso al canal"})]}),(0,a.jsxs)("button",{onClick:()=>{C({...w,category:"payment",subject:"Problema con el pago"}),D(!0)},className:"bg-white p-6 rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-md transition text-left",children:[(0,a.jsx)("div",{className:"text-3xl mb-3",children:"\uD83D\uDCB3"}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Problemas de Pago"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Error al procesar el pago"})]}),(0,a.jsxs)("button",{onClick:()=>{C({...w,category:"telegram_change",subject:"Cambio de cuenta Telegram"}),D(!0)},className:"bg-white p-6 rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-md transition text-left",children:[(0,a.jsx)("div",{className:"text-3xl mb-3",children:"\uD83D\uDCF1"}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Cambiar Telegram"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Cambi\xe9 de cuenta o celular"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Mis Tickets"})}),0===y.length?(0,a.jsxs)("div",{className:"p-12 text-center",children:[(0,a.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDCAC"}),(0,a.jsx)("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No tienes tickets"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Si tienes alg\xfan problema, crea un ticket y te ayudaremos"})]}):(0,a.jsx)("div",{className:"divide-y divide-gray-100",children:y.map(e=>(0,a.jsx)("div",{className:"p-6 hover:bg-gray-50 transition cursor-pointer",onClick:()=>U(e),children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.subject}),Z(e.status),e.responses&&e.responses.length>0&&(0,a.jsxs)("span",{className:"px-2 py-0.5 text-xs bg-blue-100 text-blue-700 rounded-full",children:[e.responses.length," respuesta",e.responses.length>1?"s":""]})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Creado: ",Q(e.createdAt)]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition",onClick:t=>{t.stopPropagation(),U(e)},children:"Ver detalle"}),(0,a.jsxs)("span",{className:"text-xs text-gray-400 font-mono",children:["#",e.id.substring(0,8)]})]})]})},e.id))})]}),P&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,a.jsxs)("div",{className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-hidden flex flex-col",children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-100",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:P.subject}),Z(P.status)]}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["Ticket #",P.id.substring(0,8)," • Creado: ",Q(P.createdAt)]})]}),(0,a.jsx)("button",{onClick:()=>S(null),className:"p-2 hover:bg-gray-100 rounded-lg transition",children:"✕"})]})}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",children:[(0,a.jsxs)("div",{className:"bg-blue-50 rounded-xl p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"text-lg",children:"\uD83D\uDC64"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:"T\xfa"}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:Q(P.createdAt)})]}),(0,a.jsx)("p",{className:"text-gray-700",children:P.message||P.description})]}),(P.responses||[]).map((e,t)=>(0,a.jsxs)("div",{className:"rounded-xl p-4 ".concat(e.isAdmin?"bg-green-50 ml-4":"bg-blue-50 mr-4"),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:"text-lg",children:e.isAdmin?"\uD83D\uDEE1️":"\uD83D\uDC64"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:e.isAdmin?"Soporte":"T\xfa"}),(0,a.jsx)("span",{className:"text-xs text-gray-400",children:Q(e.createdAt)})]}),(0,a.jsx)("p",{className:"text-gray-700",children:e.message}),e.attachments&&e.attachments.length>0&&(0,a.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:e.attachments.map((e,t)=>(0,a.jsxs)("a",{href:e,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline",children:["\uD83D\uDCCE Adjunto ",t+1]},t))})]},e.id||t)),(!P.responses||0===P.responses.length)&&(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:(0,a.jsx)("p",{children:"Esperando respuesta del equipo de soporte..."})})]}),"RESOLVED"!==P.status&&(0,a.jsx)("div",{className:"p-6 border-t border-gray-100 bg-gray-50",children:(0,a.jsxs)("div",{className:"flex gap-3",children:[(0,a.jsx)("textarea",{value:A,onChange:e=>T(e.target.value),placeholder:"Escribe tu respuesta...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 resize-none",rows:2}),(0,a.jsx)("button",{onClick:G,disabled:I||!A.trim(),className:"px-6 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition font-medium",children:I?"...":"Enviar"})]})}),"RESOLVED"===P.status&&(0,a.jsx)("div",{className:"p-6 border-t border-gray-100 bg-green-50 text-center",children:(0,a.jsx)("p",{className:"text-green-700 font-medium",children:"✅ Este ticket ha sido resuelto"})})]})})]}),"profile"===t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Mi Perfil"}),(0,a.jsx)("p",{className:"text-gray-600 mt-1",children:"Gestiona tu informaci\xf3n personal"})]}),(0,a.jsxs)("div",{className:"max-w-2xl",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6 pb-6 border-b border-gray-100",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-3xl",children:"\uD83D\uDC64"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:(null==u?void 0:u.name)||"Usuario"}),(0,a.jsx)("p",{className:"text-gray-500",children:null==u?void 0:u.email})]})]}),R?(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pa\xeds"}),(0,a.jsxs)("select",{value:O.countryIso,onChange:e=>F({...O,countryIso:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Seleccionar..."}),(0,a.jsx)("option",{value:"ES",children:"Espa\xf1a"}),(0,a.jsx)("option",{value:"MX",children:"M\xe9xico"}),(0,a.jsx)("option",{value:"AR",children:"Argentina"}),(0,a.jsx)("option",{value:"CO",children:"Colombia"}),(0,a.jsx)("option",{value:"CL",children:"Chile"}),(0,a.jsx)("option",{value:"PE",children:"Per\xfa"}),(0,a.jsx)("option",{value:"US",children:"Estados Unidos"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID de Telegram"}),(0,a.jsx)("input",{type:"text",value:O.telegramUserId,onChange:e=>F({...O,telegramUserId:e.target.value}),placeholder:"Tu ID de Telegram",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Idioma"}),(0,a.jsxs)("select",{value:O.locale,onChange:e=>F({...O,locale:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"es",children:"Espa\xf1ol"}),(0,a.jsx)("option",{value:"en",children:"English"})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,a.jsx)("button",{onClick:q,disabled:_,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:_?"Guardando...":"Guardar Cambios"}),(0,a.jsx)("button",{onClick:()=>L(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"})]})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Email"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:null==u?void 0:u.email})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Pa\xeds"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:(null==d?void 0:d.countryIso)||"No especificado"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Telegram ID"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:(null==d?void 0:d.telegramUserId)||"No vinculado"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Idioma"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:(null==d?void 0:d.locale)==="es"?"Espa\xf1ol":"English"})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center py-3",children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Miembro desde"}),(0,a.jsx)("span",{className:"font-medium text-gray-900",children:(null==d?void 0:d.createdAt)?Q(d.createdAt):"N/A"})]}),(0,a.jsx)("button",{onClick:()=>L(!0),className:"w-full mt-4 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium",children:"✏️ Editar Perfil"})]})]}),(0,a.jsxs)("div",{className:"mt-6 bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-900 mb-4",children:"Legal"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("a",{href:"#",className:"block text-blue-600 hover:underline",children:"\uD83D\uDCDC T\xe9rminos y Condiciones"}),(0,a.jsx)("a",{href:"#",className:"block text-blue-600 hover:underline",children:"\uD83D\uDD12 Pol\xedtica de Privacidad"}),(0,a.jsx)("a",{href:"#",className:"block text-blue-600 hover:underline",children:"⚠️ Disclaimer +18 (Apuestas)"})]})]})]})]}),N&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>D(!1),children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full mx-4",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Crear Ticket de Soporte"})}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categor\xeda"}),(0,a.jsxs)("select",{value:w.category,onChange:e=>C({...w,category:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"access",children:"\uD83D\uDD10 Problemas de Acceso"}),(0,a.jsx)("option",{value:"payment",children:"\uD83D\uDCB3 Problemas de Pago"}),(0,a.jsx)("option",{value:"telegram_change",children:"\uD83D\uDCF1 Cambio de Telegram"}),(0,a.jsx)("option",{value:"other",children:"❓ Otro"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asunto"}),(0,a.jsx)("input",{type:"text",value:w.subject,onChange:e=>C({...w,subject:e.target.value}),placeholder:"Describe brevemente tu problema",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n"}),(0,a.jsx)("textarea",{value:w.description,onChange:e=>C({...w,description:e.target.value}),placeholder:"Cu\xe9ntanos m\xe1s detalles...",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),g.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compra relacionada (opcional)"}),(0,a.jsxs)("select",{value:w.orderId,onChange:e=>C({...w,orderId:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[(0,a.jsx)("option",{value:"",children:"Ninguna"}),g.map(e=>(0,a.jsxs)("option",{value:e.id,children:[e.productTitle," - ",Q(e.createdAt)]},e.id))]})]})]}),(0,a.jsxs)("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[(0,a.jsx)("button",{onClick:()=>D(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),(0,a.jsx)("button",{onClick:z,disabled:k,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:k?"Enviando...":"Enviar Ticket"})]})]})})]})}},3119:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(7437),r=s(2265);function l(e){let{children:t,navItems:s,activeView:l,onNavChange:n,userInfo:i,onLogout:c,headerActions:o,brandName:d="Antia",brandColor:m="blue",badgeText:u}=e,[x,g]=(0,r.useState)(!1),[p,h]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=()=>{h(window.innerWidth<1024)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let b=(e,t)=>{t?t():n(e),p&&g(!1)},y="red"===m?"text-red-600":"text-blue-600",f="red"===m?"bg-red-50":"bg-blue-50",j="red"===m?"text-red-600":"text-blue-600";return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("header",{className:"lg:hidden fixed top-0 left-0 right-0 z-40 bg-white border-b border-gray-100 px-4 py-3",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("button",{onClick:()=>g(!0),className:"p-2 -ml-2 text-gray-600 hover:bg-gray-100 rounded-lg","aria-label":"Abrir men\xfa","data-testid":"mobile-menu-button",children:(0,a.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),(0,a.jsx)("span",{className:"text-xl font-bold ".concat(y),children:d})]}),o&&(0,a.jsx)("div",{className:"flex items-center gap-2",children:o})]})}),x&&p&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/50 z-40 lg:hidden",onClick:()=>{p&&g(!1)},"aria-hidden":"true"}),(0,a.jsx)("aside",{className:"\n          fixed top-0 left-0 h-full bg-white border-r border-gray-100 z-50\n          transition-transform duration-300 ease-in-out\n          w-64\n          ".concat(p?x?"translate-x-0":"-translate-x-full":"translate-x-0","\n        "),"data-testid":"sidebar",children:(0,a.jsxs)("div",{className:"p-6 h-full flex flex-col",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("div",{className:"text-2xl font-bold ".concat(y),children:d}),p&&(0,a.jsx)("button",{onClick:()=>g(!1),className:"p-2 -mr-2 text-gray-600 hover:bg-gray-100 rounded-lg lg:hidden","aria-label":"Cerrar men\xfa","data-testid":"close-sidebar-button",children:(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),u&&(0,a.jsx)("div",{className:"text-xs ".concat("red"===m?"bg-red-100 text-red-700":"bg-blue-100 text-blue-700"," px-2 py-1 rounded inline-block mb-6 w-fit"),children:u}),(0,a.jsx)("div",{className:"".concat(u?"":"mt-6"," mb-6 pb-6 border-b border-gray-100"),children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 ".concat("red"===m?"bg-red-100":"bg-blue-100"," rounded-full flex items-center justify-center flex-shrink-0"),children:i.avatar||(0,a.jsx)("svg",{className:"w-5 h-5 ".concat("red"===m?"text-red-600":"text-blue-600"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,a.jsxs)("div",{className:"min-w-0 flex-1",children:[(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900 truncate",children:i.name}),i.subtitle&&(0,a.jsx)("div",{className:"text-xs text-gray-400 truncate",children:i.subtitle})]})]})}),(0,a.jsx)("nav",{className:"space-y-1 flex-1 overflow-y-auto",children:s.map(e=>(0,a.jsxs)("button",{onClick:()=>b(e.id,e.onClick),"data-testid":"nav-".concat(e.id),className:"\n                  w-full flex items-center justify-between px-3 py-2.5 rounded-lg text-sm transition-colors\n                  ".concat(l===e.id?"".concat(f," ").concat(j," font-medium"):"text-gray-600 hover:bg-gray-50","\n                "),children:[(0,a.jsxs)("span",{className:"flex items-center gap-3",children:[e.icon,(0,a.jsx)("span",{className:"truncate",children:e.label})]}),void 0!==e.badge&&null!==e.badge&&(0,a.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full ".concat(e.badgeColor||"bg-green-100 text-green-700"),children:e.badge})]},e.id))}),(0,a.jsx)("div",{className:"pt-4 mt-4 border-t border-gray-100",children:(0,a.jsxs)("button",{onClick:()=>{c(),g(!1)},"data-testid":"logout-button",className:"w-full flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm text-gray-600 hover:bg-gray-50 transition-colors",children:[(0,a.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Cerrar Sesi\xf3n"]})})]})}),(0,a.jsxs)("main",{className:"pt-20 lg:pt-8 lg:ml-64 px-4 sm:px-6 lg:px-8 pb-8",children:[o&&(0,a.jsx)("div",{className:"hidden lg:flex fixed top-4 right-8 z-30 items-center gap-3",children:o}),(0,a.jsx)("div",{className:"mt-2 lg:mt-4",children:t})]})]})}},1837:function(e,t,s){"use strict";s.d(t,{$z:function(){return o},Nq:function(){return p},Q4:function(){return c},Qm:function(){return b},Ty:function(){return g},a6:function(){return x},aq:function(){return y},bs:function(){return n},fi:function(){return i},g8:function(){return l},hi:function(){return a},iJ:function(){return r},jk:function(){return h},kn:function(){return d},lY:function(){return m},wT:function(){return u},yM:function(){return f}});let a=s(3464).Z.create({baseURL:"/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),a.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)!==401||["/login","/register","/"].includes(window.location.pathname)||(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});let r={registerTipster:e=>a.post("/auth/tipster/register",e),registerClient:e=>a.post("/auth/client/register",e),login:e=>a.post("/auth/login",e),logout:()=>a.post("/auth/logout"),sendOtp:e=>a.post("/auth/otp/send",{email:e}),verifyOtp:e=>a.post("/auth/otp/verify",{code:e})},l={getMe:()=>a.get("/users/me"),updateMe:e=>a.patch("/users/me",e)},n={getProfile:()=>a.get("/tipster/profile"),getKycStatus:()=>a.get("/tipster/kyc-status"),updateKyc:e=>a.put("/tipster/kyc",e)},i={create:e=>a.post("/products",e),getMy:()=>a.get("/products/my"),getOne:e=>a.get("/products/".concat(e)),update:(e,t)=>a.patch("/products/".concat(e),t),publish:e=>a.post("/products/".concat(e,"/publish")),pause:e=>a.post("/products/".concat(e,"/pause")),getCheckoutLink:e=>a.get("/products/".concat(e,"/checkout-link"))},c={getLinks:()=>a.get("/referrals/links"),getMetrics:e=>a.get("/referrals/metrics",{params:{range:e}}),getCommissions:()=>a.get("/referrals/commissions")},o={getChannelInfo:()=>a.get("/telegram/channel-info"),connect:e=>a.post("/telegram/connect",{channelIdentifier:e}),disconnect:()=>a.delete("/telegram/disconnect"),publishProduct:(e,t)=>a.post("/products/".concat(e,"/publish-telegram"),t?{channelId:t}:{}),setPremiumChannel:e=>a.post("/telegram/premium-channel",{premiumChannelLink:e}),auth:{connect:e=>a.post("/telegram/auth/connect",e),connectWithCode:e=>a.post("/telegram/auth/connect-with-code",{linkCode:e}),disconnect:()=>a.post("/telegram/auth/disconnect"),getStatus:()=>a.get("/telegram/auth/status"),getAvailableChannels:()=>a.get("/telegram/auth/available-channels"),autoConnectChannel:e=>a.post("/telegram/auth/auto-connect-channel",{channelId:e}),getBotInfo:()=>a.get("/telegram/auth/bot-info"),connectPreLogin:(e,t,s)=>a.post("/telegram/auth/connect-pre-login",{email:e,password:t,linkCode:s}),connectDuringRegister:e=>a.post("/telegram/auth/connect-during-register",{linkCode:e})},publicationChannel:{get:()=>a.get("/telegram/publication-channel"),set:(e,t)=>a.post("/telegram/publication-channel",{channelId:e,channelTitle:t}),remove:()=>a.delete("/telegram/publication-channel"),startLinking:()=>a.post("/telegram/publication-channel/start-linking"),cancelLinking:()=>a.post("/telegram/publication-channel/cancel-linking")},channels:{getAll:()=>a.get("/telegram/channels"),getOne:e=>a.get("/telegram/channels/".concat(e)),create:e=>a.post("/telegram/channels",e),verify:e=>a.post("/telegram/channels/verify",{channelId:e}),update:(e,t)=>a.patch("/telegram/channels/".concat(e),t),delete:e=>a.delete("/telegram/channels/".concat(e)),refresh:e=>a.post("/telegram/channels/".concat(e,"/refresh")),generateInviteLink:e=>a.post("/telegram/channels/".concat(e,"/invite-link")),connectByName:(e,t)=>a.post("/telegram/channels/connect-by-name",{channelName:e,inviteLink:t}),connectByInviteLink:e=>a.post("/telegram/channels/connect-by-invite-link",{inviteLink:e}),searchByName:e=>a.post("/telegram/channels/search-by-name",{channelName:e}),connectById:e=>a.post("/telegram/channels/connect-by-id",{channelId:e}),verifyById:e=>a.post("/telegram/channels/verify-by-id",{channelId:e})}},d={getMy:()=>a.get("/orders/my"),getMySales:()=>a.get("/orders/sales"),getMyStats:()=>a.get("/orders/stats")},m={getAll:()=>a.get("/settlements"),getPending:()=>a.get("/settlements/pending"),getHistory:()=>a.get("/settlements/history"),getTotalPaid:()=>a.get("/settlements/total-paid")},u={getMyModules:()=>a.get("/users/me/modules")},x={getProfile:()=>a.get("/client/profile"),updateProfile:e=>a.put("/client/profile",e),getPurchases:()=>a.get("/client/purchases"),getPurchaseDetails:e=>a.get("/client/purchases/".concat(e)),getSubscriptions:()=>a.get("/client/subscriptions"),cancelSubscription:e=>a.post("/client/subscriptions/".concat(e,"/cancel")),getPaymentHistory:()=>a.get("/client/payments")},g={createTicket:e=>a.post("/support/tickets",e),getMyTickets:()=>a.get("/support/tickets/my"),getTicketDetails:e=>a.get("/support/tickets/my/".concat(e)),getTicket:e=>a.get("/support/tickets/my/".concat(e)),replyToTicket:(e,t)=>a.post("/support/tickets/".concat(e,"/reply"),t),admin:{getAllTickets:e=>a.get("/support/admin/tickets",{params:{status:e}}),updateTicket:(e,t)=>a.put("/support/admin/tickets/".concat(e),t)}},p={tipsters:{getAll:()=>a.get("/admin/tipsters"),getOne:e=>a.get("/admin/tipsters/".concat(e)),updateModules:(e,t)=>a.patch("/admin/tipsters/".concat(e,"/modules"),t)},sales:{getAll:e=>a.get("/admin/sales",{params:e})},support:{getAll:e=>a.get("/admin/support/tickets",{params:{status:e}}),getStats:()=>a.get("/admin/support/tickets/stats"),getOne:e=>a.get("/admin/support/tickets/".concat(e)),reply:(e,t)=>a.post("/admin/support/tickets/".concat(e,"/reply"),{message:t}),updateStatus:(e,t)=>a.patch("/admin/support/tickets/".concat(e,"/status"),{status:t})},applications:{getAll:e=>a.get("/admin/applications",{params:{status:e}}),getStats:()=>a.get("/admin/applications/stats"),getOne:e=>a.get("/admin/applications/".concat(e)),review:(e,t)=>a.post("/admin/applications/".concat(e,"/review"),t)},commissions:{getAll:()=>a.get("/admin/commissions"),getOne:e=>a.get("/admin/commissions/".concat(e)),getHistory:e=>a.get("/admin/commissions/".concat(e,"/history")),update:(e,t)=>a.patch("/admin/commissions/".concat(e),t)},reports:{getSummary:e=>a.get("/admin/reports/summary",{params:{currency:e}}),getSales:e=>a.get("/admin/reports/sales",{params:e}),getPlatform:e=>a.get("/admin/reports/platform",{params:e}),getSettlements:e=>a.get("/admin/reports/settlements",{params:e}),getTipsters:e=>a.get("/admin/reports/tipsters",{params:e}),exportCSV:(e,t)=>a.get("/admin/reports/export/".concat(e),{params:t,responseType:"blob"})}},h={getRates:()=>a.get("/currency/rates"),getRate:(e,t)=>a.get("/currency/rate/".concat(e,"/").concat(t)),convert:(e,t,s)=>a.get("/currency/convert",{params:{amount:e,from:t,to:s}}),admin:{setRate:(e,t,s)=>a.post("/currency/admin/rate",{baseCurrency:e,targetCurrency:t,rate:s}),removeOverride:(e,t)=>a.delete("/currency/admin/rate/".concat(e,"/").concat(t)),getHistory:(e,t,s)=>a.get("/currency/admin/history/".concat(e,"/").concat(t),{params:{limit:s}})}},b={getHousesWithLinks:e=>a.get("/affiliate/houses",{params:{countryCode:e}}),getHouseWithLink:e=>a.get("/affiliate/houses/".concat(e)),getMyLinks:()=>a.get("/affiliate/my-links"),generateLink:e=>a.post("/affiliate/houses/".concat(e,"/link")),getCampaigns:()=>a.get("/affiliate/campaigns"),getCampaign:e=>a.get("/affiliate/campaigns/".concat(e)),getMetrics:()=>a.get("/affiliate/metrics"),getPayouts:()=>a.get("/affiliate/payouts"),getPayoutDetails:e=>a.get("/affiliate/payouts/".concat(e)),getMyReferrals:e=>a.get("/affiliate/my-referrals",{params:e}),admin:{getHouses:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.get("/admin/affiliate/houses",{params:{includeInactive:e}})},getHouse:e=>a.get("/admin/affiliate/houses/".concat(e)),createHouse:e=>a.post("/admin/affiliate/houses",e),updateHouse:(e,t)=>a.patch("/admin/affiliate/houses/".concat(e),t),getCampaigns:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return a.get("/admin/affiliate/campaigns",{params:{includeInactive:e}})},getCampaign:e=>a.get("/admin/affiliate/campaigns/".concat(e)),createCampaign:e=>a.post("/admin/affiliate/campaigns",e),updateCampaign:(e,t)=>a.patch("/admin/affiliate/campaigns/".concat(e),t),importCsv:e=>a.post("/admin/affiliate/import-csv",e,{headers:{"Content-Type":"multipart/form-data"}}),getImportBatches:e=>a.get("/admin/affiliate/import-batches",{params:{houseId:e}}),getConversions:e=>a.get("/admin/affiliate/conversions",{params:e}),updateConversionStatus:(e,t,s)=>a.patch("/admin/affiliate/conversions/".concat(e,"/status"),{status:t,rejectionReason:s}),getReferrals:e=>a.get("/admin/affiliate/referrals",{params:e}),updateReferralStatus:(e,t)=>a.patch("/admin/affiliate/referrals/".concat(e,"/status"),{status:t}),getTipsters:()=>a.get("/admin/affiliate/tipsters"),getPayouts:e=>a.get("/admin/affiliate/payouts",{params:e}),generatePayouts:e=>a.post("/admin/affiliate/payouts/generate",{periodMonth:e}),markPayoutPaid:(e,t)=>a.patch("/admin/affiliate/payouts/".concat(e,"/pay"),t)}},y={uploadAvatar:e=>{let t=new FormData;return t.append("file",e),a.post("/upload/avatar",t,{headers:{"Content-Type":"multipart/form-data"}})},uploadTicketFiles:e=>{let t=new FormData;return e.forEach(e=>t.append("files",e)),a.post("/upload/tickets",t,{headers:{"Content-Type":"multipart/form-data"}})}},f={getBalance:()=>a.get("/withdrawals/balance"),createRequest:e=>a.post("/withdrawals/request",e),getMy:()=>a.get("/withdrawals/my"),admin:{getAll:e=>a.get("/admin/withdrawals",{params:e}),approve:(e,t)=>a.patch("/admin/withdrawals/".concat(e,"/approve"),{adminNotes:t}),pay:(e,t)=>a.patch("/admin/withdrawals/".concat(e,"/pay"),t),reject:(e,t)=>a.patch("/admin/withdrawals/".concat(e,"/reject"),{rejectionReason:t})}}}},function(e){e.O(0,[464,971,117,744],function(){return e(e.s=3794)}),_N_E=e.O()}]);