(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[637],{1436:function(e,t,s){Promise.resolve().then(s.bind(s,6947))},9763:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var a=s(2265),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,a.forwardRef)((s,l)=>{let{color:c="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:m="",children:u,...h}=s;return(0,a.createElement)("svg",{ref:l,...r,width:i,height:i,stroke:c,strokeWidth:d?24*Number(o)/Number(i):o,className:["lucide","lucide-".concat(n(e)),m].join(" "),...h},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(u)?u:[u]])});return s.displayName="".concat(e),s}},5863:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(9763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},6947:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var a=s(7437),r=s(2265),n=s(9376),l=s(1837),c=s(5863),i=s(9763);let o=(0,i.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),d=(0,i.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),m=(0,i.Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]),u=(0,i.Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var h=s(7648);function x(){let e,t;let s=(0,n.useSearchParams)(),i=s.get("session_id"),x=s.get("order_id"),[p,g]=(0,r.useState)(!0),[f,b]=(0,r.useState)(""),[y,j]=(0,r.useState)(null),[N,v]=(0,r.useState)(!1),[w,k]=(0,r.useState)(5),C=()=>"Antiabetbot",S=()=>x?"https://t.me/".concat(C(),"?start=order_").concat(x):"https://t.me/".concat(C());(0,r.useEffect)(()=>{x?A():(b("Sesi\xf3n de pago no v\xe1lida"),g(!1))},[x,i]),(0,r.useEffect)(()=>{if(!p&&!f&&y){v(!0);let e=setInterval(()=>{k(t=>t<=1?(clearInterval(e),window.location.href=S(),0):t-1)},1e3);return()=>clearInterval(e)}},[p,f,y]);let A=async()=>{try{let e=await l.hi.post("/checkout/complete-payment",{orderId:x,sessionId:i});j(e.data),g(!1)}catch(e){console.error("Error completing payment:",e);try{let e=await l.hi.get("/checkout/order/".concat(x));j(e.data)}catch(e){b("Error al procesar el pago")}g(!1)}};if(p)return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center max-w-md w-full mx-4",children:[(0,a.jsx)(c.Z,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Procesando pago..."}),(0,a.jsx)("p",{className:"text-gray-500",children:"Por favor espera mientras confirmamos tu pago"})]})});if(f&&!y)return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center max-w-md w-full mx-4",children:[(0,a.jsx)(o,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Verificaci\xf3n pendiente"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:f}),(0,a.jsx)(h.default,{href:"/",className:"inline-block bg-black text-white px-6 py-3 rounded-xl font-medium hover:bg-gray-800 transition-colors",children:"Volver al inicio"})]})});let M=null==y?void 0:y.order,E=null==y?void 0:y.product,T=null==y?void 0:y.tipster;return(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 py-8 px-4",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-lg text-center",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(d,{className:"w-10 h-10 text-green-600"})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\xa1Pago Confirmado!"}),(0,a.jsx)("p",{className:"text-gray-500 mb-6",children:"Tu compra ha sido procesada exitosamente."}),E&&(0,a.jsxs)("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 text-left",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Detalles de la compra"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Producto"}),(0,a.jsx)("span",{className:"font-medium",children:E.title})]}),T&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Tipster"}),(0,a.jsx)("span",{className:"font-medium",children:T.publicName})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Total pagado"}),(0,a.jsx)("span",{className:"font-bold text-green-600",children:(e=(null==M?void 0:M.amountCents)||E.priceCents,t=(null==M?void 0:M.currency)||E.currency,new Intl.NumberFormat("es-ES",{style:"currency",currency:t}).format(e/100))})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Estado"}),(0,a.jsx)("span",{className:"font-medium text-green-600",children:"✓ Pagado"})]})]})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border-2 border-blue-200 rounded-xl p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-3",children:[(0,a.jsx)(m,{className:"w-6 h-6 text-blue-600"}),(0,a.jsx)("h3",{className:"font-bold text-blue-900 text-lg",children:"Acceso a tu canal"})]}),N&&w>0&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-blue-800 mb-2",children:"Ser\xe1s redirigido a Telegram en..."}),(0,a.jsx)("div",{className:"text-4xl font-bold text-blue-600",children:w})]}),(0,a.jsx)("p",{className:"text-sm text-blue-800 mb-4",children:"Haz clic en el bot\xf3n para ir a Telegram y recibir tu acceso al canal premium."}),(0,a.jsxs)("button",{onClick:()=>{window.location.href=S()},className:"w-full bg-blue-600 text-white py-4 rounded-xl font-bold hover:bg-blue-700 transition-colors flex items-center justify-center gap-2 text-lg",children:[(0,a.jsx)(m,{className:"w-6 h-6"}),"Ir a Telegram Ahora"]}),(0,a.jsx)("p",{className:"text-xs text-blue-600 mt-3",children:"Se abrir\xe1 la app de Telegram autom\xe1ticamente"})]}),(0,a.jsxs)("div",{className:"bg-green-50 rounded-xl p-4 mb-6 text-left",children:[(0,a.jsx)("h3",{className:"font-semibold text-green-900 mb-2",children:"\uD83D\uDCCB Qu\xe9 pasar\xe1 ahora"}),(0,a.jsxs)("ul",{className:"text-sm text-green-800 space-y-2",children:[(0,a.jsx)("li",{children:"1️⃣ Ser\xe1s redirigido al bot de Antia en Telegram"}),(0,a.jsx)("li",{children:"2️⃣ El bot verificar\xe1 tu pago autom\xe1ticamente"}),(0,a.jsx)("li",{children:"3️⃣ Recibir\xe1s el enlace para unirte al canal"}),(0,a.jsx)("li",{children:"4️⃣ \xa1Listo! Empieza a recibir los pron\xf3sticos"})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:"\xbfNo se abre autom\xe1ticamente?"}),(0,a.jsxs)("a",{href:S(),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline text-sm flex items-center justify-center gap-1",children:[(0,a.jsx)(u,{className:"w-4 h-4"}),"Abrir en nueva pesta\xf1a"]})]})]}),(0,a.jsx)("div",{className:"text-center mt-6",children:(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:["\xbfTienes problemas?"," ",(0,a.jsx)("a",{href:"https://t.me/AntiaSupport",target:"_blank",className:"text-blue-600 hover:underline",children:"Contacta con @AntiaSupport"})]})})]})})}function p(){return(0,a.jsx)(r.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-2xl shadow-lg text-center max-w-md w-full mx-4",children:[(0,a.jsx)(c.Z,{className:"w-12 h-12 animate-spin text-blue-600 mx-auto mb-4"}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Cargando..."})]})}),children:(0,a.jsx)(x,{})})}},1837:function(e,t,s){"use strict";s.d(t,{$z:function(){return c},Nq:function(){return m},Q4:function(){return l},fi:function(){return n},hi:function(){return a},iJ:function(){return r},kn:function(){return i},lY:function(){return o},wT:function(){return d}});let a=s(3464).Z.create({baseURL:"https://antia-tipster.preview.emergentagent.com/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),a.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)!==401||["/login","/register","/"].includes(window.location.pathname)||(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});let r={registerTipster:e=>a.post("/auth/tipster/register",e),registerClient:e=>a.post("/auth/client/register",e),login:e=>a.post("/auth/login",e),logout:()=>a.post("/auth/logout"),sendOtp:e=>a.post("/auth/otp/send",{email:e}),verifyOtp:e=>a.post("/auth/otp/verify",{code:e})},n={create:e=>a.post("/products",e),getMy:()=>a.get("/products/my"),getOne:e=>a.get("/products/".concat(e)),update:(e,t)=>a.patch("/products/".concat(e),t),publish:e=>a.post("/products/".concat(e,"/publish")),pause:e=>a.post("/products/".concat(e,"/pause")),getCheckoutLink:e=>a.get("/products/".concat(e,"/checkout-link"))},l={getLinks:()=>a.get("/referrals/links"),getMetrics:e=>a.get("/referrals/metrics",{params:{range:e}}),getCommissions:()=>a.get("/referrals/commissions")},c={getChannelInfo:()=>a.get("/telegram/channel-info"),connect:e=>a.post("/telegram/connect",{channelIdentifier:e}),disconnect:()=>a.delete("/telegram/disconnect"),publishProduct:e=>a.post("/products/".concat(e,"/publish-telegram")),setPremiumChannel:e=>a.post("/telegram/premium-channel",{premiumChannelLink:e}),channels:{getAll:()=>a.get("/telegram/channels"),getOne:e=>a.get("/telegram/channels/".concat(e)),create:e=>a.post("/telegram/channels",e),verify:e=>a.post("/telegram/channels/verify",{channelId:e}),update:(e,t)=>a.patch("/telegram/channels/".concat(e),t),delete:e=>a.delete("/telegram/channels/".concat(e)),refresh:e=>a.post("/telegram/channels/".concat(e,"/refresh")),generateInviteLink:e=>a.post("/telegram/channels/".concat(e,"/invite-link"))}},i={getMy:()=>a.get("/orders/my"),getMySales:()=>a.get("/orders/sales"),getMyStats:()=>a.get("/orders/stats")},o={getAll:()=>a.get("/settlements"),getPending:()=>a.get("/settlements/pending"),getHistory:()=>a.get("/settlements/history"),getTotalPaid:()=>a.get("/settlements/total-paid")},d={getMyModules:()=>a.get("/users/me/modules")},m={tipsters:{getAll:()=>a.get("/admin/tipsters"),getOne:e=>a.get("/admin/tipsters/".concat(e)),updateModules:(e,t)=>a.patch("/admin/tipsters/".concat(e,"/modules"),t)}}}},function(e){e.O(0,[301,648,971,117,744],function(){return e(e.s=1436)}),_N_E=e.O()}]);