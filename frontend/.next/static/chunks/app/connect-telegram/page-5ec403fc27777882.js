(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{811:function(e,t,r){Promise.resolve().then(r.bind(r,7431))},401:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},8906:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(9763).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},7431:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return h}});var a=r(7437),s=r(2265),l=r(9376),n=r(7648),c=r(1837);let i=(0,r(9763).Z)("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);var d=r(401),o=r(8906),m=r(2718),u=r(6362);function x(){let e=(0,l.useRouter)(),t=(0,l.useSearchParams)(),r=t.get("email")||"",x=t.get("code")||"",[h,b]=(0,s.useState)(r),[g,p]=(0,s.useState)(""),[f,j]=(0,s.useState)(x),[v,y]=(0,s.useState)(!1),[N,w]=(0,s.useState)(""),[k,C]=(0,s.useState)(!1),[S,T]=(0,s.useState)("Antiabetbot"),[Z,P]=(0,s.useState)(!!x);(0,s.useEffect)(()=>{(async()=>{try{let e=await c.$z.auth.getBotInfo();e.data.botUsername&&T(e.data.botUsername)}catch(e){console.error("Error loading bot info:",e)}})(),x&&P(!0)},[x]);let z=async t=>{if(t.preventDefault(),!h||!g){w("Por favor, ingresa tu email y contrase\xf1a");return}if(!f.trim()){w("Por favor, ingresa el c\xf3digo de vinculaci\xf3n");return}y(!0),w("");try{(await c.$z.auth.connectPreLogin(h,g,f.trim().toUpperCase())).data.success&&(C(!0),setTimeout(()=>{e.push("/login?telegram_connected=true")},2e3))}catch(e){var r,a;w((null===(a=e.response)||void 0===a?void 0:null===(r=a.data)||void 0===r?void 0:r.message)||"Error al conectar Telegram. Verifica tus credenciales y el c\xf3digo.")}finally{y(!1)}};return k?(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-white flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:(0,a.jsx)(i,{className:"w-10 h-10 text-green-600"})}),(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"\xa1Telegram Conectado!"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Tu cuenta de Telegram ha sido vinculada correctamente. Ahora puedes acceder a la plataforma."}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[(0,a.jsx)("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}),"Redirigiendo al login..."]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-lg w-full",children:[(0,a.jsx)("div",{className:"text-center mb-8",children:(0,a.jsx)(n.default,{href:"/",className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-blue-400 bg-clip-text text-transparent inline-block",children:"Antia"})}),(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[(0,a.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6 text-white",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"p-3 bg-white/20 rounded-xl",children:(0,a.jsx)(d.Z,{className:"w-8 h-8"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-xl font-bold",children:"\xa1Solicitud Aprobada!"}),(0,a.jsx)("p",{className:"text-green-100 mt-1",children:"Solo un paso m\xe1s para acceder"})]})]})}),(0,a.jsxs)("div",{className:"p-8",children:[(0,a.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(o.Z,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,a.jsx)("div",{children:(0,a.jsx)("p",{className:"text-sm text-blue-800",children:"Para acceder a la plataforma, necesitas conectar tu cuenta de Telegram. Esto nos permite vincular autom\xe1ticamente tus canales cuando crees productos."})})]})}),(0,a.jsxs)("form",{onSubmit:z,className:"space-y-5",children:[N&&(0,a.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:N}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electr\xf3nico"}),(0,a.jsx)("input",{type:"email",required:!0,value:h,disabled:!!r,onChange:e=>b(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg ".concat(r?"bg-gray-50 text-gray-600":"focus:ring-2 focus:ring-blue-500 focus:border-transparent"),placeholder:"tu@email.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrase\xf1a"}),(0,a.jsx)("input",{type:"password",required:!0,value:g,onChange:e=>p(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tu contrase\xf1a"})]}),(0,a.jsx)("div",{className:"border border-gray-200 rounded-xl p-5 bg-gradient-to-br from-blue-50/50 to-white",children:(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[(0,a.jsx)("div",{className:"p-2.5 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl",children:(0,a.jsx)(m.Z,{className:"w-5 h-5 text-white"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"font-semibold text-gray-900 mb-3",children:"Conectar Telegram"}),Z?(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 bg-green-100 text-green-700 rounded-lg mb-2",children:[(0,a.jsx)(d.Z,{size:16}),(0,a.jsx)("span",{className:"text-sm font-medium",children:"C\xf3digo de Telegram recibido"})]}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:"Solo ingresa tu contrase\xf1a para completar la vinculaci\xf3n."})]}):(0,a.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-600 mb-4",children:[(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"https://t.me/".concat(S,"?start=vincular"),target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline inline-flex items-center gap-1",children:["Abre el bot en Telegram ",(0,a.jsx)(u.Z,{size:12})]})}),(0,a.jsxs)("li",{children:["Presiona ",(0,a.jsx)("strong",{children:'"START"'})," en el bot"]}),(0,a.jsx)("li",{children:"Copia el c\xf3digo de 8 caracteres o haz clic en el bot\xf3n que te env\xeda"}),(0,a.jsx)("li",{children:"P\xe9galo en el campo de abajo"})]}),(0,a.jsx)("input",{type:"text",value:f,onChange:e=>{j(e.target.value.toUpperCase()),P(!1)},placeholder:"XXXXXXXX",className:"w-full px-4 py-3 border rounded-lg text-center font-mono tracking-widest uppercase text-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent ".concat(Z?"border-green-300 bg-green-50":"border-gray-300"),maxLength:8})]})]})}),(0,a.jsx)("button",{type:"submit",disabled:v||!f.trim()||!g,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3.5 rounded-xl hover:from-blue-700 hover:to-blue-800 transition font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:v?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Conectando..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{size:18}),"Conectar y Acceder"]})})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)(n.default,{href:"/login",className:"text-sm text-gray-500 hover:text-gray-700",children:"‚Üê Volver al login"})})]})]})]})})}function h(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:(0,a.jsx)("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}),children:(0,a.jsx)(x,{})})}}},function(e){e.O(0,[464,648,52,971,117,744],function(){return e(e.s=811)}),_N_E=e.O()}]);