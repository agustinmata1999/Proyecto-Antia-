(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[746],{4746:function(e,t,a){Promise.resolve().then(a.bind(a,9931))},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},9931:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var s=a(7437),i=a(2265),n=a(9376),r=a(1837);function o(){var e,t,a,o,l,c;let d=(0,n.useParams)();(0,n.useRouter)();let m=d.code,[u,g]=(0,i.useState)(!0),[p,h]=(0,i.useState)(null),[f,x]=(0,i.useState)(null),[b,y]=(0,i.useState)(!1),[v,j]=(0,i.useState)({email:"",telegram:"",name:""}),[w,N]=(0,i.useState)(!1),[k,C]=(0,i.useState)(!1);(0,i.useEffect)(()=>{S()},[m]),(0,i.useEffect)(()=>{(null==p?void 0:p.isDemo)&&(null==p?void 0:p.isAllowed)&&!k&&P()},[p,k]);let P=async()=>{try{await r.hi.post("/r/".concat(m,"/track-click")),C(!0)}catch(e){}},S=async()=>{var e,t,a;try{let t=await r.hi.get("/r/".concat(m,"/info"));h(t.data),t.data.valid&&t.data.isAllowed&&!t.data.isDemo&&(window.location.href="".concat((e="https://tipster-platform-1.preview.emergentagent.com/api",void 0===e)?void 0:e.replace("/api",""),"/api/r/").concat(m))}catch(e){x((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Error al cargar informaci\xf3n del enlace")}finally{g(!1)}},A=async e=>{e.preventDefault(),y(!0);try{await r.hi.post("/r/".concat(m,"/demo-conversion"),{email:v.email,telegram:v.telegram,name:v.name}),N(!0)}catch(e){var t,a;x((null===(a=e.response)||void 0===a?void 0:null===(t=a.data)||void 0===t?void 0:t.message)||"Error al registrar")}finally{y(!1)}};return u?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500 mx-auto"}),(0,s.jsx)("p",{className:"text-white mt-4",children:"Cargando..."})]})}):!f&&(null==p?void 0:p.valid)?p.isAllowed?p.isDemo?w?(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-green-900 via-emerald-800 to-green-900 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 max-w-md w-full text-center",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"✅"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"\xa1Registro Exitoso!"}),(0,s.jsxs)("p",{className:"text-gray-300 mb-4",children:["Tu registro en ",(0,s.jsx)("strong",{children:null===(l=p.house)||void 0===l?void 0:l.name})," ha sido procesado."]}),(0,s.jsxs)("div",{className:"bg-white/10 rounded-lg p-4 mb-4",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Referido por tipster:"}),(0,s.jsx)("p",{className:"text-white font-semibold",children:(null===(c=p.tipster)||void 0===c?void 0:c.name)||"Tipster"})]}),(0,s.jsx)("p",{className:"text-green-400 text-sm",children:"✨ La conversi\xf3n ha sido registrada en el sistema de afiliaci\xf3n"}),(0,s.jsx)("div",{className:"mt-6 p-4 bg-yellow-500/20 rounded-lg",children:(0,s.jsxs)("p",{className:"text-yellow-300 text-sm",children:["\uD83D\uDCCA Ahora puedes ver esta conversi\xf3n en:",(0,s.jsx)("br",{}),"• Panel Admin → Afiliaci\xf3n → Referidos",(0,s.jsx)("br",{}),"• Panel Tipster → Afiliaci\xf3n → Mis Referidos"]})})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 max-w-lg w-full",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(null===(t=p.house)||void 0===t?void 0:t.logoUrl)?(0,s.jsx)("img",{src:p.house.logoUrl,alt:p.house.name,className:"h-16 mx-auto mb-4 object-contain"}):(0,s.jsx)("div",{className:"w-16 h-16 bg-blue-600 rounded-xl mx-auto mb-4 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-3xl",children:"\uD83C\uDFB0"})}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-white",children:null===(a=p.house)||void 0===a?void 0:a.name}),(0,s.jsx)("p",{className:"text-gray-400 mt-2",children:"P\xe1gina de Registro (Demo)"})]}),(0,s.jsx)("div",{className:"bg-yellow-500/20 border border-yellow-500/50 rounded-lg p-3 mb-6",children:(0,s.jsx)("p",{className:"text-yellow-300 text-sm text-center",children:"⚠️ Esta es una p\xe1gina de demostraci\xf3n para probar el sistema de afiliaci\xf3n"})}),(0,s.jsxs)("div",{className:"bg-white/5 rounded-lg p-4 mb-6",children:[(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Referido por:"}),(0,s.jsx)("p",{className:"text-white font-semibold text-lg",children:(null===(o=p.tipster)||void 0===o?void 0:o.name)||"Tipster"})]}),(0,s.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-300 text-sm mb-2",children:"Email *"}),(0,s.jsx)("input",{type:"email",required:!0,value:v.email,onChange:e=>j({...v,email:e.target.value}),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500",placeholder:"tu@email.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-300 text-sm mb-2",children:"Usuario de Telegram"}),(0,s.jsx)("input",{type:"text",value:v.telegram,onChange:e=>j({...v,telegram:e.target.value}),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500",placeholder:"@tuusuario"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-gray-300 text-sm mb-2",children:"Nombre completo"}),(0,s.jsx)("input",{type:"text",value:v.name,onChange:e=>j({...v,name:e.target.value}),className:"w-full bg-white/10 border border-white/20 rounded-lg px-4 py-3 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500",placeholder:"Juan P\xe9rez"})]}),(0,s.jsx)("button",{type:"submit",disabled:b,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white font-bold py-4 rounded-lg transition-all duration-200 disabled:opacity-50 mt-6",children:b?(0,s.jsxs)("span",{className:"flex items-center justify-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registrando..."]}):"\uD83D\uDE80 Registrarme Ahora"})]}),(0,s.jsx)("div",{className:"mt-8 pt-6 border-t border-white/10",children:(0,s.jsxs)("p",{className:"text-gray-500 text-xs text-center",children:["Pa\xeds detectado: ",p.countryCode||"N/A"," • Sistema de Afiliaci\xf3n ANTIA"]})})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-blue-900 to-gray-900 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500 mx-auto"}),(0,s.jsxs)("p",{className:"text-white mt-4",children:["Redirigiendo a ",null===(e=p.house)||void 0===e?void 0:e.name,"..."]})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-orange-900 to-gray-900 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 max-w-md w-full text-center",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"\uD83D\uDEAB"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"No disponible en tu pa\xeds"}),(0,s.jsx)("p",{className:"text-gray-300 mb-4",children:p.blockReason}),(0,s.jsxs)("p",{className:"text-gray-400 text-sm",children:["Pa\xeds detectado: ",p.countryCode||"Desconocido"]})]})}):(0,s.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-red-900 to-gray-900 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-white/10 backdrop-blur-lg rounded-2xl p-8 max-w-md w-full text-center",children:[(0,s.jsx)("div",{className:"text-6xl mb-4",children:"❌"}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"Enlace no v\xe1lido"}),(0,s.jsx)("p",{className:"text-gray-300",children:f||(null==p?void 0:p.error)||"Este enlace no existe o ha expirado"})]})})}},1837:function(e,t,a){"use strict";a.d(t,{$z:function(){return c},Nq:function(){return h},Q4:function(){return l},Qm:function(){return x},Ty:function(){return p},a6:function(){return g},bs:function(){return r},fi:function(){return o},g8:function(){return n},hi:function(){return s},iJ:function(){return i},jk:function(){return f},kn:function(){return d},lY:function(){return m},wT:function(){return u}});let s=a(3464).Z.create({baseURL:"/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),s.interceptors.response.use(e=>e,e=>{var t;return(null===(t=e.response)||void 0===t?void 0:t.status)!==401||["/login","/register","/"].includes(window.location.pathname)||(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)});let i={registerTipster:e=>s.post("/auth/tipster/register",e),registerClient:e=>s.post("/auth/client/register",e),login:e=>s.post("/auth/login",e),logout:()=>s.post("/auth/logout"),sendOtp:e=>s.post("/auth/otp/send",{email:e}),verifyOtp:e=>s.post("/auth/otp/verify",{code:e})},n={getMe:()=>s.get("/users/me"),updateMe:e=>s.patch("/users/me",e)},r={getProfile:()=>s.get("/tipster/profile"),getKycStatus:()=>s.get("/tipster/kyc-status"),updateKyc:e=>s.put("/tipster/kyc",e)},o={create:e=>s.post("/products",e),getMy:()=>s.get("/products/my"),getOne:e=>s.get("/products/".concat(e)),update:(e,t)=>s.patch("/products/".concat(e),t),publish:e=>s.post("/products/".concat(e,"/publish")),pause:e=>s.post("/products/".concat(e,"/pause")),getCheckoutLink:e=>s.get("/products/".concat(e,"/checkout-link"))},l={getLinks:()=>s.get("/referrals/links"),getMetrics:e=>s.get("/referrals/metrics",{params:{range:e}}),getCommissions:()=>s.get("/referrals/commissions")},c={getChannelInfo:()=>s.get("/telegram/channel-info"),connect:e=>s.post("/telegram/connect",{channelIdentifier:e}),disconnect:()=>s.delete("/telegram/disconnect"),publishProduct:(e,t)=>s.post("/products/".concat(e,"/publish-telegram"),t?{channelId:t}:{}),setPremiumChannel:e=>s.post("/telegram/premium-channel",{premiumChannelLink:e}),publicationChannel:{get:()=>s.get("/telegram/publication-channel"),set:(e,t)=>s.post("/telegram/publication-channel",{channelId:e,channelTitle:t}),remove:()=>s.delete("/telegram/publication-channel"),startLinking:()=>s.post("/telegram/publication-channel/start-linking"),cancelLinking:()=>s.post("/telegram/publication-channel/cancel-linking")},channels:{getAll:()=>s.get("/telegram/channels"),getOne:e=>s.get("/telegram/channels/".concat(e)),create:e=>s.post("/telegram/channels",e),verify:e=>s.post("/telegram/channels/verify",{channelId:e}),update:(e,t)=>s.patch("/telegram/channels/".concat(e),t),delete:e=>s.delete("/telegram/channels/".concat(e)),refresh:e=>s.post("/telegram/channels/".concat(e,"/refresh")),generateInviteLink:e=>s.post("/telegram/channels/".concat(e,"/invite-link")),connectByName:e=>s.post("/telegram/channels/connect-by-name",{channelName:e}),connectByInviteLink:e=>s.post("/telegram/channels/connect-by-invite-link",{inviteLink:e}),searchByName:e=>s.post("/telegram/channels/search-by-name",{channelName:e}),connectById:e=>s.post("/telegram/channels/connect-by-id",{channelId:e}),verifyById:e=>s.post("/telegram/channels/verify-by-id",{channelId:e})}},d={getMy:()=>s.get("/orders/my"),getMySales:()=>s.get("/orders/sales"),getMyStats:()=>s.get("/orders/stats")},m={getAll:()=>s.get("/settlements"),getPending:()=>s.get("/settlements/pending"),getHistory:()=>s.get("/settlements/history"),getTotalPaid:()=>s.get("/settlements/total-paid")},u={getMyModules:()=>s.get("/users/me/modules")},g={getProfile:()=>s.get("/client/profile"),updateProfile:e=>s.put("/client/profile",e),getPurchases:()=>s.get("/client/purchases"),getPurchaseDetails:e=>s.get("/client/purchases/".concat(e)),getSubscriptions:()=>s.get("/client/subscriptions"),cancelSubscription:e=>s.post("/client/subscriptions/".concat(e,"/cancel")),getPaymentHistory:()=>s.get("/client/payments")},p={createTicket:e=>s.post("/support/tickets",e),getMyTickets:()=>s.get("/support/tickets/my"),getTicketDetails:e=>s.get("/support/tickets/my/".concat(e)),getTicket:e=>s.get("/support/tickets/my/".concat(e)),replyToTicket:(e,t)=>s.post("/support/tickets/".concat(e,"/reply"),t),admin:{getAllTickets:e=>s.get("/support/admin/tickets",{params:{status:e}}),updateTicket:(e,t)=>s.put("/support/admin/tickets/".concat(e),t)}},h={tipsters:{getAll:()=>s.get("/admin/tipsters"),getOne:e=>s.get("/admin/tipsters/".concat(e)),updateModules:(e,t)=>s.patch("/admin/tipsters/".concat(e,"/modules"),t)},sales:{getAll:e=>s.get("/admin/sales",{params:e})},support:{getAll:e=>s.get("/admin/support/tickets",{params:{status:e}}),getStats:()=>s.get("/admin/support/tickets/stats"),getOne:e=>s.get("/admin/support/tickets/".concat(e)),reply:(e,t)=>s.post("/admin/support/tickets/".concat(e,"/reply"),{message:t}),updateStatus:(e,t)=>s.patch("/admin/support/tickets/".concat(e,"/status"),{status:t})},applications:{getAll:e=>s.get("/admin/applications",{params:{status:e}}),getStats:()=>s.get("/admin/applications/stats"),getOne:e=>s.get("/admin/applications/".concat(e)),review:(e,t)=>s.post("/admin/applications/".concat(e,"/review"),t)},commissions:{getAll:()=>s.get("/admin/commissions"),getOne:e=>s.get("/admin/commissions/".concat(e)),getHistory:e=>s.get("/admin/commissions/".concat(e,"/history")),update:(e,t)=>s.patch("/admin/commissions/".concat(e),t)},reports:{getSummary:e=>s.get("/admin/reports/summary",{params:{currency:e}}),getSales:e=>s.get("/admin/reports/sales",{params:e}),getPlatform:e=>s.get("/admin/reports/platform",{params:e}),getSettlements:e=>s.get("/admin/reports/settlements",{params:e}),getTipsters:e=>s.get("/admin/reports/tipsters",{params:e}),exportCSV:(e,t)=>s.get("/admin/reports/export/".concat(e),{params:t,responseType:"blob"})}},f={getRates:()=>s.get("/currency/rates"),getRate:(e,t)=>s.get("/currency/rate/".concat(e,"/").concat(t)),convert:(e,t,a)=>s.get("/currency/convert",{params:{amount:e,from:t,to:a}}),admin:{setRate:(e,t,a)=>s.post("/currency/admin/rate",{baseCurrency:e,targetCurrency:t,rate:a}),removeOverride:(e,t)=>s.delete("/currency/admin/rate/".concat(e,"/").concat(t)),getHistory:(e,t,a)=>s.get("/currency/admin/history/".concat(e,"/").concat(t),{params:{limit:a}})}},x={getHousesWithLinks:e=>s.get("/affiliate/houses",{params:{countryCode:e}}),getHouseWithLink:e=>s.get("/affiliate/houses/".concat(e)),getMyLinks:()=>s.get("/affiliate/my-links"),generateLink:e=>s.post("/affiliate/houses/".concat(e,"/link")),getCampaigns:()=>s.get("/affiliate/campaigns"),getCampaign:e=>s.get("/affiliate/campaigns/".concat(e)),getMetrics:()=>s.get("/affiliate/metrics"),getPayouts:()=>s.get("/affiliate/payouts"),getPayoutDetails:e=>s.get("/affiliate/payouts/".concat(e)),getMyReferrals:e=>s.get("/affiliate/my-referrals",{params:e}),admin:{getHouses:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.get("/admin/affiliate/houses",{params:{includeInactive:e}})},getHouse:e=>s.get("/admin/affiliate/houses/".concat(e)),createHouse:e=>s.post("/admin/affiliate/houses",e),updateHouse:(e,t)=>s.patch("/admin/affiliate/houses/".concat(e),t),getCampaigns:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.get("/admin/affiliate/campaigns",{params:{includeInactive:e}})},getCampaign:e=>s.get("/admin/affiliate/campaigns/".concat(e)),createCampaign:e=>s.post("/admin/affiliate/campaigns",e),updateCampaign:(e,t)=>s.patch("/admin/affiliate/campaigns/".concat(e),t),importCsv:e=>s.post("/admin/affiliate/import-csv",e,{headers:{"Content-Type":"multipart/form-data"}}),getImportBatches:e=>s.get("/admin/affiliate/import-batches",{params:{houseId:e}}),getConversions:e=>s.get("/admin/affiliate/conversions",{params:e}),updateConversionStatus:(e,t,a)=>s.patch("/admin/affiliate/conversions/".concat(e,"/status"),{status:t,rejectionReason:a}),getReferrals:e=>s.get("/admin/affiliate/referrals",{params:e}),updateReferralStatus:(e,t)=>s.patch("/admin/affiliate/referrals/".concat(e,"/status"),{status:t}),getTipsters:()=>s.get("/admin/affiliate/tipsters"),getPayouts:e=>s.get("/admin/affiliate/payouts",{params:e}),generatePayouts:e=>s.post("/admin/affiliate/payouts/generate",{periodMonth:e}),markPayoutPaid:(e,t)=>s.patch("/admin/affiliate/payouts/".concat(e,"/pay"),t)}}}},function(e){e.O(0,[464,971,117,744],function(){return e(e.s=4746)}),_N_E=e.O()}]);