(()=>{var e={};e.id=773,e.ids=[773],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},1825:()=>{},482:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c}),t(3527),t(2029),t(5866);var a=t(3191),r=t(8716),l=t(7922),n=t.n(l),i=t(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(s,d);let c=["",{children:["dashboard",{children:["tipster",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3527)),"/app/frontend/src/app/dashboard/tipster/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"/app/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/app/frontend/src/app/dashboard/tipster/page.tsx"],x="/dashboard/tipster/page",m={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/tipster/page",pathname:"/dashboard/tipster",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4372:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},2343:(e,s,t)=>{Promise.resolve().then(t.bind(t,1236))},8159:()=>{},1236:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(326),r=t(7577),l=t(5047),n=t(8069);function i(){let e=(0,l.useRouter)(),[s,t]=(0,r.useState)("dashboard"),[i,d]=(0,r.useState)("liquidaciones"),[c,o]=(0,r.useState)(null),[x,m]=(0,r.useState)([]),[u,g]=(0,r.useState)(null),[h,p]=(0,r.useState)(null),[b,j]=(0,r.useState)([]),[y,N]=(0,r.useState)(null),[v,f]=(0,r.useState)({forecasts:!0,affiliate:!1}),[C,w]=(0,r.useState)(!0),[D,k]=(0,r.useState)(!1),[P,T]=(0,r.useState)(null),[E,S]=(0,r.useState)(!1),[I,F]=(0,r.useState)({title:"",description:"",priceCents:"",billingType:"ONE_TIME",telegramChannelId:"",active:!0}),[A,$]=(0,r.useState)(!1),[q,L]=(0,r.useState)(""),[M,_]=(0,r.useState)([]),[B,z]=(0,r.useState)(!1),[R,O]=(0,r.useState)(!1),[G,V]=(0,r.useState)({channelId:"",channelTitle:"",channelType:"private",inviteLink:""}),[U,H]=(0,r.useState)(!1),[W,J]=(0,r.useState)(null),[Q,Y]=(0,r.useState)(""),[X,Z]=(0,r.useState)(!1),[K,ee]=(0,r.useState)(null),[es,et]=(0,r.useState)(!1),[ea,er]=(0,r.useState)(!1),[el,en]=(0,r.useState)(""),[ei,ed]=(0,r.useState)(""),[ec,eo]=(0,r.useState)(null),[ex,em]=(0,r.useState)(""),[eu,eg]=(0,r.useState)(!1),eh=async()=>{try{try{let e=await n.fi.getMy();m(e.data)}catch(e){console.error("Error loading products:",e)}try{let e=await n.Q4.getMetrics();g(e.data)}catch(e){console.error("Error loading metrics:",e),g({clicks:0,registers:0,ftds:0,deposits:0,totalDeposits:0,conversionRate:0})}try{let e=await n.$z.channels.getAll();_(e.data.channels||[])}catch(e){console.error("Error loading Telegram channels:",e)}try{let e=await n.$z.getChannelInfo();e.data.connected&&(et(!0),ee(e.data.channel)),e.data.premiumChannelLink&&em(e.data.premiumChannelLink)}catch(e){console.error("Error loading Telegram info:",e)}try{let e=await n.kn.getMyStats();p(e.data)}catch(e){console.error("Error loading sales stats:",e),p({totalSales:0,totalEarningsCents:0,currency:"EUR"})}try{let e=await n.kn.getMySales();j(e.data.slice(0,10))}catch(e){console.error("Error loading recent sales:",e),j([])}try{let e=await n.lY.getAll();N(e.data)}catch(e){console.error("Error loading settlements:",e)}try{let e=await n.wT.getMyModules();e.data.modules&&f(e.data.modules)}catch(e){console.error("Error loading modules:",e)}}catch(e){console.error("Error loading dashboard:",e)}finally{w(!1)}},ep=async()=>{try{await n.iJ.logout(),localStorage.removeItem("access_token"),e.push("/")}catch(s){console.error("Error logging out:",s),localStorage.removeItem("access_token"),e.push("/")}},eb=async()=>{if(!G.channelId.trim()){Y("Por favor, ingresa el ID del canal");return}H(!0),Y(""),J(null);try{let e=await n.$z.channels.verify(G.channelId.trim());e.data.valid?(J(e.data),V(s=>({...s,channelTitle:e.data.title||"",channelType:e.data.username?"public":"private"}))):Y(e.data.error||"No se pudo verificar el canal")}catch(e){Y(e.response?.data?.message||"Error al verificar el canal")}finally{H(!1)}},ej=async()=>{if(!G.channelId.trim()||!G.channelTitle.trim()){Y("Por favor, completa todos los campos requeridos");return}Z(!0),Y("");try{if((await n.$z.channels.create({channelId:G.channelId.trim(),channelName:W?.username||void 0,channelTitle:G.channelTitle.trim(),channelType:G.channelType,inviteLink:G.inviteLink.trim()||void 0})).data.success){let e=await n.$z.channels.getAll();_(e.data.channels||[]),O(!1),V({channelId:"",channelTitle:"",channelType:"private",inviteLink:""}),J(null),alert("✅ Canal a\xf1adido correctamente")}}catch(e){Y(e.response?.data?.message||"Error al a\xf1adir el canal")}finally{Z(!1)}},ey=async e=>{if(confirm("\xbfEst\xe1s seguro de que deseas desconectar este canal?"))try{await n.$z.channels.delete(e),_(s=>s.filter(s=>s.id!==e)),alert("Canal desconectado")}catch(e){alert("Error al desconectar el canal: "+(e.response?.data?.message||"Error desconocido"))}},eN=async e=>{try{let s=await n.$z.channels.generateInviteLink(e);if(s.data.success){let e=await n.$z.channels.getAll();_(e.data.channels||[]),alert("✅ Enlace de invitaci\xf3n generado: "+s.data.inviteLink)}else alert("Error: "+(s.data.error||"No se pudo generar el enlace"))}catch(e){alert("Error: "+(e.response?.data?.message||"Error al generar enlace"))}},ev=async e=>{if(!es){alert("Primero debes conectar tu canal de Telegram");return}if(confirm("\xbfDeseas publicar este producto en tu canal de Telegram?")){eo(e);try{let s=await n.$z.publishProduct(e);s.data.success?alert("✅ Producto publicado en Telegram exitosamente"):alert("❌ "+(s.data.message||"Error al publicar"))}catch(e){alert("❌ Error: "+(e.response?.data?.message||"Error al publicar en Telegram"))}finally{eo(null)}}},ef=()=>{T(null),F({title:"",description:"",priceCents:"",billingType:"ONE_TIME",telegramChannelId:"",active:!0}),L(""),k(!0)},eC=e=>{T(e),F({title:e.title||"",description:e.description||"",priceCents:e.priceCents?(e.priceCents/100).toString():"",billingType:e.billingType||"ONE_TIME",telegramChannelId:e.telegramChannelId||"",active:e.active??!0}),L(""),k(!0)},ew=e=>{T(e),S(!0)},eD=async()=>{try{if(!I.title.trim()){L("El t\xedtulo es obligatorio");return}let e=parseFloat(I.priceCents);if(isNaN(e)||e<0){L("El precio debe ser un n\xfamero v\xe1lido mayor o igual a 0");return}$(!0),L("");let s={title:I.title.trim(),description:I.description.trim()||void 0,priceCents:Math.round(100*e),billingType:I.billingType,telegramChannelId:I.telegramChannelId||void 0,currency:"EUR"};if(P)await n.fi.update(P.id,s),I.active!==P.active&&(I.active?await n.fi.publish(P.id):await n.fi.pause(P.id));else{let e=await n.fi.create(s);I.active&&e.data?.id&&await n.fi.publish(e.data.id)}await eh(),ek()}catch(e){console.error("Error saving product:",e),L(e.response?.data?.message||"Error al guardar el producto. Por favor, intenta de nuevo.")}finally{$(!1)}},ek=()=>{k(!1),S(!1),T(null),L("")},eP=e=>{let s=M.find(s=>s.channelId===e);return s?s.channelTitle:e};return C?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("aside",{className:"fixed top-0 left-0 w-64 h-full bg-white border-r border-gray-200",children:(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-8",children:"Antia"}),(0,a.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[a.jsx("div",{className:"text-sm text-gray-500",children:"Fausto Perez"}),a.jsx("div",{className:"text-xs text-gray-400",children:"#5203"})]}),(0,a.jsxs)("nav",{className:"space-y-2",children:[a.jsx("button",{onClick:()=>t("dashboard"),className:`w-full text-left px-4 py-2 rounded-lg ${"dashboard"===s?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:"Dashboard"}),v.forecasts&&(0,a.jsxs)(a.Fragment,{children:[a.jsx("button",{onClick:()=>t("products"),className:`w-full text-left px-4 py-2 rounded-lg ${"products"===s?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:"\uD83C\uDFAF Mis Productos"}),a.jsx("button",{onClick:()=>t("telegram"),className:`w-full text-left px-4 py-2 rounded-lg ${"telegram"===s?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:(0,a.jsxs)("span",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"\uD83D\uDCF1 Telegram"}),M.length>0&&a.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:M.length})]})})]}),v.affiliate&&a.jsx("button",{onClick:()=>t("referrals"),className:`w-full text-left px-4 py-2 rounded-lg ${"referrals"===s?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:"\uD83E\uDD1D Afiliaci\xf3n"}),a.jsx("button",{onClick:()=>t("payouts"),className:`w-full text-left px-4 py-2 rounded-lg ${"payouts"===s?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:(0,a.jsxs)("span",{className:"flex items-center justify-between",children:[a.jsx("span",{children:"\uD83D\uDCB5 Liquidaciones"}),(h?.netEarningsCents||0)>0&&(0,a.jsxs)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:["€",((h?.netEarningsCents||0)/100).toFixed(0)]})]})}),a.jsx("button",{onClick:()=>t("profile"),className:`w-full text-left px-4 py-2 rounded-lg ${"profile"===s?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:"⚙️ Perfil"}),a.jsx("button",{onClick:ep,className:"w-full text-left px-4 py-2 rounded-lg text-red-600 hover:bg-red-50",children:"\uD83D\uDEAA Cerrar Sesi\xf3n"})]})]})}),(0,a.jsxs)("main",{className:"ml-64 p-8",children:["dashboard"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Hola Fausto, Bienvenido de nuevo!"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Aqu\xed est\xe1 un resumen de tu actividad"})]}),(0,a.jsxs)("div",{className:`grid grid-cols-1 md:grid-cols-2 ${v.forecasts?"lg:grid-cols-4":"lg:grid-cols-3"} gap-6 mb-8`,children:[v.forecasts&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-blue-100",children:[a.jsx("div",{className:"flex items-center justify-between mb-2",children:a.jsx("div",{className:"text-sm text-gray-500",children:"\uD83D\uDCB0 Ingresos Brutos"})}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:["€",((h?.grossEarningsCents||h?.totalEarningsCents||0)/100).toFixed(2)]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Total facturado este mes"})]}),v.forecasts&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCB5 Ventas"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900",children:h?.totalSales||0}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Total de ventas"})]}),v.forecasts&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCE6 Productos"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900",children:x.length}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[x.filter(e=>e.active).length," activos"]})]}),v.affiliate&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-purple-100",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83E\uDD1D Ganancias Afiliaci\xf3n"}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-purple-600",children:["€",((u?.totalEarnings||0)/100).toFixed(2)]}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Comisiones pendientes"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDC65 Referidos FTD"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900",children:u?.ftds||0}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"First Time Deposits"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCC5 Pr\xf3xima Liquidaci\xf3n"}),a.jsx("div",{className:"text-xl font-bold text-gray-900",children:(()=>{let e=new Date,s=e.getDay(),t=new Date(e);return t.setDate(e.getDate()+((7-s)%7||7)),t.toLocaleDateString("es-ES",{day:"numeric",month:"short"})})()}),a.jsx("div",{className:"text-xs text-gray-500 mt-1",children:a.jsx("button",{onClick:()=>t("payouts"),className:"text-blue-600 hover:underline",children:"Ver liquidaciones →"})})]})]}),v.forecasts&&(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Mis Productos"}),a.jsx("button",{onClick:ef,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm",children:"+ Crear Producto"})]}),a.jsx("div",{className:"p-6",children:0===x.length?(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-500 mb-4",children:"No tienes productos a\xfan"}),a.jsx("button",{onClick:ef,className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Crear tu primer producto"})]}):a.jsx("div",{className:"space-y-4",children:x.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:e.title}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-green-600",children:["€",(e.priceCents/100).toFixed(2)]}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${e.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"}`,children:e.active?"Activo":"Pausado"}),e.telegramChannelId&&(0,a.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-blue-50 text-blue-700",children:["\uD83D\uDCF1 ",eP(e.telegramChannelId)]})]})]}),a.jsx("button",{onClick:()=>ew(e),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Ver"})]},e.id))})})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Ventas Recientes"})}),a.jsx("div",{className:"p-6",children:0===b.length?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"No hay ventas a\xfan"})}):a.jsx("div",{className:"space-y-4",children:b.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:e.productTitle||"Producto"}),a.jsx("p",{className:"text-sm text-gray-500",children:e.emailBackup||"Cliente"})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-medium text-green-600",children:["€",((e.amountCents||0)/100).toFixed(2)]}),a.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString("es-ES")})]})]},e.id))})})]})]}),v.affiliate&&!v.forecasts&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83E\uDD1D Resumen de Afiliaci\xf3n"})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Clics"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:u?.clicks||0})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Registros"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:u?.registers||0})]}),(0,a.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"FTDs"}),a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:u?.ftds||0})]})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>t("referrals"),className:"text-purple-600 hover:underline",children:"Ver detalle de afiliaci\xf3n →"})})]})]})]}),"products"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Productos"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona tus pron\xf3sticos y suscripciones"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Lista de Productos"}),a.jsx("button",{onClick:ef,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm font-medium",children:"+ Crear Producto"})]})}),a.jsx("div",{className:"p-6",children:0===x.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-500 mb-4",children:"No tienes productos a\xfan"}),a.jsx("button",{onClick:ef,className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Crear tu primer producto"})]}):a.jsx("div",{className:"space-y-4",children:x.map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:e.title}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,a.jsxs)("span",{className:"text-sm font-medium text-green-600",children:["€",(e.priceCents/100).toFixed(2)]}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${e.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"}`,children:e.active?"Activo":"Pausado"}),a.jsx("span",{className:"text-xs text-gray-500",children:"SUBSCRIPTION"===e.billingType?"Suscripci\xf3n":"Pago \xfanico"}),e.telegramChannelId&&(0,a.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-blue-50 text-blue-700",children:["\uD83D\uDCF1 ",eP(e.telegramChannelId)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[es&&a.jsx("button",{onClick:()=>ev(e.id),disabled:ec===e.id,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm flex items-center gap-2 disabled:opacity-50",title:"Publicar en Telegram",children:ec===e.id?"Publicando...":"\uD83D\uDCF1 Publicar"}),a.jsx("button",{onClick:()=>eC(e),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Editar"}),a.jsx("button",{onClick:()=>ew(e),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Ver"})]})]}),(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-3",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs text-green-600 font-medium mb-1",children:"\uD83D\uDCB3 Link de Pago Directo (para tu canal)"}),(0,a.jsxs)("code",{className:"text-xs text-green-800 bg-white px-2 py-1 rounded border border-green-200 block truncate",children:["","/checkout/",e.id]})]}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`/checkout/${e.id}`),alert("✅ Link de checkout copiado")},className:"flex-shrink-0 px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:"\uD83D\uDCCB Copiar"})]}),a.jsx("p",{className:"text-xs text-green-700 mt-2",children:"\uD83D\uDCE2 Publica este link en tu canal. El cliente paga y autom\xe1ticamente recibe acceso via Telegram."})]})]},e.id))})})]})]}),"telegram"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83D\uDCF1 Canales de Telegram"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona los canales donde tus clientes recibir\xe1n acceso"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Mis Canales"}),a.jsx("button",{onClick:()=>O(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm font-medium",children:"+ A\xf1adir Canal"})]}),0===M.length?(0,a.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-lg",children:[a.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF1"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"No tienes canales conectados"}),a.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Conecta tus canales de Telegram para asignarlos a tus productos"}),a.jsx("button",{onClick:()=>O(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"A\xf1adir mi primer canal"})]}):a.jsx("div",{className:"space-y-4",children:M.map(e=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-4",children:[a.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${"public"===e.channelType?"bg-green-100":"bg-blue-100"}`,children:a.jsx("span",{className:"text-2xl",children:"public"===e.channelType?"\uD83C\uDF10":"\uD83D\uDD12"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:e.channelTitle}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-500",children:[e.channelName&&(0,a.jsxs)("span",{children:["@",e.channelName]}),a.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${"public"===e.channelType?"bg-green-50 text-green-700":"bg-blue-50 text-blue-700"}`,children:"public"===e.channelType?"P\xfablico":"Privado"}),e.memberCount&&(0,a.jsxs)("span",{children:[e.memberCount," miembros"]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["ID: ",e.channelId," • Conectado: ",new Date(e.connectedAt).toLocaleDateString("es-ES")]}),e.inviteLink&&(0,a.jsxs)("div",{className:"mt-2",children:[a.jsx("span",{className:"text-xs text-gray-500",children:"Enlace: "}),a.jsx("a",{href:e.inviteLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:e.inviteLink})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:["private"===e.channelType&&a.jsx("button",{onClick:()=>eN(e.id),className:"px-3 py-1.5 text-xs border border-gray-300 rounded hover:bg-gray-50",title:"Generar enlace de invitaci\xf3n",children:"\uD83D\uDD17 Generar Link"}),a.jsx("button",{onClick:()=>ey(e.id),className:"px-3 py-1.5 text-xs text-red-600 border border-red-300 rounded hover:bg-red-50",children:"Desconectar"})]})]})},e.id))})]}),(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"\uD83D\uDCD6 C\xf3mo funcionan los canales"}),(0,a.jsxs)("div",{className:"space-y-3 text-sm text-gray-700",children:[(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"1. A\xf1ade el bot como administrador:"})," A\xf1ade @Antiabetbot como administrador a tu canal de Telegram con permisos para invitar usuarios."]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"2. Conecta el canal:"}),' Usa el bot\xf3n "A\xf1adir Canal" e ingresa el ID del canal (puedes obtenerlo reenviando un mensaje del canal a @userinfobot).']}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"3. Asigna a productos:"})," Al crear o editar un producto, selecciona el canal donde los clientes recibir\xe1n acceso."]}),(0,a.jsxs)("p",{children:[a.jsx("strong",{children:"4. Multi-canal:"})," Puedes tener m\xfaltiples canales y asignar cada producto a un canal diferente."]})]})]})]}),"referrals"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Afiliaci\xf3n"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona tus enlaces de afiliado y comisiones"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Clicks Totales"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900",children:u?.clicks||0})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Registros"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900",children:u?.registers||0})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"FTDs"}),a.jsx("div",{className:"text-3xl font-bold text-gray-900",children:u?.ftds||0})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Enlaces de Afiliado"}),a.jsx("p",{className:"text-gray-500",children:"Funcionalidad en desarrollo"})]})]}),"payouts"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83D\uDCB5 Liquidaciones"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona tus ingresos y pagos"})]}),a.jsx("div",{className:"bg-white rounded-lg shadow mb-6",children:a.jsx("div",{className:"border-b border-gray-200",children:(0,a.jsxs)("nav",{className:"flex -mb-px",children:[a.jsx("button",{onClick:()=>d("liquidaciones"),className:`px-6 py-4 text-sm font-medium border-b-2 ${"liquidaciones"===i?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83D\uDCCA Liquidaciones"}),a.jsx("button",{onClick:()=>d("facturas"),className:`px-6 py-4 text-sm font-medium border-b-2 ${"facturas"===i?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83D\uDCC4 Facturas"}),a.jsx("button",{onClick:()=>d("pagos"),className:`px-6 py-4 text-sm font-medium border-b-2 ${"pagos"===i?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83D\uDCB3 Pagos Recibidos"})]})})}),"liquidaciones"===i&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Balance Pendiente"}),(0,a.jsxs)("div",{className:"text-3xl font-bold text-blue-600",children:["€",((h?.netEarningsCents||0)/100).toFixed(2)]}),a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Pr\xf3xima liquidaci\xf3n: Domingo"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Total Liquidado (Hist\xf3rico)"}),a.jsx("div",{className:"text-3xl font-bold text-green-600",children:"€0.00"}),a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Desde el inicio"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Pr\xf3xima Liquidaci\xf3n"}),a.jsx("div",{className:"text-xl font-bold text-gray-900",children:(()=>{let e=new Date,s=e.getDay(),t=new Date(e);return t.setDate(e.getDate()+((7-s)%7||7)),t.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})()}),a.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Pron\xf3sticos: cada 7 d\xedas"})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCA Desglose del Per\xedodo Actual"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Detalle de comisiones y neto a recibir"})]}),a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsx("table",{className:"w-full",children:(0,a.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[(0,a.jsxs)("tr",{children:[a.jsx("td",{className:"py-4 text-gray-600",children:"Ingresos Brutos"}),(0,a.jsxs)("td",{className:"py-4 text-right font-semibold text-gray-900",children:["€",((h?.grossEarningsCents||0)/100).toFixed(2)]})]}),(0,a.jsxs)("tr",{className:"bg-red-50",children:[a.jsx("td",{className:"py-4 text-gray-600",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-red-500",children:"−"}),"Comisi\xf3n Pasarela (Stripe/Redsys)"]})}),(0,a.jsxs)("td",{className:"py-4 text-right font-semibold text-red-600",children:["-€",((h?.gatewayFeesCents||0)/100).toFixed(2)]})]}),(0,a.jsxs)("tr",{className:"bg-orange-50",children:[a.jsx("td",{className:"py-4 text-gray-600",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-orange-500",children:"−"}),"Comisi\xf3n Antia (Plataforma)"]})}),(0,a.jsxs)("td",{className:"py-4 text-right font-semibold text-orange-600",children:["-€",((h?.platformFeesCents||0)/100).toFixed(2)]})]}),(0,a.jsxs)("tr",{className:"bg-green-50 border-t-2 border-green-200",children:[a.jsx("td",{className:"py-4 text-gray-900 font-semibold",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-green-600",children:"="}),"Neto a Recibir"]})}),(0,a.jsxs)("td",{className:"py-4 text-right font-bold text-green-600 text-xl",children:["€",((h?.netEarningsCents||0)/100).toFixed(2)]})]})]})})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-xl",children:"\uD83C\uDFAF"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Pron\xf3sticos"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Venta de productos"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Frecuencia"}),a.jsx("span",{className:"font-medium",children:"Cada 7 d\xedas"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Comisi\xf3n Antia"}),a.jsx("span",{className:"font-medium text-orange-600",children:"10% (7% alto volumen)"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Pendiente"}),(0,a.jsxs)("span",{className:"font-bold text-blue-600",children:["€",((h?.netEarningsCents||0)/100).toFixed(2)]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-xl",children:"\uD83E\uDD1D"})}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:"Afiliaci\xf3n"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Casas de apuestas"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Frecuencia"}),a.jsx("span",{className:"font-medium",children:"1 vez al mes"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Comisi\xf3n Antia"}),a.jsx("span",{className:"font-medium text-green-600",children:"Sin comisi\xf3n"})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-600",children:"Pendiente"}),a.jsx("span",{className:"font-bold text-purple-600",children:"€0.00"})]})]})]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCB Historial de Liquidaciones"})}),a.jsx("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-8",children:[a.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCED"}),a.jsx("p",{className:"text-gray-500",children:"No hay liquidaciones procesadas a\xfan"}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Tu primera liquidaci\xf3n se procesar\xe1 el pr\xf3ximo domingo"})]})})]})]}),"facturas"===i&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCC4 Facturas"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Descarga tus facturas de liquidaci\xf3n"})]}),a.jsx("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC4"}),a.jsx("p",{className:"text-gray-500",children:"No hay facturas disponibles"}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Las facturas se generan autom\xe1ticamente con cada liquidaci\xf3n"})]})})]}),"pagos"===i&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,a.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCB3 Pagos Recibidos"}),a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Historial de transferencias a tu cuenta"})]}),a.jsx("div",{className:"p-6",children:(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCB8"}),a.jsx("p",{className:"text-gray-500",children:"No hay pagos recibidos a\xfan"}),a.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Aqu\xed ver\xe1s el historial de pagos realizados a tu cuenta bancaria"})]})})]})]}),"profile"===s&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mi Perfil"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Configuraci\xf3n de tu cuenta"})]}),(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Informaci\xf3n Personal"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre P\xfablico"}),a.jsx("input",{type:"text",defaultValue:"Fausto Perez",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"email",defaultValue:"fausto.perez@antia.com",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario de Telegram"}),a.jsx("input",{type:"text",placeholder:"@tu_usuario",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsx("button",{className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition",children:"Guardar Cambios"})]})]})]})]}),R&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>O(!1),children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",onClick:e=>e.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"A\xf1adir Canal de Telegram"}),a.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("div",{className:"p-6 space-y-4",children:[Q&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:Q})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID del Canal ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",value:G.channelId,onChange:e=>{V({...G,channelId:e.target.value}),J(null)},placeholder:"Ej: -1001234567890",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{onClick:eb,disabled:U||!G.channelId.trim(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:U?"Verificando...":"Verificar"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes obtener el ID reenviando un mensaje del canal a @userinfobot"})]}),W&&(0,a.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-green-800 font-medium",children:"✅ Canal verificado"}),(0,a.jsxs)("p",{className:"text-sm text-green-700",children:["Nombre: ",W.title]}),W.username&&(0,a.jsxs)("p",{className:"text-sm text-green-700",children:["@",W.username]}),(0,a.jsxs)("p",{className:"text-sm text-green-700",children:["Tipo: ",W.type]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre del Canal ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:G.channelTitle,onChange:e=>V({...G,channelTitle:e.target.value}),placeholder:"Ej: Mi Canal Premium",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Canal"}),(0,a.jsxs)("select",{value:G.channelType,onChange:e=>V({...G,channelType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"private",children:"\uD83D\uDD12 Privado"}),a.jsx("option",{value:"public",children:"\uD83C\uDF10 P\xfablico"})]})]}),"private"===G.channelType&&(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enlace de Invitaci\xf3n (Opcional)"}),a.jsx("input",{type:"text",value:G.inviteLink,onChange:e=>V({...G,inviteLink:e.target.value}),placeholder:"Ej: https://t.me/+AbCdEf123456",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes generarlo despu\xe9s desde la lista de canales"})]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-end pt-4",children:[a.jsx("button",{onClick:()=>O(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{onClick:ej,disabled:X||!G.channelId.trim()||!G.channelTitle.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:X?"A\xf1adiendo...":"A\xf1adir Canal"})]})]})]})}),D&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:ek,children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:P?"Editar Producto":"Crear Nuevo Producto"}),a.jsx("button",{onClick:ek,className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("div",{className:"p-6",children:[q&&a.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600",children:q})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["T\xedtulo del Producto ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",value:I.title,onChange:e=>F({...I,title:e.target.value}),placeholder:"Ej: Pron\xf3sticos Premium Mensuales",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n"}),a.jsx("textarea",{rows:3,value:I.description,onChange:e=>F({...I,description:e.target.value}),placeholder:"Describe tu producto...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Precio (€) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",step:"0.01",min:"0",value:I.priceCents,onChange:e=>F({...I,priceCents:e.target.value}),placeholder:"29.99",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Facturaci\xf3n"}),(0,a.jsxs)("select",{value:I.billingType,onChange:e=>F({...I,billingType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"ONE_TIME",children:"Pago \xfanico"}),a.jsx("option",{value:"SUBSCRIPTION",children:"Suscripci\xf3n"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Canal de Telegram ",a.jsx("span",{className:"text-red-500",children:"*"})]}),0===M.length?(0,a.jsxs)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"⚠️ No tienes canales conectados"}),a.jsx("p",{className:"text-xs text-yellow-700 mb-3",children:"Debes conectar al menos un canal de Telegram para asignarlo a tus productos."}),a.jsx("button",{type:"button",onClick:()=>{ek(),t("telegram")},className:"text-sm text-blue-600 hover:underline font-medium",children:"Ir a conectar un canal →"})]}):(0,a.jsxs)("select",{value:I.telegramChannelId,onChange:e=>F({...I,telegramChannelId:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"-- Selecciona un canal --"}),M.map(e=>(0,a.jsxs)("option",{value:e.channelId,children:["public"===e.channelType?"\uD83C\uDF10":"\uD83D\uDD12"," ",e.channelTitle,e.channelName&&` (@${e.channelName})`]},e.id))]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este es el canal donde los clientes recibir\xe1n acceso despu\xe9s de la compra"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"active",checked:I.active,onChange:e=>F({...I,active:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),a.jsx("label",{htmlFor:"active",className:"ml-2 text-sm text-gray-700",children:"Producto activo"})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex gap-3 justify-end",children:[a.jsx("button",{onClick:ek,disabled:A,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition disabled:opacity-50",children:"Cancelar"}),a.jsx("button",{onClick:eD,disabled:A,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 flex items-center gap-2",children:A?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Guardando..."]}):P?"Guardar Cambios":"Crear Producto"})]})]})]})}),E&&P&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:ek,children:(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[a.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:P.title}),a.jsx("button",{onClick:ek,className:"text-gray-400 hover:text-gray-600",children:a.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Descripci\xf3n"}),a.jsx("p",{className:"text-gray-900",children:P.description||"Sin descripci\xf3n"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Precio"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["€",(P.priceCents/100).toFixed(2)]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Estado"}),a.jsx("span",{className:`inline-block px-3 py-1 rounded text-sm font-medium ${P.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"}`,children:P.active?"Activo":"Pausado"})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Tipo de Facturaci\xf3n"}),a.jsx("p",{className:"text-gray-900",children:"SUBSCRIPTION"===P.billingType?"Suscripci\xf3n":"Pago \xfanico"})]}),P.telegramChannelId&&(0,a.jsxs)("div",{children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Canal de Telegram"}),(0,a.jsxs)("p",{className:"text-gray-900 flex items-center gap-2",children:["\uD83D\uDCF1 ",eP(P.telegramChannelId),(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["(",P.telegramChannelId,")"]})]})]}),(0,a.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Estad\xedsticas"}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,a.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Ventas"})]}),(0,a.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:"€0.00"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Ingresos"})]}),(0,a.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"0"}),a.jsx("div",{className:"text-xs text-gray-600",children:"Suscriptores"})]})]})]})]}),(0,a.jsxs)("div",{className:"mt-6 flex gap-3 justify-end",children:[a.jsx("button",{onClick:ek,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cerrar"}),a.jsx("button",{onClick:()=>{S(!1),eC(P)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Editar Producto"})]})]})]})})]})}},8069:(e,s,t)=>{"use strict";t.d(s,{$z:()=>i,Nq:()=>x,Q4:()=>n,fi:()=>l,hi:()=>a,iJ:()=>r,jk:()=>m,kn:()=>d,lY:()=>c,wT:()=>o});let a=t(4464).Z.create({baseURL:"https://antia-tipster.preview.emergentagent.com/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});a.interceptors.request.use(e=>{let s=localStorage.getItem("access_token");return s&&(e.headers.Authorization=`Bearer ${s}`),e}),a.interceptors.response.use(e=>e,e=>(e.response?.status!==401||["/login","/register","/"].includes("")||(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)));let r={registerTipster:e=>a.post("/auth/tipster/register",e),registerClient:e=>a.post("/auth/client/register",e),login:e=>a.post("/auth/login",e),logout:()=>a.post("/auth/logout"),sendOtp:e=>a.post("/auth/otp/send",{email:e}),verifyOtp:e=>a.post("/auth/otp/verify",{code:e})},l={create:e=>a.post("/products",e),getMy:()=>a.get("/products/my"),getOne:e=>a.get(`/products/${e}`),update:(e,s)=>a.patch(`/products/${e}`,s),publish:e=>a.post(`/products/${e}/publish`),pause:e=>a.post(`/products/${e}/pause`),getCheckoutLink:e=>a.get(`/products/${e}/checkout-link`)},n={getLinks:()=>a.get("/referrals/links"),getMetrics:e=>a.get("/referrals/metrics",{params:{range:e}}),getCommissions:()=>a.get("/referrals/commissions")},i={getChannelInfo:()=>a.get("/telegram/channel-info"),connect:e=>a.post("/telegram/connect",{channelIdentifier:e}),disconnect:()=>a.delete("/telegram/disconnect"),publishProduct:e=>a.post(`/products/${e}/publish-telegram`),setPremiumChannel:e=>a.post("/telegram/premium-channel",{premiumChannelLink:e}),channels:{getAll:()=>a.get("/telegram/channels"),getOne:e=>a.get(`/telegram/channels/${e}`),create:e=>a.post("/telegram/channels",e),verify:e=>a.post("/telegram/channels/verify",{channelId:e}),update:(e,s)=>a.patch(`/telegram/channels/${e}`,s),delete:e=>a.delete(`/telegram/channels/${e}`),refresh:e=>a.post(`/telegram/channels/${e}/refresh`),generateInviteLink:e=>a.post(`/telegram/channels/${e}/invite-link`)}},d={getMy:()=>a.get("/orders/my"),getMySales:()=>a.get("/orders/sales"),getMyStats:()=>a.get("/orders/stats")},c={getAll:()=>a.get("/settlements"),getPending:()=>a.get("/settlements/pending"),getHistory:()=>a.get("/settlements/history"),getTotalPaid:()=>a.get("/settlements/total-paid")},o={getMyModules:()=>a.get("/users/me/modules")},x={tipsters:{getAll:()=>a.get("/admin/tipsters"),getOne:e=>a.get(`/admin/tipsters/${e}`),updateModules:(e,s)=>a.patch(`/admin/tipsters/${e}/modules`,s)},commissions:{getAll:()=>a.get("/admin/commissions"),getOne:e=>a.get(`/admin/commissions/${e}`),getHistory:e=>a.get(`/admin/commissions/${e}/history`),update:(e,s)=>a.patch(`/admin/commissions/${e}`,s)},reports:{getSummary:e=>a.get("/admin/reports/summary",{params:{currency:e}}),getSales:e=>a.get("/admin/reports/sales",{params:e}),getPlatform:e=>a.get("/admin/reports/platform",{params:e}),getSettlements:e=>a.get("/admin/reports/settlements",{params:e}),getTipsters:e=>a.get("/admin/reports/tipsters",{params:e}),exportCSV:(e,s)=>a.get(`/admin/reports/export/${e}`,{params:s,responseType:"blob"})}},m={getRates:()=>a.get("/currency/rates"),getRate:(e,s)=>a.get(`/currency/rate/${e}/${s}`),convert:(e,s,t)=>a.get("/currency/convert",{params:{amount:e,from:s,to:t}}),admin:{setRate:(e,s,t)=>a.post("/currency/admin/rate",{baseCurrency:e,targetCurrency:s,rate:t}),removeOverride:(e,s)=>a.delete(`/currency/admin/rate/${e}/${s}`),getHistory:(e,s,t)=>a.get(`/currency/admin/history/${e}/${s}`,{params:{limit:t}})}}},3527:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(8570).createProxy)(String.raw`/app/frontend/src/app/dashboard/tipster/page.tsx#default`)},2029:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,metadata:()=>r});var a=t(9510);t(5023);let r={title:"Antia - Plataforma de Pron\xf3sticos",description:"Monetiza tu contenido con Antia"};function l({children:e}){return a.jsx("html",{lang:"es",children:a.jsx("body",{children:e})})}},5023:()=>{}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[819,468],()=>t(482));module.exports=a})();