(()=>{var e={};e.id=773,e.ids=[773],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},482:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>u,tree:()=>c}),a(3527),a(4954),a(5866);var t=a(3191),r=a(8716),l=a(7922),n=a.n(l),i=a(5231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);a.d(s,d);let c=["",{children:["dashboard",{children:["tipster",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3527)),"/app/frontend/src/app/dashboard/tipster/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,4954)),"/app/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],o=["/app/frontend/src/app/dashboard/tipster/page.tsx"],x="/dashboard/tipster/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/tipster/page",pathname:"/dashboard/tipster",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2343:(e,s,a)=>{Promise.resolve().then(a.bind(a,7046))},6557:(e,s,a)=>{"use strict";a.d(s,{Z:()=>n});var t=a(7577),r={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),n=(e,s)=>{let a=(0,t.forwardRef)(({color:a="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:c="",children:o,...x},m)=>(0,t.createElement)("svg",{ref:m,...r,width:n,height:n,stroke:a,strokeWidth:d?24*Number(i)/Number(n):i,className:["lucide",`lucide-${l(e)}`,c].join(" "),...x},[...s.map(([e,s])=>(0,t.createElement)(e,s)),...Array.isArray(o)?o:[o]]));return a.displayName=`${e}`,a}},4659:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8916:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(6557).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},5290:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(6557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},7046:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>C});var t=a(326),r=a(7577),l=a(5047),n=a(8069),i=a(8149);function d(){let{formatPrice:e,symbol:s}=(0,i.U)(),[a,l]=(0,r.useState)([]),[d,c]=(0,r.useState)(null),[o,x]=(0,r.useState)([]),[m,u]=(0,r.useState)(!0),[g,h]=(0,r.useState)("houses"),[b,p]=(0,r.useState)(null),[j,y]=(0,r.useState)(null),N=async()=>{u(!0),y(null);try{let[e,s,a]=await Promise.all([n.Qm.getHousesWithLinks(),n.Qm.getMetrics(),n.Qm.getPayouts()]);l(e.data||[]),c(s.data||null),x(a.data||[])}catch(e){console.error("Error loading affiliate data:",e),y(e.response?.data?.message||"Error al cargar datos de afiliaci\xf3n")}finally{u(!1)}},f=async e=>{let s=`/r/${e}`;try{await navigator.clipboard.writeText(s),p(e),setTimeout(()=>p(null),2e3)}catch(e){console.error("Error copying:",e)}},v=e=>{switch(e){case"PAID":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},C=e=>{switch(e){case"PAID":return"Pagado";case"PENDING":return"Pendiente";case"PROCESSING":return"En proceso";default:return e}};return m?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):j?(0,t.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[t.jsx("p",{className:"text-red-600 mb-4",children:j}),t.jsx("button",{onClick:N,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reintentar"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83E\uDD1D Afiliaci\xf3n"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Comparte links de casas de apuestas y gana comisiones por cada referido v\xe1lido"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Clicks Totales"}),t.jsx("div",{className:"text-3xl font-bold text-gray-900",children:d?.clicks||0})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Referidos Pendientes"}),t.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:d?.referrals?.pending||0})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Referidos Validados"}),t.jsx("div",{className:"text-3xl font-bold text-green-600",children:d?.referrals?.approved||0})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Ganancias Totales"}),t.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e(d?.earnings?.totalCents||0)})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[t.jsx("div",{className:"border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"flex -mb-px",children:[t.jsx("button",{onClick:()=>h("houses"),className:`px-6 py-4 text-sm font-medium border-b-2 ${"houses"===g?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83C\uDFE0 Casas de Apuestas"}),t.jsx("button",{onClick:()=>h("metrics"),className:`px-6 py-4 text-sm font-medium border-b-2 ${"metrics"===g?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83D\uDCCA M\xe9tricas por Casa"}),t.jsx("button",{onClick:()=>h("payouts"),className:`px-6 py-4 text-sm font-medium border-b-2 ${"payouts"===g?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83D\uDCB5 Liquidaciones"})]})}),(0,t.jsxs)("div",{className:"p-6",children:["houses"===g&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tus Enlaces de Afiliado"}),0===a.length?t.jsx("div",{className:"text-center py-8 text-gray-500",children:t.jsx("p",{children:"No hay casas de apuestas disponibles en este momento"})}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.map(({house:s,link:a})=>(0,t.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[s.logoUrl?t.jsx("img",{src:s.logoUrl,alt:s.name,className:"w-12 h-12 object-contain rounded",onError:e=>{e.target.style.display="none"}}):t.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center text-xl font-bold text-gray-500",children:s.name.charAt(0)}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:s.name}),(0,t.jsxs)("p",{className:"text-sm text-green-600 font-medium",children:[e(100*s.commissionPerReferralEur)," / referido"]})]})]}),(0,t.jsxs)("div",{className:"text-right text-xs text-gray-500",children:[(0,t.jsxs)("div",{children:[a.totalClicks," clicks"]}),(0,t.jsxs)("div",{children:[a.totalReferrals," referidos"]})]})]}),t.jsx("div",{className:"mt-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"text",readOnly:!0,value:`/r/${a.redirectCode}`,className:"flex-1 text-sm bg-gray-50 border rounded px-3 py-2 text-gray-600"}),t.jsx("button",{onClick:()=>f(a.redirectCode),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${b===a.redirectCode?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:b===a.redirectCode?"✓ Copiado":"Copiar"})]})})]},s.id))})]}),"metrics"===g&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"M\xe9tricas Detalladas"}),d?.byHouse?.length?t.jsx("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[t.jsx("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Casa"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Pendientes"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Validados"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rechazados"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ganancias"})]})}),t.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:d.byHouse.map(s=>(0,t.jsxs)("tr",{children:[t.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:s.houseName}),t.jsx("td",{className:"px-4 py-3 text-center text-sm text-yellow-600",children:s.pending}),t.jsx("td",{className:"px-4 py-3 text-center text-sm text-green-600",children:s.approved}),t.jsx("td",{className:"px-4 py-3 text-center text-sm text-red-600",children:s.rejected}),t.jsx("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:e(s.totalEarningsCents)})]},s.houseId))})]})}):t.jsx("div",{className:"text-center py-8 text-gray-500",children:t.jsx("p",{children:"A\xfan no hay datos de conversiones"})})]}),"payouts"===g&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Liquidaciones Mensuales"}),t.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Las liquidaciones de afiliaci\xf3n se pagan mensualmente y NO incluyen comisi\xf3n de plataforma."}),0===o.length?t.jsx("div",{className:"text-center py-8 text-gray-500",children:t.jsx("p",{children:"No hay liquidaciones pendientes"})}):t.jsx("div",{className:"space-y-4",children:o.map(s=>(0,t.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{children:[t.jsx("span",{className:"text-lg font-bold text-gray-900",children:s.periodMonth}),t.jsx("span",{className:`ml-3 px-2 py-1 text-xs font-medium rounded ${v(s.status)}`,children:C(s.status)})]}),(0,t.jsxs)("div",{className:"text-right",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:e(s.totalAmountCents)}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:[s.totalReferrals," referidos"]})]})]}),s.houseBreakdown?.length>0&&(0,t.jsxs)("div",{className:"border-t pt-3",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Desglose por casa:"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:s.houseBreakdown.map((s,a)=>(0,t.jsxs)("div",{className:"bg-gray-50 rounded px-3 py-2 text-sm",children:[t.jsx("div",{className:"font-medium text-gray-700",children:s.houseName}),(0,t.jsxs)("div",{className:"text-gray-500",children:[s.referrals," ref. \xb7 ",e(s.amountCents)]})]},a))})]}),s.paidAt&&(0,t.jsxs)("div",{className:"border-t mt-3 pt-3 text-sm text-gray-500",children:["Pagado el: ",new Date(s.paidAt).toLocaleDateString("es-ES")]})]},s.id))})]})]})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,t.jsxs)("div",{className:"flex gap-3",children:[t.jsx("span",{className:"text-blue-600 text-xl",children:"ℹ️"}),(0,t.jsxs)("div",{className:"text-sm text-blue-800",children:[t.jsx("p",{className:"font-medium mb-1",children:"\xbfC\xf3mo funciona la afiliaci\xf3n?"}),(0,t.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-blue-700",children:[t.jsx("li",{children:"Copia tu link de referido de cualquier casa de apuestas"}),t.jsx("li",{children:"Comparte el link con tu audiencia"}),t.jsx("li",{children:"Cuando alguien se registre y haga un dep\xf3sito usando tu link, ganar\xe1s la comisi\xf3n indicada"}),t.jsx("li",{children:"Las ganancias se liquidan mensualmente"})]})]})]})})]})}var c=a(2940),o=a(6557);let x=(0,o.Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function m({onComplete:e}){return t.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 mb-6 rounded-r-lg",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx("div",{className:"flex-shrink-0",children:t.jsx(x,{className:"h-5 w-5 text-orange-400"})}),(0,t.jsxs)("div",{className:"ml-3 flex-1",children:[t.jsx("h3",{className:"text-sm font-medium text-orange-800",children:"\xa1Completa tus datos de cobro!"}),t.jsx("div",{className:"mt-2 text-sm text-orange-700",children:t.jsx("p",{children:"Para poder recibir tus ganancias, necesitas completar tus datos bancarios/KYC. Esto solo te llevar\xe1 unos minutos."})}),t.jsx("div",{className:"mt-4",children:t.jsx("div",{className:"-mx-2 -my-1.5 flex",children:t.jsx("button",{onClick:e,className:"bg-orange-100 px-4 py-2 rounded-md text-sm font-medium text-orange-800 hover:bg-orange-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-orange-50 focus:ring-orange-600 transition",children:"Completar ahora →"})})})]})]})})}var u=a(4659);let g=(0,o.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),h=(0,o.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var b=a(8916);let p=(0,o.Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var j=a(5290);let y=[{value:"DNI",label:"DNI (Espa\xf1a)"},{value:"NIE",label:"NIE (Extranjero en Espa\xf1a)"},{value:"PASSPORT",label:"Pasaporte"},{value:"CIF",label:"CIF (Empresa)"}],N=[{value:"IBAN",label:"Transferencia Bancaria (IBAN)"},{value:"PAYPAL",label:"PayPal"},{value:"CRYPTO",label:"Criptomonedas (USDT)"},{value:"OTHER",label:"Otro"}],f=["Espa\xf1a","M\xe9xico","Argentina","Colombia","Chile","Per\xfa","Ecuador","Venezuela","Uruguay","Paraguay","Bolivia","Costa Rica","Panam\xe1","Guatemala","Honduras","El Salvador","Nicaragua","Rep\xfablica Dominicana","Puerto Rico","Cuba","Otro"];function v({onComplete:e,onCancel:s,initialData:a}){let[l,i]=(0,r.useState)({legalName:a?.legalName||"",documentType:a?.documentType||"DNI",documentNumber:"",country:a?.country||"Espa\xf1a",bankAccountType:a?.bankAccountType||"IBAN",bankAccountDetails:{iban:"",bankName:"",paypalEmail:"",cryptoAddress:"",cryptoNetwork:"TRC20",otherDetails:""}}),[d,c]=(0,r.useState)(!1),[o,x]=(0,r.useState)(""),[m,v]=(0,r.useState)(!1),C=async s=>{if(s.preventDefault(),x(""),c(!0),!l.legalName.trim()){x("El nombre o raz\xf3n social es obligatorio"),c(!1);return}if(!l.documentNumber.trim()){x("El n\xfamero de documento es obligatorio"),c(!1);return}if("IBAN"===l.bankAccountType&&!l.bankAccountDetails.iban.trim()){x("El IBAN es obligatorio"),c(!1);return}if("PAYPAL"===l.bankAccountType&&!l.bankAccountDetails.paypalEmail.trim()){x("El email de PayPal es obligatorio"),c(!1);return}if("CRYPTO"===l.bankAccountType&&!l.bankAccountDetails.cryptoAddress.trim()){x("La direcci\xf3n de wallet es obligatoria"),c(!1);return}try{let s={};switch(l.bankAccountType){case"IBAN":s={iban:l.bankAccountDetails.iban.replace(/\s/g,"").toUpperCase(),bankName:l.bankAccountDetails.bankName};break;case"PAYPAL":s={email:l.bankAccountDetails.paypalEmail};break;case"CRYPTO":s={address:l.bankAccountDetails.cryptoAddress,network:l.bankAccountDetails.cryptoNetwork};break;case"OTHER":s={details:l.bankAccountDetails.otherDetails}}await n.bs.updateKyc({legalName:l.legalName.trim(),documentType:l.documentType,documentNumber:l.documentNumber.trim(),country:l.country,bankAccountType:l.bankAccountType,bankAccountDetails:s}),v(!0),setTimeout(()=>{e()},2e3)}catch(e){x(e.response?.data?.message||"Error al guardar los datos")}finally{c(!1)}};return m?t.jsx("div",{className:"max-w-2xl mx-auto",children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx(u.Z,{className:"w-8 h-8 text-green-500"})}),t.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\xa1Datos guardados!"}),t.jsx("p",{className:"text-gray-600",children:"Tus datos de cobro han sido registrados correctamente."})]})}):(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Datos de Cobro (KYC)"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Completa tus datos para poder recibir tus ganancias"})]}),(0,t.jsxs)("form",{onSubmit:C,className:"bg-white rounded-xl shadow-lg p-8",children:[o&&t.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm mb-6",children:o}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[t.jsx(g,{className:"w-5 h-5 text-blue-600 mr-2"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Informaci\xf3n Personal / Fiscal"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo / Raz\xf3n Social *"}),t.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Juan P\xe9rez Garc\xeda o Mi Empresa S.L.",value:l.legalName,onChange:e=>i({...l,legalName:e.target.value})}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nombre tal como aparece en tu documento de identidad"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Documento *"}),t.jsx("select",{required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:l.documentType,onChange:e=>i({...l,documentType:e.target.value}),children:y.map(e=>t.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero de Documento *"}),t.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"12345678A",value:l.documentNumber,onChange:e=>i({...l,documentNumber:e.target.value})})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[t.jsx(h,{className:"w-4 h-4 inline mr-1"}),"Pa\xeds de Residencia Fiscal *"]}),t.jsx("select",{required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:l.country,onChange:e=>i({...l,country:e.target.value}),children:f.map(e=>t.jsx("option",{value:e,children:e},e))})]})]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4",children:[t.jsx(b.Z,{className:"w-5 h-5 text-blue-600 mr-2"}),t.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"M\xe9todo de Cobro"})]}),(0,t.jsxs)("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\xbfC\xf3mo quieres recibir tus pagos? *"}),t.jsx("div",{className:"grid grid-cols-2 gap-3",children:N.map(e=>t.jsx("button",{type:"button",onClick:()=>i({...l,bankAccountType:e.value}),className:`p-3 rounded-lg border-2 transition text-left ${l.bankAccountType===e.value?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:t.jsx("div",{className:"font-medium text-sm",children:e.label})},e.value))})]}),"IBAN"===l.bankAccountType&&(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-4 mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IBAN *"}),t.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"ES12 3456 7890 1234 5678 9012",value:l.bankAccountDetails.iban,onChange:e=>i({...l,bankAccountDetails:{...l.bankAccountDetails,iban:e.target.value}})})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Banco (opcional)"}),t.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Banco Santander, BBVA, etc.",value:l.bankAccountDetails.bankName,onChange:e=>i({...l,bankAccountDetails:{...l.bankAccountDetails,bankName:e.target.value}})})]})]}),"PAYPAL"===l.bankAccountType&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email de PayPal *"}),t.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tu@email.com",value:l.bankAccountDetails.paypalEmail,onChange:e=>i({...l,bankAccountDetails:{...l.bankAccountDetails,paypalEmail:e.target.value}})})]}),"CRYPTO"===l.bankAccountType&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Red / Network *"}),(0,t.jsxs)("select",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:l.bankAccountDetails.cryptoNetwork,onChange:e=>i({...l,bankAccountDetails:{...l.bankAccountDetails,cryptoNetwork:e.target.value}}),children:[t.jsx("option",{value:"TRC20",children:"USDT (TRC20 - Tron)"}),t.jsx("option",{value:"ERC20",children:"USDT (ERC20 - Ethereum)"}),t.jsx("option",{value:"BEP20",children:"USDT (BEP20 - BSC)"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direcci\xf3n de Wallet *"}),t.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:"TXxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",value:l.bankAccountDetails.cryptoAddress,onChange:e=>i({...l,bankAccountDetails:{...l.bankAccountDetails,cryptoAddress:e.target.value}})})]})]}),"OTHER"===l.bankAccountType&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detalles del m\xe9todo de pago *"}),t.jsx("textarea",{required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe c\xf3mo quieres recibir tus pagos...",rows:3,value:l.bankAccountDetails.otherDetails,onChange:e=>i({...l,bankAccountDetails:{...l.bankAccountDetails,otherDetails:e.target.value}})})]})]}),t.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,t.jsxs)("div",{className:"flex items-start",children:[t.jsx(p,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-2"}),(0,t.jsxs)("div",{className:"text-sm text-blue-800",children:[t.jsx("p",{className:"font-medium",children:"Informaci\xf3n importante"}),(0,t.jsxs)("ul",{className:"mt-1 list-disc list-inside space-y-1 text-blue-700",children:[t.jsx("li",{children:"Tus datos est\xe1n protegidos y solo se usar\xe1n para procesar tus pagos"}),t.jsx("li",{children:"Las liquidaciones se procesan los domingos"}),t.jsx("li",{children:"Podr\xe1s modificar estos datos desde tu perfil"})]})]})]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-4",children:[t.jsx("button",{type:"button",onClick:s,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancelar"}),t.jsx("button",{type:"submit",disabled:d,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:d?(0,t.jsxs)(t.Fragment,{children:[t.jsx(j.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):"Guardar Datos"})]})]})]})}function C(){let e=(0,l.useRouter)(),{formatPrice:s,symbol:a}=(0,i.U)(),[o,x]=(0,r.useState)("dashboard"),[u,g]=(0,r.useState)("liquidaciones"),[h,b]=(0,r.useState)(null),[p,j]=(0,r.useState)([]),[y,N]=(0,r.useState)(null),[f,C]=(0,r.useState)(null),[w,D]=(0,r.useState)([]),[k,P]=(0,r.useState)(null),[E,T]=(0,r.useState)({kycCompleted:!1,needsKyc:!1,applicationStatus:"PENDING"}),[A,S]=(0,r.useState)({forecasts:!0,affiliate:!1}),[I,q]=(0,r.useState)(!0),[L,F]=(0,r.useState)(!1),[M,$]=(0,r.useState)(null),[R,B]=(0,r.useState)(!1),[z,O]=(0,r.useState)({title:"",description:"",priceCents:"",billingType:"ONE_TIME",telegramChannelId:"",active:!0}),[U,_]=(0,r.useState)(!1),[G,V]=(0,r.useState)(""),[Z,H]=(0,r.useState)([]),[Y,K]=(0,r.useState)(!1),[W,Q]=(0,r.useState)(!1),[J,X]=(0,r.useState)({channelId:"",channelTitle:"",channelType:"private",inviteLink:""}),[ee,es]=(0,r.useState)(!1),[ea,et]=(0,r.useState)(null),[er,el]=(0,r.useState)(""),[en,ei]=(0,r.useState)(!1),[ed,ec]=(0,r.useState)(null),[eo,ex]=(0,r.useState)(!1),[em,eu]=(0,r.useState)(!1),[eg,eh]=(0,r.useState)(""),[eb,ep]=(0,r.useState)(""),[ej,ey]=(0,r.useState)(null),[eN,ef]=(0,r.useState)(""),[ev,eC]=(0,r.useState)(!1),[ew,eD]=(0,r.useState)({configured:!1,pending:!1,channelId:null,channelTitle:null,channelUsername:null}),[ek,eP]=(0,r.useState)(null),[eE,eT]=(0,r.useState)(""),[eA,eS]=(0,r.useState)(""),[eI,eq]=(0,r.useState)(!1),[eL,eF]=(0,r.useState)(""),[eM,e$]=(0,r.useState)(null),[eR,eB]=(0,r.useState)(!1),[ez,eO]=(0,r.useState)(null),eU=async()=>{try{try{let e=await n.g8.getMe();b(e.data),console.log("Loaded user profile:",e.data)}catch(e){console.error("Error loading user profile:",e)}try{let e=await n.fi.getMy();j(e.data)}catch(e){console.error("Error loading products:",e)}try{let e=await n.Q4.getMetrics();N(e.data)}catch(e){console.error("Error loading metrics:",e),N({clicks:0,registers:0,ftds:0,deposits:0,totalDeposits:0,conversionRate:0})}try{let e=await n.$z.channels.getAll();H(e.data.channels||[])}catch(e){console.error("Error loading Telegram channels:",e)}try{let e=await n.$z.getChannelInfo();e.data.connected&&(ex(!0),ec(e.data.channel)),e.data.premiumChannelLink&&ef(e.data.premiumChannelLink)}catch(e){console.error("Error loading Telegram info:",e)}try{let e=await n.$z.publicationChannel.get();console.log("Loaded publication channel:",e.data),eD(e.data)}catch(e){console.error("Error loading publication channel:",e)}try{let e=await n.kn.getMyStats();C(e.data)}catch(e){console.error("Error loading sales stats:",e),C({totalSales:0,totalEarningsCents:0,currency:"EUR"})}try{let e=await n.kn.getMySales();D(e.data.slice(0,10))}catch(e){console.error("Error loading recent sales:",e),D([])}try{let e=await n.lY.getAll();P(e.data)}catch(e){console.error("Error loading settlements:",e)}try{let e=await n.wT.getMyModules();e.data.modules&&S(e.data.modules)}catch(e){console.error("Error loading modules:",e)}try{let e=await n.bs.getKycStatus();T(e.data),console.log("Loaded KYC status:",e.data)}catch(e){console.error("Error loading KYC status:",e)}}catch(e){console.error("Error loading dashboard:",e)}finally{q(!1)}},e_=async()=>{try{let e=await n.bs.getKycStatus();T(e.data),x("dashboard")}catch(e){console.error("Error reloading KYC status:",e)}},eG=async()=>{try{await n.iJ.logout(),localStorage.removeItem("access_token"),e.push("/")}catch(s){console.error("Error logging out:",s),localStorage.removeItem("access_token"),e.push("/")}},eV=async()=>{if(!J.channelId.trim()){el("Por favor, ingresa el ID del canal");return}es(!0),el(""),et(null);try{let e=await n.$z.channels.verify(J.channelId.trim());e.data.valid?(et(e.data),X(s=>({...s,channelTitle:e.data.title||"",channelType:e.data.username?"public":"private"}))):el(e.data.error||"No se pudo verificar el canal")}catch(e){el(e.response?.data?.message||"Error al verificar el canal")}finally{es(!1)}},eZ=async()=>{if(!J.channelId.trim()||!J.channelTitle.trim()){el("Por favor, completa todos los campos requeridos");return}ei(!0),el("");try{if((await n.$z.channels.create({channelId:J.channelId.trim(),channelName:ea?.username||void 0,channelTitle:J.channelTitle.trim(),channelType:J.channelType,inviteLink:J.inviteLink.trim()||void 0})).data.success){let e=await n.$z.channels.getAll();H(e.data.channels||[]),Q(!1),X({channelId:"",channelTitle:"",channelType:"private",inviteLink:""}),et(null),alert("✅ Canal a\xf1adido correctamente")}}catch(e){el(e.response?.data?.message||"Error al a\xf1adir el canal")}finally{ei(!1)}},eH=async e=>{if(confirm("\xbfEst\xe1s seguro de que deseas desconectar este canal?"))try{await n.$z.channels.delete(e),H(s=>s.filter(s=>s.id!==e)),alert("Canal desconectado")}catch(e){alert("Error al desconectar el canal: "+(e.response?.data?.message||"Error desconocido"))}},eY=async e=>{try{let s=await n.$z.channels.generateInviteLink(e);if(s.data.success){let e=await n.$z.channels.getAll();H(e.data.channels||[]),alert("✅ Enlace de invitaci\xf3n generado: "+s.data.inviteLink)}else alert("Error: "+(s.data.error||"No se pudo generar el enlace"))}catch(e){alert("Error: "+(e.response?.data?.message||"Error al generar enlace"))}},eK=(e,s)=>{if(console.log("handlePublishToTelegram called",{productId:e,productTitle:s,publicationChannel:ew}),!ew.configured){alert("Primero debes configurar tu Canal de Publicaci\xf3n en la secci\xf3n de Telegram"),x("telegram");return}eO({id:e,title:s}),eB(!0)},eW=async()=>{if(ez){eB(!1),ey(ez.id);try{let e=await n.$z.publishProduct(ez.id);console.log("Publish response:",e.data),e.data.success?alert("✅ \xa1Publicado! Tu producto ya est\xe1 en tu canal de Telegram"):alert("❌ "+(e.data.message||"Error al publicar"))}catch(e){console.error("Publish error:",e),alert("❌ Error: "+(e.response?.data?.message||"Error al publicar en Telegram"))}finally{ey(null),eO(null)}}},eQ=()=>{eB(!1),eO(null)},eJ=()=>{let e=setInterval(async()=>{try{let s=await n.$z.publicationChannel.get();s.data.configured&&(eD(s.data),eP(null),clearInterval(e),e$(null))}catch(e){console.error("Error polling publication channel:",e)}},3e3);e$(e)},eX=async()=>{eq(!0),eF("");try{let e=await n.$z.publicationChannel.startLinking();e.data.success?(eD(e=>({...e,pending:!0})),eP("auto"),eJ()):eF(e.data.message||"Error al iniciar vinculaci\xf3n")}catch(e){eF(e.response?.data?.message||"Error al iniciar vinculaci\xf3n")}finally{eq(!1)}},e0=async()=>{try{await n.$z.publicationChannel.cancelLinking(),eD(e=>({...e,pending:!1})),eP(null),eM&&(clearInterval(eM),e$(null))}catch(e){console.error("Error canceling linking:",e)}},e2=async()=>{if(!eE.trim()){eF("Por favor, ingresa el ID o @username del canal");return}eq(!0),eF("");try{let e=await n.$z.publicationChannel.set(eE.trim(),eA.trim()||void 0);e.data.success?(eD({configured:!0,pending:!1,channelId:e.data.channelId,channelTitle:e.data.channelTitle,channelUsername:e.data.channelUsername}),eP(null),eT(""),eS("")):eF(e.data.message||"Error al configurar el canal")}catch(e){eF(e.response?.data?.message||"Error al configurar el canal")}finally{eq(!1)}},e1=async()=>{if(confirm("\xbfEst\xe1s seguro de que deseas desvincular el canal de publicaci\xf3n?"))try{await n.$z.publicationChannel.remove(),eD({configured:!1,pending:!1,channelId:null,channelTitle:null,channelUsername:null})}catch(e){alert("Error al eliminar el canal: "+(e.response?.data?.message||"Error desconocido"))}},e6=()=>{$(null),O({title:"",description:"",priceCents:"",billingType:"ONE_TIME",telegramChannelId:"",active:!0}),V(""),F(!0)},e5=e=>{$(e),O({title:e.title||"",description:e.description||"",priceCents:e.priceCents?(e.priceCents/100).toString():"",billingType:e.billingType||"ONE_TIME",telegramChannelId:e.telegramChannelId||"",active:e.active??!0}),V(""),F(!0)},e3=e=>{$(e),B(!0)},e4=async()=>{try{if(!z.title.trim()){V("El t\xedtulo es obligatorio");return}let e=parseFloat(z.priceCents);if(isNaN(e)||e<0){V("El precio debe ser un n\xfamero v\xe1lido mayor o igual a 0");return}_(!0),V("");let s={title:z.title.trim(),description:z.description.trim()||void 0,priceCents:Math.round(100*e),billingType:z.billingType,telegramChannelId:z.telegramChannelId||void 0,currency:"EUR"};if(M)await n.fi.update(M.id,s),z.active!==M.active&&(z.active?await n.fi.publish(M.id):await n.fi.pause(M.id));else{let e=await n.fi.create(s);z.active&&e.data?.id&&await n.fi.publish(e.data.id)}await eU(),e8()}catch(e){console.error("Error saving product:",e),V(e.response?.data?.message||"Error al guardar el producto. Por favor, intenta de nuevo.")}finally{_(!1)}},e8=()=>{F(!1),B(!1),$(null),V("")},e7=e=>{let s=Z.find(s=>s.channelId===e);return s?s.channelTitle:e};return I?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})}):(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[t.jsx("aside",{className:"fixed top-0 left-0 w-64 h-full bg-white border-r border-gray-200",children:(0,t.jsxs)("div",{className:"p-6",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-8",children:"Antia"}),(0,t.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[t.jsx("div",{className:"text-sm text-gray-500",children:h?.tipsterProfile?.publicName||h?.email||"Cargando..."}),(0,t.jsxs)("div",{className:"text-xs text-gray-400",children:["#",h?.tipsterProfile?.id?.slice(-4)||"----"]})]}),(0,t.jsxs)("nav",{className:"space-y-2",children:[t.jsx("button",{onClick:()=>x("dashboard"),className:`w-full text-left px-4 py-2 rounded-lg ${"dashboard"===o?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:"Dashboard"}),A.forecasts&&(0,t.jsxs)(t.Fragment,{children:[t.jsx("button",{onClick:()=>x("products"),className:`w-full text-left px-4 py-2 rounded-lg ${"products"===o?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:"\uD83C\uDFAF Mis Productos"}),t.jsx("button",{onClick:()=>x("telegram"),className:`w-full text-left px-4 py-2 rounded-lg ${"telegram"===o?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:(0,t.jsxs)("span",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"\uD83D\uDCF1 Telegram"}),Z.length>0&&t.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:Z.length})]})})]}),A.affiliate&&t.jsx("button",{onClick:()=>x("referrals"),className:`w-full text-left px-4 py-2 rounded-lg ${"referrals"===o?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:"\uD83E\uDD1D Afiliaci\xf3n"}),t.jsx("button",{onClick:()=>x("payouts"),className:`w-full text-left px-4 py-2 rounded-lg ${"payouts"===o?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:(0,t.jsxs)("span",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"\uD83D\uDCB5 Liquidaciones"}),(f?.netEarningsCents||0)>0&&t.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:s(f?.netEarningsCents||0)})]})}),E.needsKyc&&t.jsx("button",{onClick:()=>x("kyc"),className:`w-full text-left px-4 py-2 rounded-lg ${"kyc"===o?"bg-orange-50 text-orange-600 font-medium":"text-orange-600 hover:bg-orange-50 animate-pulse"}`,children:(0,t.jsxs)("span",{className:"flex items-center justify-between",children:[t.jsx("span",{children:"\uD83C\uDFE6 Datos de Cobro"}),t.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-orange-100 text-orange-800",children:"Pendiente"})]})}),t.jsx("button",{onClick:()=>x("profile"),className:`w-full text-left px-4 py-2 rounded-lg ${"profile"===o?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:"⚙️ Perfil"}),t.jsx("button",{onClick:eG,className:"w-full text-left px-4 py-2 rounded-lg text-red-600 hover:bg-red-50",children:"\uD83D\uDEAA Cerrar Sesi\xf3n"})]})]})}),(0,t.jsxs)("main",{className:"ml-64 p-8",children:[t.jsx("div",{className:"fixed top-4 right-8 z-50",children:t.jsx(c.Z,{variant:"pill"})}),E.needsKyc&&"kyc"!==o&&t.jsx(m,{onComplete:()=>x("kyc")}),"kyc"===o&&t.jsx(v,{onComplete:e_,onCancel:()=>x("dashboard"),initialData:E.kycData}),"dashboard"===o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Hola ",h?.tipsterProfile?.publicName?.split(" ")[0]||"Tipster",", Bienvenido de nuevo!"]}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Aqu\xed est\xe1 un resumen de tu actividad"})]}),(0,t.jsxs)("div",{className:`grid grid-cols-1 md:grid-cols-2 ${A.forecasts?"lg:grid-cols-4":"lg:grid-cols-3"} gap-6 mb-8`,children:[A.forecasts&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-blue-100",children:[t.jsx("div",{className:"flex items-center justify-between mb-2",children:t.jsx("div",{className:"text-sm text-gray-500",children:"\uD83D\uDCB0 Ingresos Brutos"})}),t.jsx("div",{className:"text-3xl font-bold text-blue-600",children:s(f?.grossEarningsCents||f?.totalEarningsCents||0)}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Total facturado este mes"})]}),A.forecasts&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCB5 Ventas"}),t.jsx("div",{className:"text-3xl font-bold text-gray-900",children:f?.totalSales||0}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Total de ventas"})]}),A.forecasts&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCE6 Productos"}),t.jsx("div",{className:"text-3xl font-bold text-gray-900",children:p.length}),(0,t.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[p.filter(e=>e.active).length," activos"]})]}),A.affiliate&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-purple-100",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83E\uDD1D Ganancias Afiliaci\xf3n"}),t.jsx("div",{className:"text-3xl font-bold text-purple-600",children:s(y?.totalEarnings||0)}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Comisiones pendientes"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDC65 Referidos FTD"}),t.jsx("div",{className:"text-3xl font-bold text-gray-900",children:y?.ftds||0}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"First Time Deposits"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCC5 Pr\xf3xima Liquidaci\xf3n"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:(()=>{let e=new Date,s=e.getDay(),a=new Date(e);return a.setDate(e.getDate()+((7-s)%7||7)),a.toLocaleDateString("es-ES",{day:"numeric",month:"short"})})()}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:t.jsx("button",{onClick:()=>x("payouts"),className:"text-blue-600 hover:underline",children:"Ver liquidaciones →"})})]})]}),A.forecasts&&(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Mis Productos"}),t.jsx("button",{onClick:e6,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm",children:"+ Crear Producto"})]}),t.jsx("div",{className:"p-6",children:0===p.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx("p",{className:"text-gray-500 mb-4",children:"No tienes productos a\xfan"}),t.jsx("button",{onClick:e6,className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Crear tu primer producto"})]}):t.jsx("div",{className:"space-y-4",children:p.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-medium text-gray-900",children:e.title}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[t.jsx("span",{className:"text-sm font-medium text-green-600",children:s(e.priceCents)}),t.jsx("span",{className:`text-xs px-2 py-1 rounded ${e.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"}`,children:e.active?"Activo":"Pausado"}),e.telegramChannelId&&(0,t.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-blue-50 text-blue-700",children:["\uD83D\uDCF1 ",e7(e.telegramChannelId)]})]})]}),t.jsx("button",{onClick:()=>e3(e),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Ver"})]},e.id))})})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Ventas Recientes"})}),t.jsx("div",{className:"p-6",children:0===w.length?t.jsx("div",{className:"text-center py-8",children:t.jsx("p",{className:"text-gray-500",children:"No hay ventas a\xfan"})}):t.jsx("div",{className:"space-y-4",children:w.slice(0,5).map(e=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg",children:[(0,t.jsxs)("div",{children:[t.jsx("p",{className:"font-medium text-gray-900",children:e.productTitle||"Producto"}),t.jsx("p",{className:"text-sm text-gray-500",children:e.emailBackup||"Cliente"})]}),(0,t.jsxs)("div",{className:"text-right",children:[t.jsx("p",{className:"font-medium text-green-600",children:s(e.amountCents||0)}),t.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString("es-ES")})]})]},e.id))})})]})]}),A.affiliate&&!A.forecasts&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83E\uDD1D Resumen de Afiliaci\xf3n"})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Clics"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:y?.clicks||0})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"Registros"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:y?.registers||0})]}),(0,t.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[t.jsx("p",{className:"text-sm text-gray-600",children:"FTDs"}),t.jsx("p",{className:"text-2xl font-bold text-purple-600",children:y?.ftds||0})]})]}),t.jsx("div",{className:"mt-6 text-center",children:t.jsx("button",{onClick:()=>x("referrals"),className:"text-purple-600 hover:underline",children:"Ver detalle de afiliaci\xf3n →"})})]})]})]}),"products"===o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Productos"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona tus pron\xf3sticos y suscripciones"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Lista de Productos"}),t.jsx("button",{onClick:e6,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm font-medium",children:"+ Crear Producto"})]})}),t.jsx("div",{className:"p-6",children:0===p.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("p",{className:"text-gray-500 mb-4",children:"No tienes productos a\xfan"}),t.jsx("button",{onClick:e6,className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Crear tu primer producto"})]}):t.jsx("div",{className:"space-y-4",children:p.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.title}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.description}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,t.jsxs)("span",{className:"text-sm font-medium text-green-600",children:["€",(e.priceCents/100).toFixed(2)]}),t.jsx("span",{className:`text-xs px-2 py-1 rounded ${e.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"}`,children:e.active?"Activo":"Pausado"}),t.jsx("span",{className:"text-xs text-gray-500",children:"SUBSCRIPTION"===e.billingType?"Suscripci\xf3n":"Pago \xfanico"}),e.telegramChannelId&&(0,t.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-blue-50 text-blue-700",children:["\uD83D\uDCF1 ",e7(e.telegramChannelId)]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("button",{onClick:()=>eK(e.id,e.title),disabled:ej===e.id,className:`px-4 py-2 text-white rounded-lg text-sm flex items-center gap-2 disabled:opacity-50 ${ew.configured?"bg-green-600 hover:bg-green-700":"bg-gray-400 hover:bg-gray-500"}`,title:ew.configured?`Publicar autom\xe1ticamente en ${ew.channelTitle||"Telegram"}`:"Configura primero tu Canal de Publicaci\xf3n",children:ej===e.id?"⏳ Publicando...":"\uD83D\uDCF1 Compartir en Telegram"}),t.jsx("button",{onClick:()=>e5(e),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Editar"}),t.jsx("button",{onClick:()=>e3(e),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Ver"})]})]}),(0,t.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-3",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs text-green-600 font-medium mb-1",children:"\uD83D\uDCB3 Link de Pago Directo (para tu canal)"}),(0,t.jsxs)("code",{className:"text-xs text-green-800 bg-white px-2 py-1 rounded border border-green-200 block truncate",children:["","/checkout/",e.id]})]}),t.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`/checkout/${e.id}`),alert("✅ Link de checkout copiado")},className:"flex-shrink-0 px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:"\uD83D\uDCCB Copiar"})]}),t.jsx("p",{className:"text-xs text-green-700 mt-2",children:"\uD83D\uDCE2 Publica este link en tu canal. El cliente paga y autom\xe1ticamente recibe acceso via Telegram."})]})]},e.id))})})]})]}),"telegram"===o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83D\uDCF1 Canales de Telegram"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona tus canales de Telegram"})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-lg p-6 mb-6",children:[t.jsx("div",{className:"flex items-start justify-between mb-4",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["\uD83D\uDCE2 Canal de Publicaci\xf3n",t.jsx("span",{className:"text-xs font-normal px-2 py-0.5 bg-green-100 text-green-700 rounded",children:"Para marketing"})]}),t.jsx("p",{className:"text-sm text-gray-600 mt-1",children:'Conecta tu canal de Telegram donde promocionas tus productos. Usa el bot\xf3n "\uD83D\uDCF1 Compartir" en cada producto para publicar autom\xe1ticamente.'})]})}),ew.configured?(0,t.jsxs)("div",{className:"bg-white rounded-lg p-5 border-2 border-green-300 shadow-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-14 h-14 bg-green-500 rounded-full flex items-center justify-center shadow",children:t.jsx("span",{className:"text-2xl",children:"✅"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-bold text-lg text-gray-900",children:ew.channelTitle||"Canal de Publicaci\xf3n"}),ew.channelUsername&&t.jsx("p",{className:"text-sm text-blue-600 font-medium",children:ew.channelUsername}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["ID: ",ew.channelId]})]})]}),(0,t.jsxs)("div",{className:"text-right",children:[t.jsx("p",{className:"text-sm text-green-600 font-medium mb-2",children:"\uD83C\uDF89 \xa1Listo para publicar!"}),t.jsx("button",{onClick:e1,className:"px-4 py-2 text-sm text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cambiar Canal"})]})]}),t.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg border border-green-200",children:(0,t.jsxs)("p",{className:"text-sm text-green-800",children:[t.jsx("strong",{children:"✨ \xa1Todo listo!"}),' Ve a "Mis Productos" y usa el bot\xf3n ',t.jsx("span",{className:"font-semibold",children:"\uD83D\uDCF1 Compartir"})," para publicar tus productos en este canal."]})})]}):"auto"===ek||ew.pending?t.jsx("div",{className:"bg-white rounded-lg p-5 border-2 border-yellow-300",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-yellow-100 rounded-full mb-4 animate-pulse",children:t.jsx("span",{className:"text-3xl",children:"⏳"})}),t.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Esperando conexi\xf3n..."}),t.jsx("p",{className:"text-gray-600 mb-4",children:"Sigue estos pasos en Telegram:"}),t.jsx("div",{className:"bg-yellow-50 rounded-lg p-4 text-left mb-4 max-w-md mx-auto",children:(0,t.jsxs)("ol",{className:"space-y-3",children:[(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"1"}),t.jsx("span",{className:"text-sm text-gray-700",children:"Abre tu canal de Telegram"})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"2"}),(0,t.jsxs)("span",{className:"text-sm text-gray-700",children:["Ve a ",t.jsx("strong",{children:"Configuraci\xf3n del canal"})," → ",t.jsx("strong",{children:"Administradores"})]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"3"}),(0,t.jsxs)("div",{className:"text-sm text-gray-700",children:["Busca y a\xf1ade a ",t.jsx("a",{href:"https://t.me/Antiabetbot",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 font-bold hover:underline",children:"@Antiabetbot"})," como administrador"]})]}),(0,t.jsxs)("li",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold",children:"✓"}),t.jsx("span",{className:"text-sm text-gray-700",children:"\xa1Listo! Se conectar\xe1 autom\xe1ticamente"})]})]})}),(0,t.jsxs)("div",{className:"flex justify-center gap-3",children:[t.jsx("a",{href:"https://t.me/Antiabetbot",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm font-medium",children:"Abrir @Antiabetbot"}),t.jsx("button",{onClick:e0,className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Cancelar"})]})]})}):"manual"===ek?(0,t.jsxs)("div",{className:"bg-white rounded-lg p-5 border border-green-200",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[t.jsx("span",{className:"text-xl",children:"✍️"}),t.jsx("h3",{className:"font-bold text-gray-900",children:"Configuraci\xf3n Manual"})]}),eL&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg mb-4",children:(0,t.jsxs)("p",{className:"text-sm text-red-600",children:["❌ ",eL]})}),(0,t.jsxs)("div",{className:"bg-blue-50 rounded-lg p-3 mb-4 text-sm text-blue-800",children:[t.jsx("strong",{children:"⚠️ Importante:"})," Antes de continuar, aseg\xfarate de haber a\xf1adido a ",t.jsx("strong",{children:"@Antiabetbot"})," como administrador del canal."]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Canal de Telegram ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:eE,onChange:e=>eT(e.target.value),placeholder:"@micanal o -1001234567890",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 text-lg"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\uD83D\uDCA1 Si tu canal es p\xfablico, usa ",t.jsx("strong",{children:"@nombredelcanal"}),". Si es privado, usa el ID num\xe9rico."]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-2",children:[t.jsx("button",{onClick:e2,disabled:eI||!eE.trim(),className:"flex-1 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50 font-medium",children:eI?"⏳ Verificando...":"✓ Conectar Canal"}),t.jsx("button",{onClick:()=>{eP(null),eF(""),eT("")},className:"px-6 py-3 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Volver"})]})]}),t.jsx("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg",children:(0,t.jsxs)("p",{className:"text-xs text-gray-600",children:[t.jsx("strong",{children:"\xbfC\xf3mo obtener el ID del canal privado?"}),t.jsx("br",{}),"Reenv\xeda cualquier mensaje del canal a ",t.jsx("a",{href:"https://t.me/userinfobot",target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"@userinfobot"})," y te dar\xe1 el ID."]})})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[t.jsx("p",{className:"text-center text-gray-600 mb-2",children:"Elige c\xf3mo quieres vincular tu canal:"}),t.jsx("div",{onClick:eX,className:"bg-white rounded-lg p-5 border-2 border-green-300 hover:border-green-500 cursor-pointer transition-all hover:shadow-md",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-2xl",children:"\uD83D\uDE80"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("h3",{className:"font-bold text-gray-900",children:"Conexi\xf3n Autom\xe1tica"}),t.jsx("span",{className:"text-xs px-2 py-0.5 bg-green-500 text-white rounded-full",children:"Recomendado"})]}),t.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Solo a\xf1ade @Antiabetbot como admin a tu canal y se conectar\xe1 autom\xe1ticamente."}),t.jsx("p",{className:"text-xs text-green-600 font-medium",children:"✓ Sin configuraci\xf3n manual • ✓ M\xe1s r\xe1pido • ✓ Sin errores"})]}),t.jsx("div",{className:"text-green-500 text-2xl",children:"→"})]})}),t.jsx("div",{onClick:()=>eP("manual"),className:"bg-white rounded-lg p-5 border border-gray-200 hover:border-gray-400 cursor-pointer transition-all hover:shadow-sm",children:(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-2xl",children:"✍️"})}),(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Configuraci\xf3n Manual"}),t.jsx("p",{className:"text-sm text-gray-600",children:"Introduce el @username o ID de tu canal manualmente."})]}),t.jsx("div",{className:"text-gray-400 text-2xl",children:"→"})]})})]}),!ew.configured&&!ek&&!ew.pending&&(0,t.jsxs)("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[t.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"\uD83D\uDCA1 \xbfQu\xe9 es el Canal de Publicaci\xf3n?"}),(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:["Es el canal de Telegram donde compartes tus pron\xf3sticos con tu audiencia. Una vez conectado, podr\xe1s usar el bot\xf3n ",t.jsx("strong",{children:'"\uD83D\uDCF1 Compartir"'})," en cada producto para publicarlo directamente en tu canal con un solo clic."]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["\uD83D\uDD12 Canales Premium",t.jsx("span",{className:"text-xs font-normal px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:"Para clientes"})]}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Estos son los canales privados donde tus clientes reciben acceso despu\xe9s de comprar."})]}),t.jsx("button",{onClick:()=>Q(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm font-medium",children:"+ A\xf1adir Canal"})]}),0===Z.length?(0,t.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-lg",children:[t.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF1"}),t.jsx("p",{className:"text-gray-500 mb-4",children:"No tienes canales conectados"}),t.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Conecta tus canales de Telegram para asignarlos a tus productos"}),t.jsx("button",{onClick:()=>Q(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"A\xf1adir mi primer canal"})]}):t.jsx("div",{className:"space-y-4",children:Z.map(e=>t.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex items-start gap-4",children:[t.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${"public"===e.channelType?"bg-green-100":"bg-blue-100"}`,children:t.jsx("span",{className:"text-2xl",children:"public"===e.channelType?"\uD83C\uDF10":"\uD83D\uDD12"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.channelTitle}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-500",children:[e.channelName&&(0,t.jsxs)("span",{children:["@",e.channelName]}),t.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${"public"===e.channelType?"bg-green-50 text-green-700":"bg-blue-50 text-blue-700"}`,children:"public"===e.channelType?"P\xfablico":"Privado"}),e.memberCount&&(0,t.jsxs)("span",{children:[e.memberCount," miembros"]})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["ID: ",e.channelId," • Conectado: ",new Date(e.connectedAt).toLocaleDateString("es-ES")]}),e.inviteLink&&(0,t.jsxs)("div",{className:"mt-2",children:[t.jsx("span",{className:"text-xs text-gray-500",children:"Enlace: "}),t.jsx("a",{href:e.inviteLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:e.inviteLink})]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:["private"===e.channelType&&t.jsx("button",{onClick:()=>eY(e.id),className:"px-3 py-1.5 text-xs border border-gray-300 rounded hover:bg-gray-50",title:"Generar enlace de invitaci\xf3n",children:"\uD83D\uDD17 Generar Link"}),t.jsx("button",{onClick:()=>eH(e.id),className:"px-3 py-1.5 text-xs text-red-600 border border-red-300 rounded hover:bg-red-50",children:"Desconectar"})]})]})},e.id))})]}),(0,t.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[t.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"\uD83D\uDCD6 C\xf3mo funcionan los canales"}),(0,t.jsxs)("div",{className:"space-y-3 text-sm text-gray-700",children:[(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"1. A\xf1ade el bot como administrador:"})," A\xf1ade @Antiabetbot como administrador a tu canal de Telegram con permisos para invitar usuarios."]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"2. Conecta el canal:"}),' Usa el bot\xf3n "A\xf1adir Canal" e ingresa el ID del canal (puedes obtenerlo reenviando un mensaje del canal a @userinfobot).']}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"3. Asigna a productos:"})," Al crear o editar un producto, selecciona el canal donde los clientes recibir\xe1n acceso."]}),(0,t.jsxs)("p",{children:[t.jsx("strong",{children:"4. Multi-canal:"})," Puedes tener m\xfaltiples canales y asignar cada producto a un canal diferente."]})]})]})]}),"referrals"===o&&t.jsx(d,{}),"payouts"===o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83D\uDCB5 Liquidaciones"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona tus ingresos y pagos"})]}),t.jsx("div",{className:"bg-white rounded-lg shadow mb-6",children:t.jsx("div",{className:"border-b border-gray-200",children:(0,t.jsxs)("nav",{className:"flex -mb-px",children:[t.jsx("button",{onClick:()=>g("liquidaciones"),className:`px-6 py-4 text-sm font-medium border-b-2 ${"liquidaciones"===u?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83D\uDCCA Liquidaciones"}),t.jsx("button",{onClick:()=>g("facturas"),className:`px-6 py-4 text-sm font-medium border-b-2 ${"facturas"===u?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83D\uDCC4 Facturas"}),t.jsx("button",{onClick:()=>g("pagos"),className:`px-6 py-4 text-sm font-medium border-b-2 ${"pagos"===u?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83D\uDCB3 Pagos Recibidos"})]})})}),"liquidaciones"===u&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Balance Pendiente"}),t.jsx("div",{className:"text-3xl font-bold text-blue-600",children:s(f?.netEarningsCents||0)}),t.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Pr\xf3xima liquidaci\xf3n: Domingo"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Total Liquidado (Hist\xf3rico)"}),t.jsx("div",{className:"text-3xl font-bold text-green-600",children:"€0.00"}),t.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Desde el inicio"})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Pr\xf3xima Liquidaci\xf3n"}),t.jsx("div",{className:"text-xl font-bold text-gray-900",children:(()=>{let e=new Date,s=e.getDay(),a=new Date(e);return a.setDate(e.getDate()+((7-s)%7||7)),a.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})()}),t.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Pron\xf3sticos: cada 7 d\xedas"})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCA Desglose del Per\xedodo Actual"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Detalle de comisiones y neto a recibir"})]}),t.jsx("div",{className:"p-6",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsx("table",{className:"w-full",children:(0,t.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[(0,t.jsxs)("tr",{children:[t.jsx("td",{className:"py-4 text-gray-600",children:"Ingresos Brutos"}),t.jsx("td",{className:"py-4 text-right font-semibold text-gray-900",children:s(f?.grossEarningsCents||0)})]}),(0,t.jsxs)("tr",{className:"bg-red-50",children:[t.jsx("td",{className:"py-4 text-gray-600",children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-red-500",children:"−"}),"Comisi\xf3n Pasarela (Stripe/Redsys)"]})}),(0,t.jsxs)("td",{className:"py-4 text-right font-semibold text-red-600",children:["-",s(f?.gatewayFeesCents||0)]})]}),(0,t.jsxs)("tr",{className:"bg-orange-50",children:[t.jsx("td",{className:"py-4 text-gray-600",children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-orange-500",children:"−"}),"Comisi\xf3n Antia (Plataforma)"]})}),(0,t.jsxs)("td",{className:"py-4 text-right font-semibold text-orange-600",children:["-",s(f?.platformFeesCents||0)]})]}),(0,t.jsxs)("tr",{className:"bg-green-50 border-t-2 border-green-200",children:[t.jsx("td",{className:"py-4 text-gray-900 font-semibold",children:(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-green-600",children:"="}),"Neto a Recibir"]})}),t.jsx("td",{className:"py-4 text-right font-bold text-green-600 text-xl",children:s(f?.netEarningsCents||0)})]})]})})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-xl",children:"\uD83C\uDFAF"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Pron\xf3sticos"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Venta de productos"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Frecuencia"}),t.jsx("span",{className:"font-medium",children:"Cada 7 d\xedas"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Comisi\xf3n Antia"}),t.jsx("span",{className:"font-medium text-orange-600",children:"10% (7% alto volumen)"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Pendiente"}),t.jsx("span",{className:"font-bold text-blue-600",children:s(f?.netEarningsCents||0)})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-xl",children:"\uD83E\uDD1D"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:"Afiliaci\xf3n"}),t.jsx("p",{className:"text-xs text-gray-500",children:"Casas de apuestas"})]})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Frecuencia"}),t.jsx("span",{className:"font-medium",children:"1 vez al mes"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Comisi\xf3n Antia"}),t.jsx("span",{className:"font-medium text-green-600",children:"Sin comisi\xf3n"})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[t.jsx("span",{className:"text-gray-600",children:"Pendiente"}),t.jsx("span",{className:"font-bold text-purple-600",children:"€0.00"})]})]})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCB Historial de Liquidaciones"})}),t.jsx("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCED"}),t.jsx("p",{className:"text-gray-500",children:"No hay liquidaciones procesadas a\xfan"}),t.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Tu primera liquidaci\xf3n se procesar\xe1 el pr\xf3ximo domingo"})]})})]})]}),"facturas"===u&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCC4 Facturas"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Descarga tus facturas de liquidaci\xf3n"})]}),t.jsx("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC4"}),t.jsx("p",{className:"text-gray-500",children:"No hay facturas disponibles"}),t.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Las facturas se generan autom\xe1ticamente con cada liquidaci\xf3n"})]})})]}),"pagos"===u&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,t.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCB3 Pagos Recibidos"}),t.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Historial de transferencias a tu cuenta"})]}),t.jsx("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCB8"}),t.jsx("p",{className:"text-gray-500",children:"No hay pagos recibidos a\xfan"}),t.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Aqu\xed ver\xe1s el historial de pagos realizados a tu cuenta bancaria"})]})})]})]}),"profile"===o&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mi Perfil"}),t.jsx("p",{className:"text-gray-600 mt-1",children:"Configuraci\xf3n de tu cuenta"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Informaci\xf3n Personal"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre P\xfablico"}),t.jsx("input",{type:"text",value:h?.tipsterProfile?.publicName||"",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),t.jsx("input",{type:"email",value:h?.email||"",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tel\xe9fono"}),t.jsx("input",{type:"text",value:h?.phone||"No configurado",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario de Telegram"}),t.jsx("input",{type:"text",value:h?.tipsterProfile?.telegramUsername||"No configurado",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado de la cuenta"}),t.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${h?.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:h?.status==="ACTIVE"?"✓ Activa":h?.status})]}),t.jsx("div",{className:"pt-4 border-t",children:t.jsx("p",{className:"text-sm text-gray-500",children:"Para modificar tu informaci\xf3n de perfil, contacta con el administrador."})})]})]}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83C\uDFE6 Datos de Cobro"}),E.kycCompleted?t.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"✓ Completo"}):t.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:"Pendiente"})]}),E.kycCompleted&&E.kycData?(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre/Raz\xf3n Social"}),t.jsx("input",{type:"text",value:E.kycData.legalName||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Documento"}),t.jsx("input",{type:"text",value:E.kycData.documentType||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xfamero"}),t.jsx("input",{type:"text",value:E.kycData.documentNumber||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pa\xeds"}),t.jsx("input",{type:"text",value:E.kycData.country||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M\xe9todo de Cobro"}),t.jsx("input",{type:"text",value:E.kycData.bankAccountType||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),t.jsx("div",{className:"pt-4 border-t",children:t.jsx("button",{onClick:()=>x("kyc"),className:"w-full px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 font-medium transition",children:"✏️ Modificar Datos de Cobro"})})]}):(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("span",{className:"text-3xl",children:"\uD83D\uDCCB"})}),t.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Datos no configurados"}),t.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Completa tus datos de cobro para poder recibir tus ganancias"}),t.jsx("button",{onClick:()=>x("kyc"),className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium transition",children:"Completar Ahora"})]})]})]})]})]}),eR&&ez&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:eQ,children:(0,t.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",onClick:e=>e.stopPropagation(),children:[t.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6 text-white",children:(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-full flex items-center justify-center",children:t.jsx("span",{className:"text-3xl",children:"\uD83D\uDCF1"})}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-xl font-bold",children:"Compartir en Telegram"}),t.jsx("p",{className:"text-green-100 text-sm",children:"Publicaci\xf3n autom\xe1tica"})]})]})}),(0,t.jsxs)("div",{className:"p-6",children:[t.jsx("p",{className:"text-gray-700 mb-4",children:"\xbfEst\xe1s seguro que quieres compartir este producto en tu canal de Telegram?"}),(0,t.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[t.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Producto:"}),t.jsx("p",{className:"font-semibold text-gray-900",children:ez.title})]}),t.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[t.jsx("span",{className:"text-xl",children:"ℹ️"}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:[t.jsx("strong",{children:"Se publicar\xe1 autom\xe1ticamente"})," en tu canal:"]}),(0,t.jsxs)("p",{className:"text-sm text-blue-600 font-medium mt-1",children:[ew.channelTitle," ",ew.channelUsername&&`(${ew.channelUsername})`]})]})]})})]}),(0,t.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3",children:[t.jsx("button",{onClick:eQ,className:"px-5 py-2.5 border border-gray-300 rounded-lg hover:bg-gray-100 text-gray-700 font-medium transition",children:"Cancelar"}),(0,t.jsxs)("button",{onClick:eW,className:"px-5 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition flex items-center gap-2",children:[t.jsx("span",{children:"\uD83D\uDCE4"})," S\xed, Publicar Ahora"]})]})]})}),W&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>Q(!1),children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",onClick:e=>e.stopPropagation(),children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"A\xf1adir Canal de Telegram"}),t.jsx("button",{onClick:()=>Q(!1),className:"text-gray-400 hover:text-gray-600",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsxs)("div",{className:"p-6 space-y-4",children:[er&&t.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:er})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID del Canal ",t.jsx("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:J.channelId,onChange:e=>{X({...J,channelId:e.target.value}),et(null)},placeholder:"Ej: -1001234567890",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("button",{onClick:eV,disabled:ee||!J.channelId.trim(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:ee?"Verificando...":"Verificar"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes obtener el ID reenviando un mensaje del canal a @userinfobot"})]}),ea&&(0,t.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[t.jsx("p",{className:"text-sm text-green-800 font-medium",children:"✅ Canal verificado"}),(0,t.jsxs)("p",{className:"text-sm text-green-700",children:["Nombre: ",ea.title]}),ea.username&&(0,t.jsxs)("p",{className:"text-sm text-green-700",children:["@",ea.username]}),(0,t.jsxs)("p",{className:"text-sm text-green-700",children:["Tipo: ",ea.type]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre del Canal ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:J.channelTitle,onChange:e=>X({...J,channelTitle:e.target.value}),placeholder:"Ej: Mi Canal Premium",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Canal"}),(0,t.jsxs)("select",{value:J.channelType,onChange:e=>X({...J,channelType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"private",children:"\uD83D\uDD12 Privado"}),t.jsx("option",{value:"public",children:"\uD83C\uDF10 P\xfablico"})]})]}),"private"===J.channelType&&(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enlace de Invitaci\xf3n (Opcional)"}),t.jsx("input",{type:"text",value:J.inviteLink,onChange:e=>X({...J,inviteLink:e.target.value}),placeholder:"Ej: https://t.me/+AbCdEf123456",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes generarlo despu\xe9s desde la lista de canales"})]}),(0,t.jsxs)("div",{className:"flex gap-3 justify-end pt-4",children:[t.jsx("button",{onClick:()=>Q(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),t.jsx("button",{onClick:eZ,disabled:en||!J.channelId.trim()||!J.channelTitle.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:en?"A\xf1adiendo...":"A\xf1adir Canal"})]})]})]})}),L&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e8,children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:M?"Editar Producto":"Crear Nuevo Producto"}),t.jsx("button",{onClick:e8,className:"text-gray-400 hover:text-gray-600",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsxs)("div",{className:"p-6",children:[G&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:t.jsx("p",{className:"text-sm text-red-600",children:G})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["T\xedtulo del Producto ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:z.title,onChange:e=>O({...z,title:e.target.value}),placeholder:"Ej: Pron\xf3sticos Premium Mensuales",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n"}),t.jsx("textarea",{rows:3,value:z.description,onChange:e=>O({...z,description:e.target.value}),placeholder:"Describe tu producto...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Precio (€) ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"number",step:"0.01",min:"0",value:z.priceCents,onChange:e=>O({...z,priceCents:e.target.value}),placeholder:"29.99",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,t.jsxs)("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Facturaci\xf3n"}),(0,t.jsxs)("select",{value:z.billingType,onChange:e=>O({...z,billingType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"ONE_TIME",children:"Pago \xfanico"}),t.jsx("option",{value:"SUBSCRIPTION",children:"Suscripci\xf3n"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Canal de Telegram ",t.jsx("span",{className:"text-red-500",children:"*"})]}),0===Z.length?(0,t.jsxs)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[t.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"⚠️ No tienes canales conectados"}),t.jsx("p",{className:"text-xs text-yellow-700 mb-3",children:"Debes conectar al menos un canal de Telegram para asignarlo a tus productos."}),t.jsx("button",{type:"button",onClick:()=>{e8(),x("telegram")},className:"text-sm text-blue-600 hover:underline font-medium",children:"Ir a conectar un canal →"})]}):(0,t.jsxs)("select",{value:z.telegramChannelId,onChange:e=>O({...z,telegramChannelId:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[t.jsx("option",{value:"",children:"-- Selecciona un canal --"}),Z.map(e=>(0,t.jsxs)("option",{value:e.channelId,children:["public"===e.channelType?"\uD83C\uDF10":"\uD83D\uDD12"," ",e.channelTitle,e.channelName&&` (@${e.channelName})`]},e.id))]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Este es el canal donde los clientes recibir\xe1n acceso despu\xe9s de la compra"})]}),(0,t.jsxs)("div",{className:"flex items-center",children:[t.jsx("input",{type:"checkbox",id:"active",checked:z.active,onChange:e=>O({...z,active:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),t.jsx("label",{htmlFor:"active",className:"ml-2 text-sm text-gray-700",children:"Producto activo"})]})]}),(0,t.jsxs)("div",{className:"mt-6 flex gap-3 justify-end",children:[t.jsx("button",{onClick:e8,disabled:U,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition disabled:opacity-50",children:"Cancelar"}),t.jsx("button",{onClick:e4,disabled:U,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 flex items-center gap-2",children:U?(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Guardando..."]}):M?"Guardar Cambios":"Crear Producto"})]})]})]})}),R&&M&&t.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:e8,children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[t.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:M.title}),t.jsx("button",{onClick:e8,className:"text-gray-400 hover:text-gray-600",children:t.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:t.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,t.jsxs)("div",{className:"p-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Descripci\xf3n"}),t.jsx("p",{className:"text-gray-900",children:M.description||"Sin descripci\xf3n"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Precio"}),(0,t.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["€",(M.priceCents/100).toFixed(2)]})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Estado"}),t.jsx("span",{className:`inline-block px-3 py-1 rounded text-sm font-medium ${M.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"}`,children:M.active?"Activo":"Pausado"})]})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Tipo de Facturaci\xf3n"}),t.jsx("p",{className:"text-gray-900",children:"SUBSCRIPTION"===M.billingType?"Suscripci\xf3n":"Pago \xfanico"})]}),M.telegramChannelId&&(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Canal de Telegram"}),(0,t.jsxs)("p",{className:"text-gray-900 flex items-center gap-2",children:["\uD83D\uDCF1 ",e7(M.telegramChannelId),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["(",M.telegramChannelId,")"]})]})]}),(0,t.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Estad\xedsticas"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),t.jsx("div",{className:"text-xs text-gray-600",children:"Ventas"})]}),(0,t.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:"€0.00"}),t.jsx("div",{className:"text-xs text-gray-600",children:"Ingresos"})]}),(0,t.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[t.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"0"}),t.jsx("div",{className:"text-xs text-gray-600",children:"Suscriptores"})]})]})]})]}),(0,t.jsxs)("div",{className:"mt-6 flex gap-3 justify-end",children:[t.jsx("button",{onClick:e8,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cerrar"}),t.jsx("button",{onClick:()=>{B(!1),e5(M)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Editar Producto"})]})]})]})})]})}},3527:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(8570).createProxy)(String.raw`/app/frontend/src/app/dashboard/tipster/page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[276,480,613],()=>a(482));module.exports=t})();