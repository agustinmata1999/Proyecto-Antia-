(()=>{var e={};e.id=773,e.ids=[773],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},482:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),r(3527),r(4954),r(5866);var a=r(3191),s=r(8716),n=r(7922),l=r.n(n),i=r(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);r.d(t,o);let c=["",{children:["dashboard",{children:["tipster",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3527)),"/app/frontend/src/app/dashboard/tipster/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,4954)),"/app/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/app/frontend/src/app/dashboard/tipster/page.tsx"],u="/dashboard/tipster/page",m={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/dashboard/tipster/page",pathname:"/dashboard/tipster",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},2343:(e,t,r)=>{Promise.resolve().then(r.bind(r,2791))},7202:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},4659:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},8916:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},7027:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},5290:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3855:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},8091:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},9635:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},4019:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});let a=(0,r(6557).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2791:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>aV});var a,s,n,l=r(326),i=r(7577),o=r.t(i,2),c=r(5047),d=r(8069),u=r(8149),m=r(1664),x=r(3855),p=r(7027),h=r(6557);let g=(0,h.Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),f=(0,h.Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),b=(0,h.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),y=(0,h.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);var v=r(8091),j=r(4019);let N=(0,h.Z)("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),w=()=>process.env.REACT_APP_BACKEND_URL||"";w();let C={ES:{name:"Espa\xf1a",flag:"\uD83C\uDDEA\uD83C\uDDF8"},MX:{name:"M\xe9xico",flag:"\uD83C\uDDF2\uD83C\uDDFD"},AR:{name:"Argentina",flag:"\uD83C\uDDE6\uD83C\uDDF7"},CO:{name:"Colombia",flag:"\uD83C\uDDE8\uD83C\uDDF4"},CL:{name:"Chile",flag:"\uD83C\uDDE8\uD83C\uDDF1"},PE:{name:"Per\xfa",flag:"\uD83C\uDDF5\uD83C\uDDEA"},US:{name:"Estados Unidos",flag:"\uD83C\uDDFA\uD83C\uDDF8"},UK:{name:"Reino Unido",flag:"\uD83C\uDDEC\uD83C\uDDE7"}},D=Object.keys(C);function E(){let[e,t]=(0,i.useState)([]),[r,a]=(0,i.useState)(!0),[s,n]=(0,i.useState)(!1),[o,c]=(0,i.useState)(!1),[d,u]=(0,i.useState)(null),[h,E]=(0,i.useState)(null),[k,S]=(0,i.useState)(null),[P,T]=(0,i.useState)([]),[A,R]=(0,i.useState)([]),[I,L]=(0,i.useState)({promotionId:"",title:"",description:"",countriesEnabled:["ES"],countryConfigs:[]}),[O,M]=(0,i.useState)({}),[F,$]=(0,i.useState)(!1),[z,_]=(0,i.useState)(""),B=async()=>{a(!0);try{let e=localStorage.getItem("access_token"),r=await fetch(`${w()}/api/tipster/landings`,{headers:{Authorization:`Bearer ${e}`}});if(r.ok){let e=await r.json();t(e)}}catch(e){console.error("Error loading landings:",e)}finally{a(!1)}},q=async e=>{try{let t=localStorage.getItem("access_token"),r=await fetch(`${w()}/api/promotions/${e}/houses`,{headers:{Authorization:`Bearer ${t}`}});if(r.ok){let e=await r.json();R(e),L(e=>({...e,countryConfigs:[]}))}}catch(e){console.error("Error loading promotion houses:",e)}},H=async e=>{if(!I.promotionId&&!O[e])try{let t=localStorage.getItem("access_token"),r=await fetch(`${w()}/api/tipster/landings/houses/${e}`,{headers:{Authorization:`Bearer ${t}`}});if(r.ok){let t=await r.json();M(r=>({...r,[e]:t}))}}catch(e){console.error("Error loading houses:",e)}},W=e=>{L(t=>({...t,promotionId:e,countryConfigs:[]})),R([]),e&&q(e)},U=e=>{let t;let r=I.countriesEnabled;r.includes(e)?(t=r.filter(t=>t!==e),L(r=>({...r,countriesEnabled:t,countryConfigs:r.countryConfigs.filter(t=>t.country!==e)}))):(t=[...r,e],H(e),L(r=>({...r,countriesEnabled:t,countryConfigs:[...r.countryConfigs,{country:e,items:[]}]})))},V=(e,t)=>{L(r=>{let a=[...r.countryConfigs],s=a.findIndex(t=>t.country===e);if(-1===s)a.push({country:e,items:[{bettingHouseId:t,orderIndex:0}]});else{let e=a[s].items;e.find(e=>e.bettingHouseId===t)||e.push({bettingHouseId:t,orderIndex:e.length})}return{...r,countryConfigs:a}})},Z=(e,t)=>{L(r=>{let a=[...r.countryConfigs],s=a.findIndex(t=>t.country===e);return -1!==s&&(a[s].items=a[s].items.filter(e=>e.bettingHouseId!==t).map((e,t)=>({...e,orderIndex:t}))),{...r,countryConfigs:a}})},Y=(e,t,r)=>{L(a=>{let s=[...a.countryConfigs],n=s.findIndex(t=>t.country===e);if(-1!==n){let e=[...s[n].items],a=e.findIndex(e=>e.bettingHouseId===t);if(-1!==a){let t="up"===r?a-1:a+1;t>=0&&t<e.length&&([e[a],e[t]]=[e[t],e[a]],e.forEach((e,t)=>e.orderIndex=t),s[n].items=e)}}return{...a,countryConfigs:s}})},G=async()=>{if(!I.promotionId){_("Selecciona un reto/promoci\xf3n");return}if(0===I.countriesEnabled.length){_("Selecciona al menos un pa\xeds");return}for(let e of I.countriesEnabled){let t=I.countryConfigs.find(t=>t.country===e);if(!t||0===t.items.length){_(`A\xf1ade al menos una casa de apuestas para ${C[e]?.name||e}`);return}}$(!0),_("");try{let e=localStorage.getItem("access_token"),t=await fetch(`${w()}/api/tipster/landings`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`},body:JSON.stringify({promotionId:I.promotionId,title:I.title||void 0,description:I.description||void 0,countriesEnabled:I.countriesEnabled,countryConfigs:I.countryConfigs})});if(!t.ok){let e=await t.json();throw Error(e.message||"Error al crear landing")}await B(),n(!1),ee()}catch(e){_(e.message)}finally{$(!1)}},X=async e=>{if(confirm("\xbfEst\xe1s seguro de eliminar esta landing?"))try{let t=localStorage.getItem("access_token");await fetch(`${w()}/api/tipster/landings/${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${t}`}}),await B()}catch(e){console.error("Error deleting landing:",e)}},K=async e=>{try{let t=localStorage.getItem("access_token");await fetch(`${w()}/api/tipster/landings/${e.id}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({isActive:!e.isActive})}),await B()}catch(e){console.error("Error toggling landing:",e)}},J=async e=>{u(e),c(!0),E(null);try{let t=localStorage.getItem("access_token"),r=await fetch(`${w()}/api/tipster/landings/${e.id}/metrics`,{headers:{Authorization:`Bearer ${t}`}});if(r.ok){let e=await r.json();E(e)}}catch(e){console.error("Error loading metrics:",e)}},Q=async e=>{let t=`/go/${e}`;try{await navigator.clipboard.writeText(t),S(e),setTimeout(()=>S(null),2e3)}catch(e){console.error("Error copying:",e)}},ee=()=>{L({promotionId:"",title:"",description:"",countriesEnabled:["ES"],countryConfigs:[]}),R([]),_("")},et=()=>{ee(),n(!0)};return r?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Mis Landings"}),l.jsx("p",{className:"text-gray-600",children:"Crea p\xe1ginas de afiliaci\xf3n personalizadas con tus casas de apuestas favoritas"})]}),(0,l.jsxs)(m.z,{onClick:et,className:"flex items-center gap-2",children:[l.jsx(x.Z,{className:"w-4 h-4"}),"Crear Landing"]})]}),0===e.length?(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-8 text-center",children:[l.jsx("div",{className:"text-gray-400 mb-4",children:l.jsx(p.Z,{className:"w-12 h-12 mx-auto"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tienes landings creadas"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Crea tu primera landing para compartir tus enlaces de afiliado"}),l.jsx(m.z,{onClick:et,children:"Crear mi primera Landing"})]}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:e.map(e=>(0,l.jsxs)("div",{className:`bg-white rounded-lg shadow p-4 ${e.isActive?"":"opacity-60"}`,children:[(0,l.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:e.title||"Landing sin t\xedtulo"}),e.promotionName&&(0,l.jsxs)("p",{className:"text-sm text-blue-600 font-medium",children:["\uD83C\uDF81 ",e.promotionName]}),l.jsx("p",{className:"text-sm text-gray-500",children:e.countriesEnabled.map(e=>C[e]?.flag||e).join(" ")})]}),l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${e.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-600"}`,children:e.isActive?"Activa":"Inactiva"})]}),(0,l.jsxs)("div",{className:"flex gap-4 mb-4 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[l.jsx(g,{className:"w-4 h-4"}),(0,l.jsxs)("span",{children:[e.totalImpressions," vistas"]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-1 text-gray-600",children:[l.jsx(f,{className:"w-4 h-4"}),(0,l.jsxs)("span",{children:[e.totalClicks," clicks"]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-4 p-2 bg-gray-100 rounded text-sm",children:[(0,l.jsxs)("code",{className:"flex-1 truncate text-gray-700",children:["","/go/",e.slug]}),l.jsx("button",{onClick:()=>Q(e.slug),className:"p-1 hover:bg-gray-200 rounded",children:k===e.slug?l.jsx(b,{className:"w-4 h-4 text-green-500"}):l.jsx(y,{className:"w-4 h-4"})})]}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,l.jsxs)(m.z,{size:"sm",variant:"outline",onClick:()=>J(e),children:[l.jsx(f,{className:"w-4 h-4 mr-1"}),"M\xe9tricas"]}),(0,l.jsxs)(m.z,{size:"sm",variant:"outline",onClick:()=>window.open(`/go/${e.slug}`,"_blank"),children:[l.jsx(p.Z,{className:"w-4 h-4 mr-1"}),"Ver"]}),l.jsx(m.z,{size:"sm",variant:"outline",onClick:()=>K(e),children:e.isActive?"Desactivar":"Activar"}),l.jsx(m.z,{size:"sm",variant:"destructive",onClick:()=>X(e.id),children:l.jsx(v.Z,{className:"w-4 h-4"})})]})]},e.id))}),s&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-bold",children:"Crear Nueva Landing"}),l.jsx("button",{onClick:()=>n(!1),className:"p-1 hover:bg-gray-100 rounded",children:l.jsx(j.Z,{className:"w-5 h-5"})})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Reto/Promoci\xf3n ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Selecciona el reto que quieres promocionar"}),(0,l.jsxs)("select",{value:I.promotionId,onChange:e=>W(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[l.jsx("option",{value:"",children:"Selecciona un reto..."}),P.map(e=>(0,l.jsxs)("option",{value:e.id,children:["\uD83C\uDF81 ",e.name]},e.id))]}),0===P.length&&l.jsx("p",{className:"text-sm text-yellow-600 mt-1",children:"No hay retos disponibles. Contacta al administrador."})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"T\xedtulo (opcional)"}),l.jsx("input",{type:"text",placeholder:"Ej: Mi Reto Navidad...",value:I.title,onChange:e=>L(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n (opcional)"}),l.jsx("textarea",{placeholder:"Una breve descripci\xf3n de tu landing...",value:I.description,onChange:e=>L(t=>({...t,description:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:2})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pa\xedses Objetivo"}),l.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Selecciona los pa\xedses para los que quieres crear esta landing"}),l.jsx("div",{className:"flex flex-wrap gap-2",children:D.map(e=>(0,l.jsxs)("button",{onClick:()=>U(e),className:`px-3 py-1 rounded-full text-sm font-medium ${I.countriesEnabled.includes(e)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[C[e].flag," ",C[e].name]},e))})]}),I.promotionId&&I.countriesEnabled.map(e=>{let t=A.filter(t=>t.house.allowedCountries.includes(e));return(0,l.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,l.jsxs)("h4",{className:"font-medium mb-3",children:[C[e]?.flag," ",C[e]?.name||e]}),l.jsx("div",{className:"space-y-2 mb-4",children:I.countryConfigs.find(t=>t.country===e)?.items.map((t,r)=>{let a=A.find(e=>e.bettingHouseId===t.bettingHouseId);return a?l.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 rounded",children:[l.jsx(N,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{className:"font-medium",children:[r+1,"."]}),a.house.logoUrl&&l.jsx("img",{src:a.house.logoUrl,alt:a.house.name,className:"w-8 h-8 object-contain"}),l.jsx("span",{className:"flex-1",children:a.house.name}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx("button",{disabled:0===r,onClick:()=>Y(e,t.bettingHouseId,"up"),className:"px-2 py-1 text-sm bg-gray-200 rounded disabled:opacity-50",children:"↑"}),l.jsx("button",{disabled:r===(I.countryConfigs.find(t=>t.country===e)?.items.length||0)-1,onClick:()=>Y(e,t.bettingHouseId,"down"),className:"px-2 py-1 text-sm bg-gray-200 rounded disabled:opacity-50",children:"↓"}),l.jsx("button",{onClick:()=>Z(e,t.bettingHouseId),className:"px-2 py-1 text-sm bg-red-100 text-red-600 rounded hover:bg-red-200",children:l.jsx(v.Z,{className:"w-4 h-4"})})]})]},t.bettingHouseId):null})}),(0,l.jsxs)("select",{onChange:t=>{t.target.value&&(V(e,t.target.value),t.target.value="")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[l.jsx("option",{value:"",children:"A\xf1adir casa de apuestas..."}),t.filter(t=>!I.countryConfigs.find(t=>t.country===e)?.items.find(e=>e.bettingHouseId===t.bettingHouseId)).map(e=>l.jsx("option",{value:e.bettingHouseId,children:e.house.name},e.bettingHouseId))]}),0===t.length&&(0,l.jsxs)("p",{className:"text-sm text-yellow-600 mt-2",children:["No hay casas disponibles para ",C[e]?.name," en este reto."]})]},e)}),!I.promotionId&&I.countriesEnabled.length>0&&l.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:l.jsx("p",{className:"text-yellow-700 text-sm",children:"Selecciona un reto/promoci\xf3n para ver las casas de apuestas disponibles."})}),z&&l.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded text-red-600 text-sm",children:z}),(0,l.jsxs)("div",{className:"flex justify-end gap-2",children:[l.jsx(m.z,{variant:"outline",onClick:()=>n(!1),children:"Cancelar"}),l.jsx(m.z,{onClick:G,disabled:F,children:F?"Creando...":"Crear Landing"})]})]})]})})}),o&&l.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:l.jsx("div",{className:"bg-white rounded-lg max-w-lg w-full",children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("h2",{className:"text-xl font-bold",children:["M\xe9tricas: ",d?.title||"Landing"]}),l.jsx("button",{onClick:()=>c(!1),className:"p-1 hover:bg-gray-100 rounded",children:l.jsx(j.Z,{className:"w-5 h-5"})})]}),h?(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"p-4 bg-gray-50 rounded text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:h.landing?.totalImpressions||0}),l.jsx("div",{className:"text-sm text-gray-500",children:"Vistas"})]}),(0,l.jsxs)("div",{className:"p-4 bg-gray-50 rounded text-center",children:[l.jsx("div",{className:"text-2xl font-bold",children:h.landing?.totalClicks||0}),l.jsx("div",{className:"text-sm text-gray-500",children:"Clicks"})]})]}),h.clicksByCountry?.length>0&&(0,l.jsxs)("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Clicks por Pa\xeds"}),l.jsx("div",{className:"space-y-1",children:h.clicksByCountry.map(e=>(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,l.jsxs)("span",{children:[C[e.country]?.flag," ",C[e.country]?.name||e.country]}),l.jsx("span",{className:"font-medium",children:e.clicks})]},e.country))})]}),h.clicksByHouse?.length>0&&(0,l.jsxs)("div",{children:[l.jsx("h4",{className:"font-medium mb-2",children:"Clicks por Casa"}),l.jsx("div",{className:"space-y-1",children:h.clicksByHouse.map(e=>(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:e.houseName}),l.jsx("span",{className:"font-medium",children:e.clicks})]},e.houseId))})]})]}):l.jsx("div",{className:"flex items-center justify-center h-32",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]})})})]})}function k(){let{formatPrice:e,symbol:t}=(0,u.U)(),[r,a]=(0,i.useState)([]),[s,n]=(0,i.useState)(null),[o,c]=(0,i.useState)([]),[m,x]=(0,i.useState)(!0),[p,h]=(0,i.useState)("landings"),[g,f]=(0,i.useState)(null),[b,y]=(0,i.useState)(null),[v,j]=(0,i.useState)([]),[N,w]=(0,i.useState)(!1),[C,D]=(0,i.useState)({houseId:"",status:""}),k=async()=>{x(!0),y(null);try{let[e,t,r]=await Promise.all([d.Qm.getHousesWithLinks(),d.Qm.getMetrics(),d.Qm.getPayouts()]);a(e.data||[]),n(t.data||null),c(r.data||[])}catch(e){console.error("Error loading affiliate data:",e),y(e.response?.data?.message||"Error al cargar datos de afiliaci\xf3n")}finally{x(!1)}},S=async()=>{w(!0);try{let e=await d.Qm.getMyReferrals(C);j(e.data.referrals||e.data||[])}catch(e){console.error("Error loading referrals:",e)}finally{w(!1)}},P=async e=>{let t=`/r/${e}`;try{await navigator.clipboard.writeText(t),f(e),setTimeout(()=>f(null),2e3)}catch(e){console.error("Error copying:",e)}},T=e=>{switch(e){case"PAID":return"bg-green-100 text-green-800";case"PENDING":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},A=e=>{switch(e){case"PAID":return"Pagado";case"PENDING":return"Pendiente";case"PROCESSING":return"En proceso";default:return e}};return m?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b?(0,l.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[l.jsx("p",{className:"text-red-600 mb-4",children:b}),l.jsx("button",{onClick:k,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Reintentar"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83E\uDD1D Afiliaci\xf3n"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Comparte links de casas de apuestas y gana comisiones por cada referido v\xe1lido"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Clicks Totales"}),l.jsx("div",{className:"text-3xl font-bold text-gray-900",children:s?.clicks||0})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Referidos Pendientes"}),l.jsx("div",{className:"text-3xl font-bold text-yellow-600",children:s?.referrals?.pending||0})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Referidos Validados"}),l.jsx("div",{className:"text-3xl font-bold text-green-600",children:s?.referrals?.approved||0})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Ganancias Totales"}),l.jsx("div",{className:"text-3xl font-bold text-blue-600",children:e(s?.earnings?.totalCents||0)})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow mb-6",children:[l.jsx("div",{className:"border-b border-gray-200",children:(0,l.jsxs)("nav",{className:"flex -mb-px overflow-x-auto",children:[l.jsx("button",{onClick:()=>h("landings"),className:`px-6 py-4 text-sm font-medium border-b-2 whitespace-nowrap ${"landings"===p?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83D\uDE80 Mis Landings"}),l.jsx("button",{onClick:()=>h("houses"),className:`px-6 py-4 text-sm font-medium border-b-2 whitespace-nowrap ${"houses"===p?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83C\uDFE0 Casas de Apuestas"}),(0,l.jsxs)("button",{onClick:()=>h("referrals"),className:`px-6 py-4 text-sm font-medium border-b-2 whitespace-nowrap ${"referrals"===p?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["\uD83D\uDC65 Mis Referidos",(s?.referrals?.pending??0)>0&&l.jsx("span",{className:"ml-2 bg-yellow-500 text-white px-2 py-0.5 rounded-full text-xs",children:s?.referrals?.pending})]}),l.jsx("button",{onClick:()=>h("metrics"),className:`px-6 py-4 text-sm font-medium border-b-2 whitespace-nowrap ${"metrics"===p?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83D\uDCCA M\xe9tricas por Casa"}),l.jsx("button",{onClick:()=>h("payouts"),className:`px-6 py-4 text-sm font-medium border-b-2 whitespace-nowrap ${"payouts"===p?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83D\uDCB5 Liquidaciones"})]})}),(0,l.jsxs)("div",{className:"p-6",children:["landings"===p&&l.jsx(E,{}),"houses"===p&&(0,l.jsxs)(l.Fragment,{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Tus Enlaces de Afiliado"}),0===r.length?l.jsx("div",{className:"text-center py-8 text-gray-500",children:l.jsx("p",{children:"No hay casas de apuestas disponibles en este momento"})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map(({house:t,link:r})=>(0,l.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow",children:[(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3",children:[t.logoUrl?l.jsx("img",{src:t.logoUrl,alt:t.name,className:"w-12 h-12 object-contain rounded",onError:e=>{e.target.style.display="none"}}):l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded flex items-center justify-center text-xl font-bold text-gray-500",children:t.name.charAt(0)}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:t.name}),(0,l.jsxs)("p",{className:"text-sm text-green-600 font-medium",children:[e(100*t.commissionPerReferralEur)," / referido"]})]})]}),(0,l.jsxs)("div",{className:"text-right text-xs text-gray-500",children:[(0,l.jsxs)("div",{children:[r.totalClicks," clicks"]}),(0,l.jsxs)("div",{children:[r.totalReferrals," referidos"]})]})]}),l.jsx("div",{className:"mt-4",children:(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("input",{type:"text",readOnly:!0,value:`/r/${r.redirectCode}`,className:"flex-1 text-sm bg-gray-50 border rounded px-3 py-2 text-gray-600"}),l.jsx("button",{onClick:()=>P(r.redirectCode),className:`px-4 py-2 rounded text-sm font-medium transition-colors ${g===r.redirectCode?"bg-green-600 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:g===r.redirectCode?"✓ Copiado":"Copiar"})]})})]},t.id))})]}),"referrals"===p&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Detalle de Mis Referidos"}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsxs)("select",{value:C.houseId,onChange:e=>D({...C,houseId:e.target.value}),className:"border rounded-lg px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Todas las casas"}),r.map(({house:e})=>l.jsx("option",{value:e.id,children:e.name},e.id))]}),(0,l.jsxs)("select",{value:C.status,onChange:e=>D({...C,status:e.target.value}),className:"border rounded-lg px-3 py-2 text-sm",children:[l.jsx("option",{value:"",children:"Todos los estados"}),l.jsx("option",{value:"PENDING",children:"Pendientes"}),l.jsx("option",{value:"APPROVED",children:"Aprobados"}),l.jsx("option",{value:"REJECTED",children:"Rechazados"})]}),l.jsx("button",{onClick:S,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Filtrar"})]})]}),N?l.jsx("div",{className:"text-center py-8",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"})}):0===v.length?(0,l.jsxs)("div",{className:"text-center py-12 text-gray-500",children:[l.jsx("div",{className:"text-4xl mb-2",children:"\uD83D\uDC65"}),l.jsx("p",{children:"No tienes referidos a\xfan"}),l.jsx("p",{className:"text-sm mt-1",children:"Comparte tus links de afiliaci\xf3n para empezar a ganar"})]}):l.jsx("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Casa"}),l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Usuario"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Pa\xeds"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Tipo"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ganancia"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Estado"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.map(t=>(0,l.jsxs)("tr",{className:"hover:bg-gray-50",children:[l.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:new Date(t.convertedAt||t.clickedAt||new Date).toLocaleDateString("es-ES",{day:"2-digit",month:"short",year:"numeric"})}),l.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:t.houseName}),(0,l.jsxs)("td",{className:"px-4 py-3",children:[l.jsx("div",{className:"text-sm text-gray-900",children:t.userEmail||"Usuario an\xf3nimo"}),t.userTelegram&&(0,l.jsxs)("div",{className:"text-xs text-gray-500",children:["\uD83D\uDCF1 ",t.userTelegram]})]}),l.jsx("td",{className:"px-4 py-3 text-center text-sm",children:t.country||"\uD83C\uDF0D"}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${"DEPOSIT"===t.eventType?"bg-green-100 text-green-700":"REGISTER"===t.eventType?"bg-blue-100 text-blue-700":"QUALIFIED"===t.eventType?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-600"}`,children:"DEPOSIT"===t.eventType?"\uD83D\uDCB0 Dep\xf3sito":"REGISTER"===t.eventType?"\uD83D\uDCDD Registro":"QUALIFIED"===t.eventType?"✅ Calificado":t.eventType||"Click"})}),l.jsx("td",{className:"px-4 py-3 text-right text-sm font-medium text-green-600",children:e(t.commissionCents)}),l.jsx("td",{className:"px-4 py-3 text-center",children:l.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${"PENDING"===t.status?"bg-yellow-100 text-yellow-700":"APPROVED"===t.status?"bg-green-100 text-green-700":"REJECTED"===t.status?"bg-red-100 text-red-700":"bg-gray-100 text-gray-600"}`,children:"PENDING"===t.status?"⏳ Pendiente":"APPROVED"===t.status?"✅ Validado":"REJECTED"===t.status?"❌ Rechazado":t.status})})]},t.id))})]})})]}),"metrics"===p&&(0,l.jsxs)(l.Fragment,{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"M\xe9tricas Detalladas"}),s?.byHouse?.length?l.jsx("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[l.jsx("thead",{className:"bg-gray-50",children:(0,l.jsxs)("tr",{children:[l.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Casa"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Pendientes"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Validados"}),l.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase",children:"Rechazados"}),l.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Ganancias"})]})}),l.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.byHouse.map(t=>(0,l.jsxs)("tr",{children:[l.jsx("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:t.houseName}),l.jsx("td",{className:"px-4 py-3 text-center text-sm text-yellow-600",children:t.pending}),l.jsx("td",{className:"px-4 py-3 text-center text-sm text-green-600",children:t.approved}),l.jsx("td",{className:"px-4 py-3 text-center text-sm text-red-600",children:t.rejected}),l.jsx("td",{className:"px-4 py-3 text-right text-sm font-medium text-gray-900",children:e(t.totalEarningsCents)})]},t.houseId))})]})}):l.jsx("div",{className:"text-center py-8 text-gray-500",children:l.jsx("p",{children:"A\xfan no hay datos de conversiones"})})]}),"payouts"===p&&(0,l.jsxs)(l.Fragment,{children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Liquidaciones Mensuales"}),l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Las liquidaciones de afiliaci\xf3n se pagan mensualmente y NO incluyen comisi\xf3n de plataforma."}),0===o.length?l.jsx("div",{className:"text-center py-8 text-gray-500",children:l.jsx("p",{children:"No hay liquidaciones pendientes"})}):l.jsx("div",{className:"space-y-4",children:o.map(t=>(0,l.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{children:[l.jsx("span",{className:"text-lg font-bold text-gray-900",children:t.periodMonth}),l.jsx("span",{className:`ml-3 px-2 py-1 text-xs font-medium rounded ${T(t.status)}`,children:A(t.status)})]}),(0,l.jsxs)("div",{className:"text-right",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:e(t.totalAmountCents)}),(0,l.jsxs)("div",{className:"text-sm text-gray-500",children:[t.totalReferrals," referidos"]})]})]}),t.houseBreakdown?.length>0&&(0,l.jsxs)("div",{className:"border-t pt-3",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Desglose por casa:"}),l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:t.houseBreakdown.map((t,r)=>(0,l.jsxs)("div",{className:"bg-gray-50 rounded px-3 py-2 text-sm",children:[l.jsx("div",{className:"font-medium text-gray-700",children:t.houseName}),(0,l.jsxs)("div",{className:"text-gray-500",children:[t.referrals," ref. \xb7 ",e(t.amountCents)]})]},r))})]}),t.paidAt&&(0,l.jsxs)("div",{className:"border-t mt-3 pt-3 text-sm text-gray-500",children:["Pagado el: ",new Date(t.paidAt).toLocaleDateString("es-ES")]})]},t.id))})]})]})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:(0,l.jsxs)("div",{className:"flex gap-3",children:[l.jsx("span",{className:"text-blue-600 text-xl",children:"ℹ️"}),(0,l.jsxs)("div",{className:"text-sm text-blue-800",children:[l.jsx("p",{className:"font-medium mb-1",children:"\xbfC\xf3mo funciona la afiliaci\xf3n?"}),(0,l.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-blue-700",children:[l.jsx("li",{children:"Copia tu link de referido de cualquier casa de apuestas"}),l.jsx("li",{children:"Comparte el link con tu audiencia"}),l.jsx("li",{children:"Cuando alguien se registre y haga un dep\xf3sito usando tu link, ganar\xe1s la comisi\xf3n indicada"}),l.jsx("li",{children:"Las ganancias se liquidan mensualmente"})]})]})]})})]})}var S=r(2940),P=r(7202);function T({onComplete:e}){return l.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 mb-6 rounded-r-lg",children:(0,l.jsxs)("div",{className:"flex items-start",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(P.Z,{className:"h-5 w-5 text-orange-400"})}),(0,l.jsxs)("div",{className:"ml-3 flex-1",children:[l.jsx("h3",{className:"text-sm font-medium text-orange-800",children:"\xa1Completa tus datos de cobro!"}),l.jsx("div",{className:"mt-2 text-sm text-orange-700",children:l.jsx("p",{children:"Para poder recibir tus ganancias, necesitas completar tus datos bancarios/KYC. Esto solo te llevar\xe1 unos minutos."})}),l.jsx("div",{className:"mt-4",children:l.jsx("div",{className:"-mx-2 -my-1.5 flex",children:l.jsx("button",{onClick:e,className:"bg-orange-100 px-4 py-2 rounded-md text-sm font-medium text-orange-800 hover:bg-orange-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-orange-50 focus:ring-orange-600 transition",children:"Completar ahora →"})})})]})]})})}var A=r(4659),R=r(9635);let I=(0,h.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var L=r(8916);let O=(0,h.Z)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var M=r(5290);let F=[{value:"DNI",label:"DNI (Espa\xf1a)"},{value:"NIE",label:"NIE (Extranjero en Espa\xf1a)"},{value:"PASSPORT",label:"Pasaporte"},{value:"CIF",label:"CIF (Empresa)"}],$=[{value:"IBAN",label:"Transferencia Bancaria (IBAN)"},{value:"PAYPAL",label:"PayPal"},{value:"CRYPTO",label:"Criptomonedas (USDT)"},{value:"OTHER",label:"Otro"}],z=["Espa\xf1a","M\xe9xico","Argentina","Colombia","Chile","Per\xfa","Ecuador","Venezuela","Uruguay","Paraguay","Bolivia","Costa Rica","Panam\xe1","Guatemala","Honduras","El Salvador","Nicaragua","Rep\xfablica Dominicana","Puerto Rico","Cuba","Otro"];function _({onComplete:e,onCancel:t,initialData:r}){let[a,s]=(0,i.useState)({legalName:r?.legalName||"",documentType:r?.documentType||"DNI",documentNumber:"",country:r?.country||"Espa\xf1a",bankAccountType:r?.bankAccountType||"IBAN",bankAccountDetails:{iban:"",bankName:"",paypalEmail:"",cryptoAddress:"",cryptoNetwork:"TRC20",otherDetails:""}}),[n,o]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),[m,x]=(0,i.useState)(!1),p=async t=>{if(t.preventDefault(),u(""),o(!0),!a.legalName.trim()){u("El nombre o raz\xf3n social es obligatorio"),o(!1);return}if(!a.documentNumber.trim()){u("El n\xfamero de documento es obligatorio"),o(!1);return}if("IBAN"===a.bankAccountType&&!a.bankAccountDetails.iban.trim()){u("El IBAN es obligatorio"),o(!1);return}if("PAYPAL"===a.bankAccountType&&!a.bankAccountDetails.paypalEmail.trim()){u("El email de PayPal es obligatorio"),o(!1);return}if("CRYPTO"===a.bankAccountType&&!a.bankAccountDetails.cryptoAddress.trim()){u("La direcci\xf3n de wallet es obligatoria"),o(!1);return}try{let t={};switch(a.bankAccountType){case"IBAN":t={iban:a.bankAccountDetails.iban.replace(/\s/g,"").toUpperCase(),bankName:a.bankAccountDetails.bankName};break;case"PAYPAL":t={email:a.bankAccountDetails.paypalEmail};break;case"CRYPTO":t={address:a.bankAccountDetails.cryptoAddress,network:a.bankAccountDetails.cryptoNetwork};break;case"OTHER":t={details:a.bankAccountDetails.otherDetails}}await d.bs.updateKyc({legalName:a.legalName.trim(),documentType:a.documentType,documentNumber:a.documentNumber.trim(),country:a.country,bankAccountType:a.bankAccountType,bankAccountDetails:t}),x(!0),setTimeout(()=>{e()},2e3)}catch(e){u(e.response?.data?.message||"Error al guardar los datos")}finally{o(!1)}};return m?l.jsx("div",{className:"max-w-2xl mx-auto",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(A.Z,{className:"w-8 h-8 text-green-500"})}),l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\xa1Datos guardados!"}),l.jsx("p",{className:"text-gray-600",children:"Tus datos de cobro han sido registrados correctamente."})]})}):(0,l.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,l.jsxs)("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Datos de Cobro (KYC)"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Completa tus datos para poder recibir tus ganancias"})]}),(0,l.jsxs)("form",{onSubmit:p,className:"bg-white rounded-xl shadow-lg p-8",children:[c&&l.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm mb-6",children:c}),(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center mb-4",children:[l.jsx(R.Z,{className:"w-5 h-5 text-blue-600 mr-2"}),l.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Informaci\xf3n Personal / Fiscal"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre Completo / Raz\xf3n Social *"}),l.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Juan P\xe9rez Garc\xeda o Mi Empresa S.L.",value:a.legalName,onChange:e=>s({...a,legalName:e.target.value})}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nombre tal como aparece en tu documento de identidad"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tipo de Documento *"}),l.jsx("select",{required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:a.documentType,onChange:e=>s({...a,documentType:e.target.value}),children:F.map(e=>l.jsx("option",{value:e.value,children:e.label},e.value))})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"N\xfamero de Documento *"}),l.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"12345678A",value:a.documentNumber,onChange:e=>s({...a,documentNumber:e.target.value})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[l.jsx(I,{className:"w-4 h-4 inline mr-1"}),"Pa\xeds de Residencia Fiscal *"]}),l.jsx("select",{required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:a.country,onChange:e=>s({...a,country:e.target.value}),children:z.map(e=>l.jsx("option",{value:e,children:e},e))})]})]})]}),(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("div",{className:"flex items-center mb-4",children:[l.jsx(L.Z,{className:"w-5 h-5 text-blue-600 mr-2"}),l.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"M\xe9todo de Cobro"})]}),(0,l.jsxs)("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"\xbfC\xf3mo quieres recibir tus pagos? *"}),l.jsx("div",{className:"grid grid-cols-2 gap-3",children:$.map(e=>l.jsx("button",{type:"button",onClick:()=>s({...a,bankAccountType:e.value}),className:`p-3 rounded-lg border-2 transition text-left ${a.bankAccountType===e.value?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:l.jsx("div",{className:"font-medium text-sm",children:e.label})},e.value))})]}),"IBAN"===a.bankAccountType&&(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-4 mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IBAN *"}),l.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono",placeholder:"ES12 3456 7890 1234 5678 9012",value:a.bankAccountDetails.iban,onChange:e=>s({...a,bankAccountDetails:{...a.bankAccountDetails,iban:e.target.value}})})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre del Banco (opcional)"}),l.jsx("input",{type:"text",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Banco Santander, BBVA, etc.",value:a.bankAccountDetails.bankName,onChange:e=>s({...a,bankAccountDetails:{...a.bankAccountDetails,bankName:e.target.value}})})]})]}),"PAYPAL"===a.bankAccountType&&(0,l.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email de PayPal *"}),l.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"tu@email.com",value:a.bankAccountDetails.paypalEmail,onChange:e=>s({...a,bankAccountDetails:{...a.bankAccountDetails,paypalEmail:e.target.value}})})]}),"CRYPTO"===a.bankAccountType&&(0,l.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Red / Network *"}),(0,l.jsxs)("select",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:a.bankAccountDetails.cryptoNetwork,onChange:e=>s({...a,bankAccountDetails:{...a.bankAccountDetails,cryptoNetwork:e.target.value}}),children:[l.jsx("option",{value:"TRC20",children:"USDT (TRC20 - Tron)"}),l.jsx("option",{value:"ERC20",children:"USDT (ERC20 - Ethereum)"}),l.jsx("option",{value:"BEP20",children:"USDT (BEP20 - BSC)"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Direcci\xf3n de Wallet *"}),l.jsx("input",{type:"text",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent font-mono text-sm",placeholder:"TXxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",value:a.bankAccountDetails.cryptoAddress,onChange:e=>s({...a,bankAccountDetails:{...a.bankAccountDetails,cryptoAddress:e.target.value}})})]})]}),"OTHER"===a.bankAccountType&&(0,l.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Detalles del m\xe9todo de pago *"}),l.jsx("textarea",{required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Describe c\xf3mo quieres recibir tus pagos...",rows:3,value:a.bankAccountDetails.otherDetails,onChange:e=>s({...a,bankAccountDetails:{...a.bankAccountDetails,otherDetails:e.target.value}})})]})]}),l.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:(0,l.jsxs)("div",{className:"flex items-start",children:[l.jsx(O,{className:"w-5 h-5 text-blue-600 mt-0.5 mr-2"}),(0,l.jsxs)("div",{className:"text-sm text-blue-800",children:[l.jsx("p",{className:"font-medium",children:"Informaci\xf3n importante"}),(0,l.jsxs)("ul",{className:"mt-1 list-disc list-inside space-y-1 text-blue-700",children:[l.jsx("li",{children:"Tus datos est\xe1n protegidos y solo se usar\xe1n para procesar tus pagos"}),l.jsx("li",{children:"Las liquidaciones se procesan los domingos"}),l.jsx("li",{children:"Podr\xe1s modificar estos datos desde tu perfil"})]})]})]})}),(0,l.jsxs)("div",{className:"flex justify-end space-x-4",children:[l.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:n,className:"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 disabled:cursor-not-allowed flex items-center",children:n?(0,l.jsxs)(l.Fragment,{children:[l.jsx(M.Z,{className:"w-4 h-4 mr-2 animate-spin"}),"Guardando..."]}):"Guardar Datos"})]})]})]})}let B=(0,h.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),q=(0,h.Z)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);function H(e,t,{checkForDefaultPrevented:r=!0}={}){return function(a){if(e?.(a),!1===r||!a.defaultPrevented)return t?.(a)}}"undefined"!=typeof window&&window.document&&window.document.createElement;var W=r(8051);function U(e,t=[]){let r=[],a=()=>{let t=r.map(e=>i.createContext(e));return function(r){let a=r?.[e]||t;return i.useMemo(()=>({[`__scope${e}`]:{...r,[e]:a}}),[r,a])}};return a.scopeName=e,[function(t,a){let s=i.createContext(a),n=r.length;r=[...r,a];let o=t=>{let{scope:r,children:a,...o}=t,c=r?.[e]?.[n]||s,d=i.useMemo(()=>o,Object.values(o));return(0,l.jsx)(c.Provider,{value:d,children:a})};return o.displayName=t+"Provider",[o,function(r,l){let o=l?.[e]?.[n]||s,c=i.useContext(o);if(c)return c;if(void 0!==a)return a;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=r.reduce((t,{useScope:r,scopeName:a})=>{let s=r(e)[`__scope${a}`];return{...t,...s}},{});return i.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return r.scopeName=t.scopeName,r}(a,...t)]}var V=r(962),Z=Symbol("radix.slottable");function Y(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===Z}var G=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=function(e){let t=function(e){let t=i.forwardRef((e,t)=>{let{children:r,...a}=e;if(i.isValidElement(r)){let e,s;let n=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,l=function(e,t){let r={...t};for(let a in t){let s=e[a],n=t[a];/^on[A-Z]/.test(a)?s&&n?r[a]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(r[a]=s):"style"===a?r[a]={...s,...n}:"className"===a&&(r[a]=[s,n].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==i.Fragment&&(l.ref=t?(0,W.F)(t,n):n),i.cloneElement(r,l)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=i.forwardRef((e,r)=>{let{children:a,...s}=e,n=i.Children.toArray(a),o=n.find(Y);if(o){let e=o.props.children,a=n.map(t=>t!==o?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...s,ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,a):null})}return(0,l.jsx)(t,{...s,ref:r,children:a})});return r.displayName=`${e}.Slot`,r}(`Primitive.${t}`),a=i.forwardRef((e,a)=>{let{asChild:s,...n}=e,i=s?r:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,l.jsx)(i,{...n,ref:a})});return a.displayName=`Primitive.${t}`,{...e,[t]:a}},{});function X(e){let t=i.useRef(e);return i.useEffect(()=>{t.current=e}),i.useMemo(()=>(...e)=>t.current?.(...e),[])}var K="dismissableLayer.update",J=i.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Q=i.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:a,onPointerDownOutside:n,onFocusOutside:o,onInteractOutside:c,onDismiss:d,...u}=e,m=i.useContext(J),[x,p]=i.useState(null),h=x?.ownerDocument??globalThis?.document,[,g]=i.useState({}),f=(0,W.e)(t,e=>p(e)),b=Array.from(m.layers),[y]=[...m.layersWithOutsidePointerEventsDisabled].slice(-1),v=b.indexOf(y),j=x?b.indexOf(x):-1,N=m.layersWithOutsidePointerEventsDisabled.size>0,w=j>=v,C=function(e,t=globalThis?.document){let r=X(e),a=i.useRef(!1),s=i.useRef(()=>{});return i.useEffect(()=>{let e=e=>{if(e.target&&!a.current){let a=function(){et("dismissableLayer.pointerDownOutside",r,n,{discrete:!0})},n={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=a,t.addEventListener("click",s.current,{once:!0})):a()}else t.removeEventListener("click",s.current);a.current=!1},n=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(n),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>a.current=!0}}(e=>{let t=e.target,r=[...m.branches].some(e=>e.contains(t));!w||r||(n?.(e),c?.(e),e.defaultPrevented||d?.())},h),D=function(e,t=globalThis?.document){let r=X(e),a=i.useRef(!1);return i.useEffect(()=>{let e=e=>{e.target&&!a.current&&et("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>a.current=!0,onBlurCapture:()=>a.current=!1}}(e=>{let t=e.target;[...m.branches].some(e=>e.contains(t))||(o?.(e),c?.(e),e.defaultPrevented||d?.())},h);return function(e,t=globalThis?.document){let r=X(e);i.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{j!==m.layers.size-1||(a?.(e),!e.defaultPrevented&&d&&(e.preventDefault(),d()))},h),i.useEffect(()=>{if(x)return r&&(0===m.layersWithOutsidePointerEventsDisabled.size&&(s=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),m.layersWithOutsidePointerEventsDisabled.add(x)),m.layers.add(x),ee(),()=>{r&&1===m.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=s)}},[x,h,r,m]),i.useEffect(()=>()=>{x&&(m.layers.delete(x),m.layersWithOutsidePointerEventsDisabled.delete(x),ee())},[x,m]),i.useEffect(()=>{let e=()=>g({});return document.addEventListener(K,e),()=>document.removeEventListener(K,e)},[]),(0,l.jsx)(G.div,{...u,ref:f,style:{pointerEvents:N?w?"auto":"none":void 0,...e.style},onFocusCapture:H(e.onFocusCapture,D.onFocusCapture),onBlurCapture:H(e.onBlurCapture,D.onBlurCapture),onPointerDownCapture:H(e.onPointerDownCapture,C.onPointerDownCapture)})});function ee(){let e=new CustomEvent(K);document.dispatchEvent(e)}function et(e,t,r,{discrete:a}){let s=r.originalEvent.target,n=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});(t&&s.addEventListener(e,t,{once:!0}),a)?s&&V.flushSync(()=>s.dispatchEvent(n)):s.dispatchEvent(n)}Q.displayName="DismissableLayer",i.forwardRef((e,t)=>{let r=i.useContext(J),a=i.useRef(null),s=(0,W.e)(t,a);return i.useEffect(()=>{let e=a.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,l.jsx)(G.div,{...e,ref:s})}).displayName="DismissableLayerBranch";var er=0;function ea(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var es="focusScope.autoFocusOnMount",en="focusScope.autoFocusOnUnmount",el={bubbles:!1,cancelable:!0},ei=i.forwardRef((e,t)=>{let{loop:r=!1,trapped:a=!1,onMountAutoFocus:s,onUnmountAutoFocus:n,...o}=e,[c,d]=i.useState(null),u=X(s),m=X(n),x=i.useRef(null),p=(0,W.e)(t,e=>d(e)),h=i.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;i.useEffect(()=>{if(a){let e=function(e){if(h.paused||!c)return;let t=e.target;c.contains(t)?x.current=t:ed(x.current,{select:!0})},t=function(e){if(h.paused||!c)return;let t=e.relatedTarget;null===t||c.contains(t)||ed(x.current,{select:!0})};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&ed(c)});return c&&r.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[a,c,h.paused]),i.useEffect(()=>{if(c){eu.add(h);let e=document.activeElement;if(!c.contains(e)){let t=new CustomEvent(es,el);c.addEventListener(es,u),c.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let a of e)if(ed(a,{select:t}),document.activeElement!==r)return}(eo(c).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&ed(c))}return()=>{c.removeEventListener(es,u),setTimeout(()=>{let t=new CustomEvent(en,el);c.addEventListener(en,m),c.dispatchEvent(t),t.defaultPrevented||ed(e??document.body,{select:!0}),c.removeEventListener(en,m),eu.remove(h)},0)}}},[c,u,m,h]);let g=i.useCallback(e=>{if(!r&&!a||h.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,s=document.activeElement;if(t&&s){let t=e.currentTarget,[a,n]=function(e){let t=eo(e);return[ec(t,e),ec(t.reverse(),e)]}(t);a&&n?e.shiftKey||s!==n?e.shiftKey&&s===a&&(e.preventDefault(),r&&ed(n,{select:!0})):(e.preventDefault(),r&&ed(a,{select:!0})):s===t&&e.preventDefault()}},[r,a,h.paused]);return(0,l.jsx)(G.div,{tabIndex:-1,...o,ref:p,onKeyDown:g})});function eo(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function ec(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function ed(e,{select:t=!1}={}){if(e&&e.focus){var r;let a=document.activeElement;e.focus({preventScroll:!0}),e!==a&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}ei.displayName="FocusScope";var eu=function(){let e=[];return{add(t){let r=e[0];t!==r&&r?.pause(),(e=em(e,t)).unshift(t)},remove(t){e=em(e,t),e[0]?.resume()}}}();function em(e,t){let r=[...e],a=r.indexOf(t);return -1!==a&&r.splice(a,1),r}var ex=globalThis?.document?i.useLayoutEffect:()=>{},ep=o[" useId ".trim().toString()]||(()=>void 0),eh=0;let eg=["top","right","bottom","left"],ef=Math.min,eb=Math.max,ey=Math.round,ev=Math.floor,ej=e=>({x:e,y:e}),eN={left:"right",right:"left",bottom:"top",top:"bottom"},ew={start:"end",end:"start"};function eC(e,t){return"function"==typeof e?e(t):e}function eD(e){return e.split("-")[0]}function eE(e){return e.split("-")[1]}function ek(e){return"x"===e?"y":"x"}function eS(e){return"y"===e?"height":"width"}let eP=new Set(["top","bottom"]);function eT(e){return eP.has(eD(e))?"y":"x"}function eA(e){return e.replace(/start|end/g,e=>ew[e])}let eR=["left","right"],eI=["right","left"],eL=["top","bottom"],eO=["bottom","top"];function eM(e){return e.replace(/left|right|bottom|top/g,e=>eN[e])}function eF(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function e$(e){let{x:t,y:r,width:a,height:s}=e;return{width:a,height:s,top:r,left:t,right:t+a,bottom:r+s,x:t,y:r}}function ez(e,t,r){let a,{reference:s,floating:n}=e,l=eT(t),i=ek(eT(t)),o=eS(i),c=eD(t),d="y"===l,u=s.x+s.width/2-n.width/2,m=s.y+s.height/2-n.height/2,x=s[o]/2-n[o]/2;switch(c){case"top":a={x:u,y:s.y-n.height};break;case"bottom":a={x:u,y:s.y+s.height};break;case"right":a={x:s.x+s.width,y:m};break;case"left":a={x:s.x-n.width,y:m};break;default:a={x:s.x,y:s.y}}switch(eE(t)){case"start":a[i]-=x*(r&&d?-1:1);break;case"end":a[i]+=x*(r&&d?-1:1)}return a}let e_=async(e,t,r)=>{let{placement:a="bottom",strategy:s="absolute",middleware:n=[],platform:l}=r,i=n.filter(Boolean),o=await (null==l.isRTL?void 0:l.isRTL(t)),c=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:u}=ez(c,a,o),m=a,x={},p=0;for(let r=0;r<i.length;r++){let{name:n,fn:h}=i[r],{x:g,y:f,data:b,reset:y}=await h({x:d,y:u,initialPlacement:a,placement:m,strategy:s,middlewareData:x,rects:c,platform:l,elements:{reference:e,floating:t}});d=null!=g?g:d,u=null!=f?f:u,x={...x,[n]:{...x[n],...b}},y&&p<=50&&(p++,"object"==typeof y&&(y.placement&&(m=y.placement),y.rects&&(c=!0===y.rects?await l.getElementRects({reference:e,floating:t,strategy:s}):y.rects),{x:d,y:u}=ez(c,m,o)),r=-1)}return{x:d,y:u,placement:m,strategy:s,middlewareData:x}};async function eB(e,t){var r;void 0===t&&(t={});let{x:a,y:s,platform:n,rects:l,elements:i,strategy:o}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:m=!1,padding:x=0}=eC(t,e),p=eF(x),h=i[m?"floating"===u?"reference":"floating":u],g=e$(await n.getClippingRect({element:null==(r=await (null==n.isElement?void 0:n.isElement(h)))||r?h:h.contextElement||await (null==n.getDocumentElement?void 0:n.getDocumentElement(i.floating)),boundary:c,rootBoundary:d,strategy:o})),f="floating"===u?{x:a,y:s,width:l.floating.width,height:l.floating.height}:l.reference,b=await (null==n.getOffsetParent?void 0:n.getOffsetParent(i.floating)),y=await (null==n.isElement?void 0:n.isElement(b))&&await (null==n.getScale?void 0:n.getScale(b))||{x:1,y:1},v=e$(n.convertOffsetParentRelativeRectToViewportRelativeRect?await n.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:f,offsetParent:b,strategy:o}):f);return{top:(g.top-v.top+p.top)/y.y,bottom:(v.bottom-g.bottom+p.bottom)/y.y,left:(g.left-v.left+p.left)/y.x,right:(v.right-g.right+p.right)/y.x}}function eq(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function eH(e){return eg.some(t=>e[t]>=0)}let eW=new Set(["left","top"]);async function eU(e,t){let{placement:r,platform:a,elements:s}=e,n=await (null==a.isRTL?void 0:a.isRTL(s.floating)),l=eD(r),i=eE(r),o="y"===eT(r),c=eW.has(l)?-1:1,d=n&&o?-1:1,u=eC(t,e),{mainAxis:m,crossAxis:x,alignmentAxis:p}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return i&&"number"==typeof p&&(x="end"===i?-1*p:p),o?{x:x*d,y:m*c}:{x:m*c,y:x*d}}function eV(){return"undefined"!=typeof window}function eZ(e){return eX(e)?(e.nodeName||"").toLowerCase():"#document"}function eY(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function eG(e){var t;return null==(t=(eX(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function eX(e){return!!eV()&&(e instanceof Node||e instanceof eY(e).Node)}function eK(e){return!!eV()&&(e instanceof Element||e instanceof eY(e).Element)}function eJ(e){return!!eV()&&(e instanceof HTMLElement||e instanceof eY(e).HTMLElement)}function eQ(e){return!!eV()&&"undefined"!=typeof ShadowRoot&&(e instanceof ShadowRoot||e instanceof eY(e).ShadowRoot)}let e0=new Set(["inline","contents"]);function e1(e){let{overflow:t,overflowX:r,overflowY:a,display:s}=tr(e);return/auto|scroll|overlay|hidden|clip/.test(t+a+r)&&!e0.has(s)}let e2=new Set(["table","td","th"]),e6=[":popover-open",":modal"];function e5(e){return e6.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let e3=["transform","translate","scale","rotate","perspective"],e4=["transform","translate","scale","rotate","perspective","filter"],e8=["paint","layout","strict","content"];function e7(e){let t=e9(),r=eK(e)?tr(e):e;return e3.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||e4.some(e=>(r.willChange||"").includes(e))||e8.some(e=>(r.contain||"").includes(e))}function e9(){return"undefined"!=typeof CSS&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let te=new Set(["html","body","#document"]);function tt(e){return te.has(eZ(e))}function tr(e){return eY(e).getComputedStyle(e)}function ta(e){return eK(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ts(e){if("html"===eZ(e))return e;let t=e.assignedSlot||e.parentNode||eQ(e)&&e.host||eG(e);return eQ(t)?t.host:t}function tn(e,t,r){var a;void 0===t&&(t=[]),void 0===r&&(r=!0);let s=function e(t){let r=ts(t);return tt(r)?t.ownerDocument?t.ownerDocument.body:t.body:eJ(r)&&e1(r)?r:e(r)}(e),n=s===(null==(a=e.ownerDocument)?void 0:a.body),l=eY(s);if(n){let e=tl(l);return t.concat(l,l.visualViewport||[],e1(s)?s:[],e&&r?tn(e):[])}return t.concat(s,tn(s,[],r))}function tl(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ti(e){let t=tr(e),r=parseFloat(t.width)||0,a=parseFloat(t.height)||0,s=eJ(e),n=s?e.offsetWidth:r,l=s?e.offsetHeight:a,i=ey(r)!==n||ey(a)!==l;return i&&(r=n,a=l),{width:r,height:a,$:i}}function to(e){return eK(e)?e:e.contextElement}function tc(e){let t=to(e);if(!eJ(t))return ej(1);let r=t.getBoundingClientRect(),{width:a,height:s,$:n}=ti(t),l=(n?ey(r.width):r.width)/a,i=(n?ey(r.height):r.height)/s;return l&&Number.isFinite(l)||(l=1),i&&Number.isFinite(i)||(i=1),{x:l,y:i}}let td=ej(0);function tu(e){let t=eY(e);return e9()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:td}function tm(e,t,r,a){var s;void 0===t&&(t=!1),void 0===r&&(r=!1);let n=e.getBoundingClientRect(),l=to(e),i=ej(1);t&&(a?eK(a)&&(i=tc(a)):i=tc(e));let o=(void 0===(s=r)&&(s=!1),a&&(!s||a===eY(l))&&s)?tu(l):ej(0),c=(n.left+o.x)/i.x,d=(n.top+o.y)/i.y,u=n.width/i.x,m=n.height/i.y;if(l){let e=eY(l),t=a&&eK(a)?eY(a):a,r=e,s=tl(r);for(;s&&a&&t!==r;){let e=tc(s),t=s.getBoundingClientRect(),a=tr(s),n=t.left+(s.clientLeft+parseFloat(a.paddingLeft))*e.x,l=t.top+(s.clientTop+parseFloat(a.paddingTop))*e.y;c*=e.x,d*=e.y,u*=e.x,m*=e.y,c+=n,d+=l,s=tl(r=eY(s))}}return e$({width:u,height:m,x:c,y:d})}function tx(e,t){let r=ta(e).scrollLeft;return t?t.left+r:tm(eG(e)).left+r}function tp(e,t){let r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-tx(e,r),y:r.top+t.scrollTop}}let th=new Set(["absolute","fixed"]);function tg(e,t,r){let a;if("viewport"===t)a=function(e,t){let r=eY(e),a=eG(e),s=r.visualViewport,n=a.clientWidth,l=a.clientHeight,i=0,o=0;if(s){n=s.width,l=s.height;let e=e9();(!e||e&&"fixed"===t)&&(i=s.offsetLeft,o=s.offsetTop)}let c=tx(a);if(c<=0){let e=a.ownerDocument,t=e.body,r=getComputedStyle(t),s="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,l=Math.abs(a.clientWidth-t.clientWidth-s);l<=25&&(n-=l)}else c<=25&&(n+=c);return{width:n,height:l,x:i,y:o}}(e,r);else if("document"===t)a=function(e){let t=eG(e),r=ta(e),a=e.ownerDocument.body,s=eb(t.scrollWidth,t.clientWidth,a.scrollWidth,a.clientWidth),n=eb(t.scrollHeight,t.clientHeight,a.scrollHeight,a.clientHeight),l=-r.scrollLeft+tx(e),i=-r.scrollTop;return"rtl"===tr(a).direction&&(l+=eb(t.clientWidth,a.clientWidth)-s),{width:s,height:n,x:l,y:i}}(eG(e));else if(eK(t))a=function(e,t){let r=tm(e,!0,"fixed"===t),a=r.top+e.clientTop,s=r.left+e.clientLeft,n=eJ(e)?tc(e):ej(1),l=e.clientWidth*n.x;return{width:l,height:e.clientHeight*n.y,x:s*n.x,y:a*n.y}}(t,r);else{let r=tu(e);a={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return e$(a)}function tf(e){return"static"===tr(e).position}function tb(e,t){if(!eJ(e)||"fixed"===tr(e).position)return null;if(t)return t(e);let r=e.offsetParent;return eG(e)===r&&(r=r.ownerDocument.body),r}function ty(e,t){var r;let a=eY(e);if(e5(e))return a;if(!eJ(e)){let t=ts(e);for(;t&&!tt(t);){if(eK(t)&&!tf(t))return t;t=ts(t)}return a}let s=tb(e,t);for(;s&&(r=s,e2.has(eZ(r)))&&tf(s);)s=tb(s,t);return s&&tt(s)&&tf(s)&&!e7(s)?a:s||function(e){let t=ts(e);for(;eJ(t)&&!tt(t);){if(e7(t))return t;if(e5(t))break;t=ts(t)}return null}(e)||a}let tv=async function(e){let t=this.getOffsetParent||ty,r=this.getDimensions,a=await r(e.floating);return{reference:function(e,t,r){let a=eJ(t),s=eG(t),n="fixed"===r,l=tm(e,!0,n,t),i={scrollLeft:0,scrollTop:0},o=ej(0);if(a||!a&&!n){if(("body"!==eZ(t)||e1(s))&&(i=ta(t)),a){let e=tm(t,!0,n,t);o.x=e.x+t.clientLeft,o.y=e.y+t.clientTop}else s&&(o.x=tx(s))}n&&!a&&s&&(o.x=tx(s));let c=!s||a||n?ej(0):tp(s,i);return{x:l.left+i.scrollLeft-o.x-c.x,y:l.top+i.scrollTop-o.y-c.y,width:l.width,height:l.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:a.width,height:a.height}}},tj={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:a,strategy:s}=e,n="fixed"===s,l=eG(a),i=!!t&&e5(t.floating);if(a===l||i&&n)return r;let o={scrollLeft:0,scrollTop:0},c=ej(1),d=ej(0),u=eJ(a);if((u||!u&&!n)&&(("body"!==eZ(a)||e1(l))&&(o=ta(a)),eJ(a))){let e=tm(a);c=tc(a),d.x=e.x+a.clientLeft,d.y=e.y+a.clientTop}let m=!l||u||n?ej(0):tp(l,o);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-o.scrollLeft*c.x+d.x+m.x,y:r.y*c.y-o.scrollTop*c.y+d.y+m.y}},getDocumentElement:eG,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:a,strategy:s}=e,n=[..."clippingAncestors"===r?e5(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let a=tn(e,[],!1).filter(e=>eK(e)&&"body"!==eZ(e)),s=null,n="fixed"===tr(e).position,l=n?ts(e):e;for(;eK(l)&&!tt(l);){let t=tr(l),r=e7(l);r||"fixed"!==t.position||(s=null),(n?!r&&!s:!r&&"static"===t.position&&!!s&&th.has(s.position)||e1(l)&&!r&&function e(t,r){let a=ts(t);return!(a===r||!eK(a)||tt(a))&&("fixed"===tr(a).position||e(a,r))}(e,l))?a=a.filter(e=>e!==l):s=t,l=ts(l)}return t.set(e,a),a}(t,this._c):[].concat(r),a],l=n[0],i=n.reduce((e,r)=>{let a=tg(t,r,s);return e.top=eb(a.top,e.top),e.right=ef(a.right,e.right),e.bottom=ef(a.bottom,e.bottom),e.left=eb(a.left,e.left),e},tg(t,l,s));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:ty,getElementRects:tv,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=ti(e);return{width:t,height:r}},getScale:tc,isElement:eK,isRTL:function(e){return"rtl"===tr(e).direction}};function tN(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let tw=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:a,placement:s,rects:n,platform:l,elements:i,middlewareData:o}=t,{element:c,padding:d=0}=eC(e,t)||{};if(null==c)return{};let u=eF(d),m={x:r,y:a},x=ek(eT(s)),p=eS(x),h=await l.getDimensions(c),g="y"===x,f=g?"clientHeight":"clientWidth",b=n.reference[p]+n.reference[x]-m[x]-n.floating[p],y=m[x]-n.reference[x],v=await (null==l.getOffsetParent?void 0:l.getOffsetParent(c)),j=v?v[f]:0;j&&await (null==l.isElement?void 0:l.isElement(v))||(j=i.floating[f]||n.floating[p]);let N=j/2-h[p]/2-1,w=ef(u[g?"top":"left"],N),C=ef(u[g?"bottom":"right"],N),D=j-h[p]-C,E=j/2-h[p]/2+(b/2-y/2),k=eb(w,ef(E,D)),S=!o.arrow&&null!=eE(s)&&E!==k&&n.reference[p]/2-(E<w?w:C)-h[p]/2<0,P=S?E<w?E-w:E-D:0;return{[x]:m[x]+P,data:{[x]:k,centerOffset:E-k-P,...S&&{alignmentOffset:P}},reset:S}}}),tC=(e,t,r)=>{let a=new Map,s={platform:tj,...r},n={...s.platform,_c:a};return e_(e,t,{...s,platform:n})};var tD="undefined"!=typeof document?i.useLayoutEffect:function(){};function tE(e,t){let r,a,s;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(a=r;0!=a--;)if(!tE(e[a],t[a]))return!1;return!0}if((r=(s=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(a=r;0!=a--;)if(!({}).hasOwnProperty.call(t,s[a]))return!1;for(a=r;0!=a--;){let r=s[a];if(("_owner"!==r||!e.$$typeof)&&!tE(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function tk(e){return"undefined"==typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function tS(e,t){let r=tk(e);return Math.round(t*r)/r}function tP(e){let t=i.useRef(e);return tD(()=>{t.current=e}),t}let tT=e=>({name:"arrow",options:e,fn(t){let{element:r,padding:a}="function"==typeof e?e(t):e;return r&&({}).hasOwnProperty.call(r,"current")?null!=r.current?tw({element:r.current,padding:a}).fn(t):{}:r?tw({element:r,padding:a}).fn(t):{}}}),tA=(e,t)=>({...function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var r,a;let{x:s,y:n,placement:l,middlewareData:i}=t,o=await eU(t,e);return l===(null==(r=i.offset)?void 0:r.placement)&&null!=(a=i.arrow)&&a.alignmentOffset?{}:{x:s+o.x,y:n+o.y,data:{...o,placement:l}}}}}(e),options:[e,t]}),tR=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){let{x:r,y:a,placement:s}=t,{mainAxis:n=!0,crossAxis:l=!1,limiter:i={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...o}=eC(e,t),c={x:r,y:a},d=await eB(t,o),u=eT(eD(s)),m=ek(u),x=c[m],p=c[u];if(n){let e="y"===m?"top":"left",t="y"===m?"bottom":"right",r=x+d[e],a=x-d[t];x=eb(r,ef(x,a))}if(l){let e="y"===u?"top":"left",t="y"===u?"bottom":"right",r=p+d[e],a=p-d[t];p=eb(r,ef(p,a))}let h=i.fn({...t,[m]:x,[u]:p});return{...h,data:{x:h.x-r,y:h.y-a,enabled:{[m]:n,[u]:l}}}}}}(e),options:[e,t]}),tI=(e,t)=>({...function(e){return void 0===e&&(e={}),{options:e,fn(t){let{x:r,y:a,placement:s,rects:n,middlewareData:l}=t,{offset:i=0,mainAxis:o=!0,crossAxis:c=!0}=eC(e,t),d={x:r,y:a},u=eT(s),m=ek(u),x=d[m],p=d[u],h=eC(i,t),g="number"==typeof h?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(o){let e="y"===m?"height":"width",t=n.reference[m]-n.floating[e]+g.mainAxis,r=n.reference[m]+n.reference[e]-g.mainAxis;x<t?x=t:x>r&&(x=r)}if(c){var f,b;let e="y"===m?"width":"height",t=eW.has(eD(s)),r=n.reference[u]-n.floating[e]+(t&&(null==(f=l.offset)?void 0:f[u])||0)+(t?0:g.crossAxis),a=n.reference[u]+n.reference[e]+(t?0:(null==(b=l.offset)?void 0:b[u])||0)-(t?g.crossAxis:0);p<r?p=r:p>a&&(p=a)}return{[m]:x,[u]:p}}}}(e),options:[e,t]}),tL=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var r,a,s,n,l;let{placement:i,middlewareData:o,rects:c,initialPlacement:d,platform:u,elements:m}=t,{mainAxis:x=!0,crossAxis:p=!0,fallbackPlacements:h,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:b=!0,...y}=eC(e,t);if(null!=(r=o.arrow)&&r.alignmentOffset)return{};let v=eD(i),j=eT(d),N=eD(d)===d,w=await (null==u.isRTL?void 0:u.isRTL(m.floating)),C=h||(N||!b?[eM(d)]:function(e){let t=eM(e);return[eA(e),t,eA(t)]}(d)),D="none"!==f;!h&&D&&C.push(...function(e,t,r,a){let s=eE(e),n=function(e,t,r){switch(e){case"top":case"bottom":if(r)return t?eI:eR;return t?eR:eI;case"left":case"right":return t?eL:eO;default:return[]}}(eD(e),"start"===r,a);return s&&(n=n.map(e=>e+"-"+s),t&&(n=n.concat(n.map(eA)))),n}(d,b,f,w));let E=[d,...C],k=await eB(t,y),S=[],P=(null==(a=o.flip)?void 0:a.overflows)||[];if(x&&S.push(k[v]),p){let e=function(e,t,r){void 0===r&&(r=!1);let a=eE(e),s=ek(eT(e)),n=eS(s),l="x"===s?a===(r?"end":"start")?"right":"left":"start"===a?"bottom":"top";return t.reference[n]>t.floating[n]&&(l=eM(l)),[l,eM(l)]}(i,c,w);S.push(k[e[0]],k[e[1]])}if(P=[...P,{placement:i,overflows:S}],!S.every(e=>e<=0)){let e=((null==(s=o.flip)?void 0:s.index)||0)+1,t=E[e];if(t&&(!("alignment"===p&&j!==eT(t))||P.every(e=>eT(e.placement)!==j||e.overflows[0]>0)))return{data:{index:e,overflows:P},reset:{placement:t}};let r=null==(n=P.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:n.placement;if(!r)switch(g){case"bestFit":{let e=null==(l=P.filter(e=>{if(D){let t=eT(e.placement);return t===j||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:l[0];e&&(r=e);break}case"initialPlacement":r=d}if(i!==r)return{reset:{placement:r}}}return{}}}}(e),options:[e,t]}),tO=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var r,a;let s,n;let{placement:l,rects:i,platform:o,elements:c}=t,{apply:d=()=>{},...u}=eC(e,t),m=await eB(t,u),x=eD(l),p=eE(l),h="y"===eT(l),{width:g,height:f}=i.floating;"top"===x||"bottom"===x?(s=x,n=p===(await (null==o.isRTL?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(n=x,s="end"===p?"top":"bottom");let b=f-m.top-m.bottom,y=g-m.left-m.right,v=ef(f-m[s],b),j=ef(g-m[n],y),N=!t.middlewareData.shift,w=v,C=j;if(null!=(r=t.middlewareData.shift)&&r.enabled.x&&(C=y),null!=(a=t.middlewareData.shift)&&a.enabled.y&&(w=b),N&&!p){let e=eb(m.left,0),t=eb(m.right,0),r=eb(m.top,0),a=eb(m.bottom,0);h?C=g-2*(0!==e||0!==t?e+t:eb(m.left,m.right)):w=f-2*(0!==r||0!==a?r+a:eb(m.top,m.bottom))}await d({...t,availableWidth:C,availableHeight:w});let D=await o.getDimensions(c.floating);return g!==D.width||f!==D.height?{reset:{rects:!0}}:{}}}}(e),options:[e,t]}),tM=(e,t)=>({...function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){let{rects:r}=t,{strategy:a="referenceHidden",...s}=eC(e,t);switch(a){case"referenceHidden":{let e=eq(await eB(t,{...s,elementContext:"reference"}),r.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:eH(e)}}}case"escaped":{let e=eq(await eB(t,{...s,altBoundary:!0}),r.floating);return{data:{escapedOffsets:e,escaped:eH(e)}}}default:return{}}}}}(e),options:[e,t]}),tF=(e,t)=>({...tT(e),options:[e,t]});var t$=i.forwardRef((e,t)=>{let{children:r,width:a=10,height:s=5,...n}=e;return(0,l.jsx)(G.svg,{...n,ref:t,width:a,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,l.jsx)("polygon",{points:"0,0 30,0 15,10"})})});t$.displayName="Arrow";var tz="Popper",[t_,tB]=U(tz),[tq,tH]=t_(tz),tW=e=>{let{__scopePopper:t,children:r}=e,[a,s]=i.useState(null);return(0,l.jsx)(tq,{scope:t,anchor:a,onAnchorChange:s,children:r})};tW.displayName=tz;var tU="PopperAnchor",tV=i.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:a,...s}=e,n=tH(tU,r),o=i.useRef(null),c=(0,W.e)(t,o),d=i.useRef(null);return i.useEffect(()=>{let e=d.current;d.current=a?.current||o.current,e!==d.current&&n.onAnchorChange(d.current)}),a?null:(0,l.jsx)(G.div,{...s,ref:c})});tV.displayName=tU;var tZ="PopperContent",[tY,tG]=t_(tZ),tX=i.forwardRef((e,t)=>{let{__scopePopper:r,side:a="bottom",sideOffset:s=0,align:n="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:u=[],collisionPadding:m=0,sticky:x="partial",hideWhenDetached:p=!1,updatePositionStrategy:h="optimized",onPlaced:g,...f}=e,b=tH(tZ,r),[y,v]=i.useState(null),j=(0,W.e)(t,e=>v(e)),[N,w]=i.useState(null),C=function(e){let[t,r]=i.useState(void 0);return ex(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let a,s;if(!Array.isArray(t)||!t.length)return;let n=t[0];if("borderBoxSize"in n){let e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;a=t.inlineSize,s=t.blockSize}else a=e.offsetWidth,s=e.offsetHeight;r({width:a,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(N),D=C?.width??0,E=C?.height??0,k="number"==typeof m?m:{top:0,right:0,bottom:0,left:0,...m},S=Array.isArray(u)?u:[u],P=S.length>0,T={padding:k,boundary:S.filter(t0),altBoundary:P},{refs:A,floatingStyles:R,placement:I,isPositioned:L,middlewareData:O}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:a=[],platform:s,elements:{reference:n,floating:l}={},transform:o=!0,whileElementsMounted:c,open:d}=e,[u,m]=i.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[x,p]=i.useState(a);tE(x,a)||p(a);let[h,g]=i.useState(null),[f,b]=i.useState(null),y=i.useCallback(e=>{e!==w.current&&(w.current=e,g(e))},[]),v=i.useCallback(e=>{e!==C.current&&(C.current=e,b(e))},[]),j=n||h,N=l||f,w=i.useRef(null),C=i.useRef(null),D=i.useRef(u),E=null!=c,k=tP(c),S=tP(s),P=tP(d),T=i.useCallback(()=>{if(!w.current||!C.current)return;let e={placement:t,strategy:r,middleware:x};S.current&&(e.platform=S.current),tC(w.current,C.current,e).then(e=>{let t={...e,isPositioned:!1!==P.current};A.current&&!tE(D.current,t)&&(D.current=t,V.flushSync(()=>{m(t)}))})},[x,t,r,S,P]);tD(()=>{!1===d&&D.current.isPositioned&&(D.current.isPositioned=!1,m(e=>({...e,isPositioned:!1})))},[d]);let A=i.useRef(!1);tD(()=>(A.current=!0,()=>{A.current=!1}),[]),tD(()=>{if(j&&(w.current=j),N&&(C.current=N),j&&N){if(k.current)return k.current(j,N,T);T()}},[j,N,T,k,E]);let R=i.useMemo(()=>({reference:w,floating:C,setReference:y,setFloating:v}),[y,v]),I=i.useMemo(()=>({reference:j,floating:N}),[j,N]),L=i.useMemo(()=>{let e={position:r,left:0,top:0};if(!I.floating)return e;let t=tS(I.floating,u.x),a=tS(I.floating,u.y);return o?{...e,transform:"translate("+t+"px, "+a+"px)",...tk(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:a}},[r,o,I.floating,u.x,u.y]);return i.useMemo(()=>({...u,update:T,refs:R,elements:I,floatingStyles:L}),[u,T,R,I,L])}({strategy:"fixed",placement:a+("center"!==n?"-"+n:""),whileElementsMounted:(...e)=>(function(e,t,r,a){let s;void 0===a&&(a={});let{ancestorScroll:n=!0,ancestorResize:l=!0,elementResize:i="function"==typeof ResizeObserver,layoutShift:o="function"==typeof IntersectionObserver,animationFrame:c=!1}=a,d=to(e),u=n||l?[...d?tn(d):[],...tn(t)]:[];u.forEach(e=>{n&&e.addEventListener("scroll",r,{passive:!0}),l&&e.addEventListener("resize",r)});let m=d&&o?function(e,t){let r,a=null,s=eG(e);function n(){var e;clearTimeout(r),null==(e=a)||e.disconnect(),a=null}return function l(i,o){void 0===i&&(i=!1),void 0===o&&(o=1),n();let c=e.getBoundingClientRect(),{left:d,top:u,width:m,height:x}=c;if(i||t(),!m||!x)return;let p=ev(u),h=ev(s.clientWidth-(d+m)),g={rootMargin:-p+"px "+-h+"px "+-ev(s.clientHeight-(u+x))+"px "+-ev(d)+"px",threshold:eb(0,ef(1,o))||1},f=!0;function b(t){let a=t[0].intersectionRatio;if(a!==o){if(!f)return l();a?l(!1,a):r=setTimeout(()=>{l(!1,1e-7)},1e3)}1!==a||tN(c,e.getBoundingClientRect())||l(),f=!1}try{a=new IntersectionObserver(b,{...g,root:s.ownerDocument})}catch(e){a=new IntersectionObserver(b,g)}a.observe(e)}(!0),n}(d,r):null,x=-1,p=null;i&&(p=new ResizeObserver(e=>{let[a]=e;a&&a.target===d&&p&&(p.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),r()}),d&&!c&&p.observe(d),p.observe(t));let h=c?tm(e):null;return c&&function t(){let a=tm(e);h&&!tN(h,a)&&r(),h=a,s=requestAnimationFrame(t)}(),r(),()=>{var e;u.forEach(e=>{n&&e.removeEventListener("scroll",r),l&&e.removeEventListener("resize",r)}),null==m||m(),null==(e=p)||e.disconnect(),p=null,c&&cancelAnimationFrame(s)}})(...e,{animationFrame:"always"===h}),elements:{reference:b.anchor},middleware:[tA({mainAxis:s+E,alignmentAxis:o}),d&&tR({mainAxis:!0,crossAxis:!1,limiter:"partial"===x?tI():void 0,...T}),d&&tL({...T}),tO({...T,apply:({elements:e,rects:t,availableWidth:r,availableHeight:a})=>{let{width:s,height:n}=t.reference,l=e.floating.style;l.setProperty("--radix-popper-available-width",`${r}px`),l.setProperty("--radix-popper-available-height",`${a}px`),l.setProperty("--radix-popper-anchor-width",`${s}px`),l.setProperty("--radix-popper-anchor-height",`${n}px`)}}),N&&tF({element:N,padding:c}),t1({arrowWidth:D,arrowHeight:E}),p&&tM({strategy:"referenceHidden",...T})]}),[M,F]=t2(I),$=X(g);ex(()=>{L&&$?.()},[L,$]);let z=O.arrow?.x,_=O.arrow?.y,B=O.arrow?.centerOffset!==0,[q,H]=i.useState();return ex(()=>{y&&H(window.getComputedStyle(y).zIndex)},[y]),(0,l.jsx)("div",{ref:A.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:L?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[O.transformOrigin?.x,O.transformOrigin?.y].join(" "),...O.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,l.jsx)(tY,{scope:r,placedSide:M,onArrowChange:w,arrowX:z,arrowY:_,shouldHideArrow:B,children:(0,l.jsx)(G.div,{"data-side":M,"data-align":F,...f,ref:j,style:{...f.style,animation:L?void 0:"none"}})})})});tX.displayName=tZ;var tK="PopperArrow",tJ={top:"bottom",right:"left",bottom:"top",left:"right"},tQ=i.forwardRef(function(e,t){let{__scopePopper:r,...a}=e,s=tG(tK,r),n=tJ[s.placedSide];return(0,l.jsx)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[n]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:(0,l.jsx)(t$,{...a,ref:t,style:{...a.style,display:"block"}})})});function t0(e){return null!==e}tQ.displayName=tK;var t1=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:a,middlewareData:s}=t,n=s.arrow?.centerOffset!==0,l=n?0:e.arrowWidth,i=n?0:e.arrowHeight,[o,c]=t2(r),d={start:"0%",center:"50%",end:"100%"}[c],u=(s.arrow?.x??0)+l/2,m=(s.arrow?.y??0)+i/2,x="",p="";return"bottom"===o?(x=n?d:`${u}px`,p=`${-i}px`):"top"===o?(x=n?d:`${u}px`,p=`${a.floating.height+i}px`):"right"===o?(x=`${-i}px`,p=n?d:`${m}px`):"left"===o&&(x=`${a.floating.width+i}px`,p=n?d:`${m}px`),{data:{x,y:p}}}});function t2(e){let[t,r="center"]=e.split("-");return[t,r]}var t6=i.forwardRef((e,t)=>{let{container:r,...a}=e,[s,n]=i.useState(!1);ex(()=>n(!0),[]);let o=r||s&&globalThis?.document?.body;return o?V.createPortal((0,l.jsx)(G.div,{...a,ref:t}),o):null});t6.displayName="Portal";var t5=e=>{let{present:t,children:r}=e,a=function(e){var t,r;let[a,s]=i.useState(),n=i.useRef(null),l=i.useRef(e),o=i.useRef("none"),[c,d]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},i.useReducer((e,t)=>r[e][t]??e,t));return i.useEffect(()=>{let e=t3(n.current);o.current="mounted"===c?e:"none"},[c]),ex(()=>{let t=n.current,r=l.current;if(r!==e){let a=o.current,s=t3(t);e?d("MOUNT"):"none"===s||t?.display==="none"?d("UNMOUNT"):r&&a!==s?d("ANIMATION_OUT"):d("UNMOUNT"),l.current=e}},[e,d]),ex(()=>{if(a){let e;let t=a.ownerDocument.defaultView??window,r=r=>{let s=t3(n.current).includes(CSS.escape(r.animationName));if(r.target===a&&s&&(d("ANIMATION_END"),!l.current)){let r=a.style.animationFillMode;a.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===a.style.animationFillMode&&(a.style.animationFillMode=r)})}},s=e=>{e.target===a&&(o.current=t3(n.current))};return a.addEventListener("animationstart",s),a.addEventListener("animationcancel",r),a.addEventListener("animationend",r),()=>{t.clearTimeout(e),a.removeEventListener("animationstart",s),a.removeEventListener("animationcancel",r),a.removeEventListener("animationend",r)}}d("ANIMATION_END")},[a,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:i.useCallback(e=>{n.current=e?getComputedStyle(e):null,s(e)},[])}}(t),s="function"==typeof r?r({present:a.isPresent}):i.Children.only(r),n=(0,W.e)(a.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref")?.get)&&"isReactWarning"in t&&t.isReactWarning)?e.props.ref:e.props.ref||e.ref}(s));return"function"==typeof r||a.isPresent?i.cloneElement(s,{ref:n}):null};function t3(e){return e?.animationName||"none"}t5.displayName="Presence";var t4=Symbol("radix.slottable");function t8(e){return i.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===t4}var t7=o[" useInsertionEffect ".trim().toString()]||ex,t9=(Symbol("RADIX:SYNC_STATE"),function(e){return"undefined"==typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body}),re=new WeakMap,rt=new WeakMap,rr={},ra=0,rs=function(e){return e&&(e.host||rs(e.parentNode))},rn=function(e,t,r,a){var s=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=rs(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});rr[r]||(rr[r]=new WeakMap);var n=rr[r],l=[],i=new Set,o=new Set(s),c=function(e){!e||i.has(e)||(i.add(e),c(e.parentNode))};s.forEach(c);var d=function(e){!e||o.has(e)||Array.prototype.forEach.call(e.children,function(e){if(i.has(e))d(e);else try{var t=e.getAttribute(a),s=null!==t&&"false"!==t,o=(re.get(e)||0)+1,c=(n.get(e)||0)+1;re.set(e,o),n.set(e,c),l.push(e),1===o&&s&&rt.set(e,!0),1===c&&e.setAttribute(r,"true"),s||e.setAttribute(a,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return d(t),i.clear(),ra++,function(){l.forEach(function(e){var t=re.get(e)-1,s=n.get(e)-1;re.set(e,t),n.set(e,s),t||(rt.has(e)||e.removeAttribute(a),rt.delete(e)),s||e.removeAttribute(r)}),--ra||(re=new WeakMap,re=new WeakMap,rt=new WeakMap,rr={})}},rl=function(e,t,r){void 0===r&&(r="data-aria-hidden");var a=Array.from(Array.isArray(e)?e:[e]),s=t||t9(e);return s?(a.push.apply(a,Array.from(s.querySelectorAll("[aria-live], script"))),rn(a,s,r,"aria-hidden")):function(){return null}},ri=function(){return(ri=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function ro(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(r[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r}Object.create,Object.create;var rc=("function"==typeof SuppressedError&&SuppressedError,"right-scroll-bar-position"),rd="width-before-scroll-bar";function ru(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var rm="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,rx=new WeakMap;function rp(e){return e}var rh=function(e){void 0===e&&(e={});var t,r,a,s=(void 0===t&&(t=rp),r=[],a=!1,{read:function(){if(a)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:null},useMedium:function(e){var s=t(e,a);return r.push(s),function(){r=r.filter(function(e){return e!==s})}},assignSyncMedium:function(e){for(a=!0;r.length;){var t=r;r=[],t.forEach(e)}r={push:function(t){return e(t)},filter:function(){return r}}},assignMedium:function(e){a=!0;var t=[];if(r.length){var s=r;r=[],s.forEach(e),t=r}var n=function(){var r=t;t=[],r.forEach(e)},l=function(){return Promise.resolve().then(n)};l(),r={push:function(e){t.push(e),l()},filter:function(e){return t=t.filter(e),r}}}});return s.options=ri({async:!0,ssr:!1},e),s}(),rg=function(){},rf=i.forwardRef(function(e,t){var r,a,s,n,l=i.useRef(null),o=i.useState({onScrollCapture:rg,onWheelCapture:rg,onTouchMoveCapture:rg}),c=o[0],d=o[1],u=e.forwardProps,m=e.children,x=e.className,p=e.removeScrollBar,h=e.enabled,g=e.shards,f=e.sideCar,b=e.noRelative,y=e.noIsolation,v=e.inert,j=e.allowPinchZoom,N=e.as,w=e.gapMode,C=ro(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=(r=[l,t],a=function(e){return r.forEach(function(t){return ru(t,e)})},(s=(0,i.useState)(function(){return{value:null,callback:a,facade:{get current(){return s.value},set current(value){var e=s.value;e!==value&&(s.value=value,s.callback(value,e))}}}})[0]).callback=a,n=s.facade,rm(function(){var e=rx.get(n);if(e){var t=new Set(e),a=new Set(r),s=n.current;t.forEach(function(e){a.has(e)||ru(e,null)}),a.forEach(function(e){t.has(e)||ru(e,s)})}rx.set(n,r)},[r]),n),E=ri(ri({},C),c);return i.createElement(i.Fragment,null,h&&i.createElement(f,{sideCar:rh,removeScrollBar:p,shards:g,noRelative:b,noIsolation:y,inert:v,setCallbacks:d,allowPinchZoom:!!j,lockRef:l,gapMode:w}),u?i.cloneElement(i.Children.only(m),ri(ri({},E),{ref:D})):i.createElement(void 0===N?"div":N,ri({},E,{className:x,ref:D}),m))});rf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},rf.classNames={fullWidth:rd,zeroRight:rc};var rb=function(e){var t=e.sideCar,r=ro(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var a=t.read();if(!a)throw Error("Sidecar medium not found");return i.createElement(a,ri({},r))};rb.isSideCarExport=!0;var ry=function(){var e=0,t=null;return{add:function(a){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=n||r.nc;return t&&e.setAttribute("nonce",t),e}())){var s,l;(s=t).styleSheet?s.styleSheet.cssText=a:s.appendChild(document.createTextNode(a)),l=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(l)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},rv=function(){var e=ry();return function(t,r){i.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},rj=function(){var e=rv();return function(t){return e(t.styles,t.dynamic),null}},rN={left:0,top:0,right:0,gap:0},rw=function(e){return parseInt(e||"",10)||0},rC=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],a=t["padding"===e?"paddingTop":"marginTop"],s=t["padding"===e?"paddingRight":"marginRight"];return[rw(r),rw(a),rw(s)]},rD=function(e){if(void 0===e&&(e="margin"),"undefined"==typeof window)return rN;var t=rC(e),r=document.documentElement.clientWidth,a=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,a-r+t[2]-t[0])}},rE=rj(),rk="data-scroll-locked",rS=function(e,t,r,a){var s=e.left,n=e.top,l=e.right,i=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(a,";\n   padding-right: ").concat(i,"px ").concat(a,";\n  }\n  body[").concat(rk,"] {\n    overflow: hidden ").concat(a,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(a,";"),"margin"===r&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(n,"px;\n    padding-right: ").concat(l,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(i,"px ").concat(a,";\n    "),"padding"===r&&"padding-right: ".concat(i,"px ").concat(a,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(rc," {\n    right: ").concat(i,"px ").concat(a,";\n  }\n  \n  .").concat(rd," {\n    margin-right: ").concat(i,"px ").concat(a,";\n  }\n  \n  .").concat(rc," .").concat(rc," {\n    right: 0 ").concat(a,";\n  }\n  \n  .").concat(rd," .").concat(rd," {\n    margin-right: 0 ").concat(a,";\n  }\n  \n  body[").concat(rk,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(i,"px;\n  }\n")},rP=function(){var e=parseInt(document.body.getAttribute(rk)||"0",10);return isFinite(e)?e:0},rT=function(){i.useEffect(function(){return document.body.setAttribute(rk,(rP()+1).toString()),function(){var e=rP()-1;e<=0?document.body.removeAttribute(rk):document.body.setAttribute(rk,e.toString())}},[])},rA=function(e){var t=e.noRelative,r=e.noImportant,a=e.gapMode,s=void 0===a?"margin":a;rT();var n=i.useMemo(function(){return rD(s)},[s]);return i.createElement(rE,{styles:rS(n,!t,s,r?"":"!important")})},rR=!1;if("undefined"!=typeof window)try{var rI=Object.defineProperty({},"passive",{get:function(){return rR=!0,!0}});window.addEventListener("test",rI,rI),window.removeEventListener("test",rI,rI)}catch(e){rR=!1}var rL=!!rR&&{passive:!1},rO=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&!(r.overflowY===r.overflowX&&"TEXTAREA"!==e.tagName&&"visible"===r[t])},rM=function(e,t){var r=t.ownerDocument,a=t;do{if("undefined"!=typeof ShadowRoot&&a instanceof ShadowRoot&&(a=a.host),rF(e,a)){var s=r$(e,a);if(s[1]>s[2])return!0}a=a.parentNode}while(a&&a!==r.body);return!1},rF=function(e,t){return"v"===e?rO(t,"overflowY"):rO(t,"overflowX")},r$=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},rz=function(e,t,r,a,s){var n,l=(n=window.getComputedStyle(t).direction,"h"===e&&"rtl"===n?-1:1),i=l*a,o=r.target,c=t.contains(o),d=!1,u=i>0,m=0,x=0;do{if(!o)break;var p=r$(e,o),h=p[0],g=p[1]-p[2]-l*h;(h||g)&&rF(e,o)&&(m+=g,x+=h);var f=o.parentNode;o=f&&f.nodeType===Node.DOCUMENT_FRAGMENT_NODE?f.host:f}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return u&&(s&&1>Math.abs(m)||!s&&i>m)?d=!0:!u&&(s&&1>Math.abs(x)||!s&&-i>x)&&(d=!0),d},r_=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},rB=function(e){return[e.deltaX,e.deltaY]},rq=function(e){return e&&"current"in e?e.current:e},rH=0,rW=[];let rU=(a=function(e){var t=i.useRef([]),r=i.useRef([0,0]),a=i.useRef(),s=i.useState(rH++)[0],n=i.useState(rj)[0],l=i.useRef(e);i.useEffect(function(){l.current=e},[e]),i.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=(function(e,t,r){if(r||2==arguments.length)for(var a,s=0,n=t.length;s<n;s++)!a&&s in t||(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(rq),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var o=i.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!l.current.allowPinchZoom;var s,n=r_(e),i=r.current,o="deltaX"in e?e.deltaX:i[0]-n[0],c="deltaY"in e?e.deltaY:i[1]-n[1],d=e.target,u=Math.abs(o)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===d.type)return!1;var m=window.getSelection(),x=m&&m.anchorNode;if(x&&(x===d||x.contains(d)))return!1;var p=rM(u,d);if(!p)return!0;if(p?s=u:(s="v"===u?"h":"v",p=rM(u,d)),!p)return!1;if(!a.current&&"changedTouches"in e&&(o||c)&&(a.current=s),!s)return!0;var h=a.current||s;return rz(h,t,e,"h"===h?o:c,!0)},[]),c=i.useCallback(function(e){if(rW.length&&rW[rW.length-1]===n){var r="deltaY"in e?rB(e):r_(e),a=t.current.filter(function(t){var a;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(a=t.delta)[0]===r[0]&&a[1]===r[1]})[0];if(a&&a.should){e.cancelable&&e.preventDefault();return}if(!a){var s=(l.current.shards||[]).map(rq).filter(Boolean).filter(function(t){return t.contains(e.target)});(s.length>0?o(e,s[0]):!l.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),d=i.useCallback(function(e,r,a,s){var n={name:e,delta:r,target:a,should:s,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(a)};t.current.push(n),setTimeout(function(){t.current=t.current.filter(function(e){return e!==n})},1)},[]),u=i.useCallback(function(e){r.current=r_(e),a.current=void 0},[]),m=i.useCallback(function(t){d(t.type,rB(t),t.target,o(t,e.lockRef.current))},[]),x=i.useCallback(function(t){d(t.type,r_(t),t.target,o(t,e.lockRef.current))},[]);i.useEffect(function(){return rW.push(n),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:x}),document.addEventListener("wheel",c,rL),document.addEventListener("touchmove",c,rL),document.addEventListener("touchstart",u,rL),function(){rW=rW.filter(function(e){return e!==n}),document.removeEventListener("wheel",c,rL),document.removeEventListener("touchmove",c,rL),document.removeEventListener("touchstart",u,rL)}},[]);var p=e.removeScrollBar,h=e.inert;return i.createElement(i.Fragment,null,h?i.createElement(n,{styles:"\n  .block-interactivity-".concat(s," {pointer-events: none;}\n  .allow-interactivity-").concat(s," {pointer-events: all;}\n")}):null,p?i.createElement(rA,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},rh.useMedium(a),rb);var rV=i.forwardRef(function(e,t){return i.createElement(rf,ri({},e,{ref:t,sideCar:rU}))});rV.classNames=rf.classNames;var rZ="Popover",[rY,rG]=U(rZ,[tB]),rX=tB(),[rK,rJ]=rY(rZ),rQ=e=>{let{__scopePopover:t,children:r,open:a,defaultOpen:s,onOpenChange:n,modal:o=!1}=e,c=rX(t),d=i.useRef(null),[u,m]=i.useState(!1),[x,p]=function({prop:e,defaultProp:t,onChange:r=()=>{},caller:a}){let[s,n,l]=function({defaultProp:e,onChange:t}){let[r,a]=i.useState(e),s=i.useRef(r),n=i.useRef(t);return t7(()=>{n.current=t},[t]),i.useEffect(()=>{s.current!==r&&(n.current?.(r),s.current=r)},[r,s]),[r,a,n]}({defaultProp:t,onChange:r}),o=void 0!==e,c=o?e:s;{let t=i.useRef(void 0!==e);i.useEffect(()=>{let e=t.current;if(e!==o){let t=o?"controlled":"uncontrolled";console.warn(`${a} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=o},[o,a])}return[c,i.useCallback(t=>{if(o){let r="function"==typeof t?t(e):t;r!==e&&l.current?.(r)}else n(t)},[o,e,n,l])]}({prop:a,defaultProp:s??!1,onChange:n,caller:rZ});return(0,l.jsx)(tW,{...c,children:(0,l.jsx)(rK,{scope:t,contentId:function(e){let[t,r]=i.useState(ep());return ex(()=>{r(e=>e??String(eh++))},[void 0]),t?`radix-${t}`:""}(),triggerRef:d,open:x,onOpenChange:p,onOpenToggle:i.useCallback(()=>p(e=>!e),[p]),hasCustomAnchor:u,onCustomAnchorAdd:i.useCallback(()=>m(!0),[]),onCustomAnchorRemove:i.useCallback(()=>m(!1),[]),modal:o,children:r})})};rQ.displayName=rZ;var r0="PopoverAnchor";i.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,s=rJ(r0,r),n=rX(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:c}=s;return i.useEffect(()=>(o(),()=>c()),[o,c]),(0,l.jsx)(tV,{...n,...a,ref:t})}).displayName=r0;var r1="PopoverTrigger",r2=i.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,s=rJ(r1,r),n=rX(r),i=(0,W.e)(t,s.triggerRef),o=(0,l.jsx)(G.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":as(s.open),...a,ref:i,onClick:H(e.onClick,s.onOpenToggle)});return s.hasCustomAnchor?o:(0,l.jsx)(tV,{asChild:!0,...n,children:o})});r2.displayName=r1;var r6="PopoverPortal",[r5,r3]=rY(r6,{forceMount:void 0}),r4=e=>{let{__scopePopover:t,forceMount:r,children:a,container:s}=e,n=rJ(r6,t);return(0,l.jsx)(r5,{scope:t,forceMount:r,children:(0,l.jsx)(t5,{present:r||n.open,children:(0,l.jsx)(t6,{asChild:!0,container:s,children:a})})})};r4.displayName=r6;var r8="PopoverContent",r7=i.forwardRef((e,t)=>{let r=r3(r8,e.__scopePopover),{forceMount:a=r.forceMount,...s}=e,n=rJ(r8,e.__scopePopover);return(0,l.jsx)(t5,{present:a||n.open,children:n.modal?(0,l.jsx)(ae,{...s,ref:t}):(0,l.jsx)(at,{...s,ref:t})})});r7.displayName=r8;var r9=function(e){let t=function(e){let t=i.forwardRef((e,t)=>{let{children:r,...a}=e;if(i.isValidElement(r)){let e,s;let n=(e=Object.getOwnPropertyDescriptor(r.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.ref:(e=Object.getOwnPropertyDescriptor(r,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning?r.props.ref:r.props.ref||r.ref,l=function(e,t){let r={...t};for(let a in t){let s=e[a],n=t[a];/^on[A-Z]/.test(a)?s&&n?r[a]=(...e)=>{let t=n(...e);return s(...e),t}:s&&(r[a]=s):"style"===a?r[a]={...s,...n}:"className"===a&&(r[a]=[s,n].filter(Boolean).join(" "))}return{...e,...r}}(a,r.props);return r.type!==i.Fragment&&(l.ref=t?(0,W.F)(t,n):n),i.cloneElement(r,l)}return i.Children.count(r)>1?i.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}(e),r=i.forwardRef((e,r)=>{let{children:a,...s}=e,n=i.Children.toArray(a),o=n.find(t8);if(o){let e=o.props.children,a=n.map(t=>t!==o?t:i.Children.count(e)>1?i.Children.only(null):i.isValidElement(e)?e.props.children:null);return(0,l.jsx)(t,{...s,ref:r,children:i.isValidElement(e)?i.cloneElement(e,void 0,a):null})}return(0,l.jsx)(t,{...s,ref:r,children:a})});return r.displayName=`${e}.Slot`,r}("PopoverContent.RemoveScroll"),ae=i.forwardRef((e,t)=>{let r=rJ(r8,e.__scopePopover),a=i.useRef(null),s=(0,W.e)(t,a),n=i.useRef(!1);return i.useEffect(()=>{let e=a.current;if(e)return rl(e)},[]),(0,l.jsx)(rV,{as:r9,allowPinchZoom:!0,children:(0,l.jsx)(ar,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:H(e.onCloseAutoFocus,e=>{e.preventDefault(),n.current||r.triggerRef.current?.focus()}),onPointerDownOutside:H(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,a=2===t.button||r;n.current=a},{checkForDefaultPrevented:!1}),onFocusOutside:H(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),at=i.forwardRef((e,t)=>{let r=rJ(r8,e.__scopePopover),a=i.useRef(!1),s=i.useRef(!1);return(0,l.jsx)(ar,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(a.current||r.triggerRef.current?.focus(),t.preventDefault()),a.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(a.current=!0,"pointerdown"!==t.detail.originalEvent.type||(s.current=!0));let n=t.target;r.triggerRef.current?.contains(n)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),ar=i.forwardRef((e,t)=>{let{__scopePopover:r,trapFocus:a,onOpenAutoFocus:s,onCloseAutoFocus:n,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onInteractOutside:m,...x}=e,p=rJ(r8,r),h=rX(r);return i.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??ea()),document.body.insertAdjacentElement("beforeend",e[1]??ea()),er++,()=>{1===er&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),er--}},[]),(0,l.jsx)(ei,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:s,onUnmountAutoFocus:n,children:(0,l.jsx)(Q,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:m,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:u,onDismiss:()=>p.onOpenChange(!1),children:(0,l.jsx)(tX,{"data-state":as(p.open),role:"dialog",id:p.contentId,...h,...x,ref:t,style:{...x.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),aa="PopoverClose";function as(e){return e?"open":"closed"}i.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,s=rJ(aa,r);return(0,l.jsx)(G.button,{type:"button",...a,ref:t,onClick:H(e.onClick,()=>s.onOpenChange(!1))})}).displayName=aa,i.forwardRef((e,t)=>{let{__scopePopover:r,...a}=e,s=rX(r);return(0,l.jsx)(tQ,{...s,...a,ref:t})}).displayName="PopoverArrow";var an=r(1223);let al=i.forwardRef(({className:e,align:t="center",sideOffset:r=4,...a},s)=>l.jsx(r4,{children:l.jsx(r7,{ref:s,align:t,sideOffset:r,className:(0,an.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})}));al.displayName=r7.displayName;var ai=i.createContext(void 0),ao="ScrollArea",[ac,ad]=U(ao),[au,am]=ac(ao),ax=i.forwardRef((e,t)=>{let{__scopeScrollArea:r,type:a="hover",dir:s,scrollHideDelay:n=600,...o}=e,[c,d]=i.useState(null),[u,m]=i.useState(null),[x,p]=i.useState(null),[h,g]=i.useState(null),[f,b]=i.useState(null),[y,v]=i.useState(0),[j,N]=i.useState(0),[w,C]=i.useState(!1),[D,E]=i.useState(!1),k=(0,W.e)(t,e=>d(e)),S=function(e){let t=i.useContext(ai);return e||t||"ltr"}(s);return(0,l.jsx)(au,{scope:r,type:a,dir:S,scrollHideDelay:n,scrollArea:c,viewport:u,onViewportChange:m,content:x,onContentChange:p,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:w,onScrollbarXEnabledChange:C,scrollbarY:f,onScrollbarYChange:b,scrollbarYEnabled:D,onScrollbarYEnabledChange:E,onCornerWidthChange:v,onCornerHeightChange:N,children:(0,l.jsx)(G.div,{dir:S,...o,ref:k,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":j+"px",...e.style}})})});ax.displayName=ao;var ap="ScrollAreaViewport",ah=i.forwardRef((e,t)=>{let{__scopeScrollArea:r,children:a,nonce:s,...n}=e,o=am(ap,r),c=i.useRef(null),d=(0,W.e)(t,c,o.onViewportChange);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),(0,l.jsx)(G.div,{"data-radix-scroll-area-viewport":"",...n,ref:d,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,l.jsx)("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:a})})]})});ah.displayName=ap;var ag="ScrollAreaScrollbar",af=i.forwardRef((e,t)=>{let{forceMount:r,...a}=e,s=am(ag,e.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:o}=s,c="horizontal"===e.orientation;return i.useEffect(()=>(c?n(!0):o(!0),()=>{c?n(!1):o(!1)}),[c,n,o]),"hover"===s.type?(0,l.jsx)(ab,{...a,ref:t,forceMount:r}):"scroll"===s.type?(0,l.jsx)(ay,{...a,ref:t,forceMount:r}):"auto"===s.type?(0,l.jsx)(av,{...a,ref:t,forceMount:r}):"always"===s.type?(0,l.jsx)(aj,{...a,ref:t}):null});af.displayName=ag;var ab=i.forwardRef((e,t)=>{let{forceMount:r,...a}=e,s=am(ag,e.__scopeScrollArea),[n,o]=i.useState(!1);return i.useEffect(()=>{let e=s.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),o(!0)},a=()=>{t=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",a),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",a)}}},[s.scrollArea,s.scrollHideDelay]),(0,l.jsx)(t5,{present:r||n,children:(0,l.jsx)(av,{"data-state":n?"visible":"hidden",...a,ref:t})})}),ay=i.forwardRef((e,t)=>{var r,a;let{forceMount:s,...n}=e,o=am(ag,e.__scopeScrollArea),c="horizontal"===e.orientation,d=az(()=>m("SCROLL_END"),100),[u,m]=(r="hidden",a={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},i.useReducer((e,t)=>a[e][t]??e,r));return i.useEffect(()=>{if("idle"===u){let e=window.setTimeout(()=>m("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(e)}},[u,o.scrollHideDelay,m]),i.useEffect(()=>{let e=o.viewport,t=c?"scrollLeft":"scrollTop";if(e){let r=e[t],a=()=>{let a=e[t];r!==a&&(m("SCROLL"),d()),r=a};return e.addEventListener("scroll",a),()=>e.removeEventListener("scroll",a)}},[o.viewport,c,m,d]),(0,l.jsx)(t5,{present:s||"hidden"!==u,children:(0,l.jsx)(aj,{"data-state":"hidden"===u?"hidden":"visible",...n,ref:t,onPointerEnter:H(e.onPointerEnter,()=>m("POINTER_ENTER")),onPointerLeave:H(e.onPointerLeave,()=>m("POINTER_LEAVE"))})})}),av=i.forwardRef((e,t)=>{let r=am(ag,e.__scopeScrollArea),{forceMount:a,...s}=e,[n,o]=i.useState(!1),c="horizontal"===e.orientation,d=az(()=>{if(r.viewport){let e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;o(c?e:t)}},10);return a_(r.viewport,d),a_(r.content,d),(0,l.jsx)(t5,{present:a||n,children:(0,l.jsx)(aj,{"data-state":n?"visible":"hidden",...s,ref:t})})}),aj=i.forwardRef((e,t)=>{let{orientation:r="vertical",...a}=e,s=am(ag,e.__scopeScrollArea),n=i.useRef(null),o=i.useRef(0),[c,d]=i.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=aL(c.viewport,c.content),m={...a,sizes:c,onSizesChange:d,hasThumb:!!(u>0&&u<1),onThumbChange:e=>n.current=e,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:e=>o.current=e};function x(e,t){return function(e,t,r,a="ltr"){let s=aO(r),n=t||s/2,l=r.scrollbar.paddingStart+n,i=r.scrollbar.size-r.scrollbar.paddingEnd-(s-n),o=r.content-r.viewport;return aF([l,i],"ltr"===a?[0,o]:[-1*o,0])(e)}(e,o.current,c,t)}return"horizontal"===r?(0,l.jsx)(aN,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&n.current){let e=aM(s.viewport.scrollLeft,c,s.dir);n.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{s.viewport&&(s.viewport.scrollLeft=e)},onDragScroll:e=>{s.viewport&&(s.viewport.scrollLeft=x(e,s.dir))}}):"vertical"===r?(0,l.jsx)(aw,{...m,ref:t,onThumbPositionChange:()=>{if(s.viewport&&n.current){let e=aM(s.viewport.scrollTop,c);n.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{s.viewport&&(s.viewport.scrollTop=e)},onDragScroll:e=>{s.viewport&&(s.viewport.scrollTop=x(e))}}):null}),aN=i.forwardRef((e,t)=>{let{sizes:r,onSizesChange:a,...s}=e,n=am(ag,e.__scopeScrollArea),[o,c]=i.useState(),d=i.useRef(null),u=(0,W.e)(t,d,n.onScrollbarXChange);return i.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),(0,l.jsx)(aE,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:"rtl"===n.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===n.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":aO(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(n.viewport){let a=n.viewport.scrollLeft+t.deltaX;e.onWheelScroll(a),function(e,t){return e>0&&e<t}(a,r)&&t.preventDefault()}},onResize:()=>{d.current&&n.viewport&&o&&a({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:aI(o.paddingLeft),paddingEnd:aI(o.paddingRight)}})}})}),aw=i.forwardRef((e,t)=>{let{sizes:r,onSizesChange:a,...s}=e,n=am(ag,e.__scopeScrollArea),[o,c]=i.useState(),d=i.useRef(null),u=(0,W.e)(t,d,n.onScrollbarYChange);return i.useEffect(()=>{d.current&&c(getComputedStyle(d.current))},[d]),(0,l.jsx)(aE,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:"ltr"===n.dir?0:void 0,left:"rtl"===n.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":aO(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(n.viewport){let a=n.viewport.scrollTop+t.deltaY;e.onWheelScroll(a),function(e,t){return e>0&&e<t}(a,r)&&t.preventDefault()}},onResize:()=>{d.current&&n.viewport&&o&&a({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:aI(o.paddingTop),paddingEnd:aI(o.paddingBottom)}})}})}),[aC,aD]=ac(ag),aE=i.forwardRef((e,t)=>{let{__scopeScrollArea:r,sizes:a,hasThumb:s,onThumbChange:n,onThumbPointerUp:o,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:m,onResize:x,...p}=e,h=am(ag,r),[g,f]=i.useState(null),b=(0,W.e)(t,e=>f(e)),y=i.useRef(null),v=i.useRef(""),j=h.viewport,N=a.content-a.viewport,w=X(m),C=X(d),D=az(x,10);function E(e){y.current&&u({x:e.clientX-y.current.left,y:e.clientY-y.current.top})}return i.useEffect(()=>{let e=e=>{let t=e.target;g?.contains(t)&&w(e,N)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[j,g,N,w]),i.useEffect(C,[a,C]),a_(g,D),a_(h.content,D),(0,l.jsx)(aC,{scope:r,scrollbar:g,hasThumb:s,onThumbChange:X(n),onThumbPointerUp:X(o),onThumbPositionChange:C,onThumbPointerDown:X(c),children:(0,l.jsx)(G.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:H(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),y.current=g.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),E(e))}),onPointerMove:H(e.onPointerMove,E),onPointerUp:H(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=v.current,h.viewport&&(h.viewport.style.scrollBehavior=""),y.current=null})})})}),ak="ScrollAreaThumb",aS=i.forwardRef((e,t)=>{let{forceMount:r,...a}=e,s=aD(ak,e.__scopeScrollArea);return(0,l.jsx)(t5,{present:r||s.hasThumb,children:(0,l.jsx)(aP,{ref:t,...a})})}),aP=i.forwardRef((e,t)=>{let{__scopeScrollArea:r,style:a,...s}=e,n=am(ak,r),o=aD(ak,r),{onThumbPositionChange:c}=o,d=(0,W.e)(t,e=>o.onThumbChange(e)),u=i.useRef(void 0),m=az(()=>{u.current&&(u.current(),u.current=void 0)},100);return i.useEffect(()=>{let e=n.viewport;if(e){let t=()=>{if(m(),!u.current){let t=a$(e,c);u.current=t,c()}};return c(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[n.viewport,m,c]),(0,l.jsx)(G.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...a},onPointerDownCapture:H(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,a=e.clientY-t.top;o.onThumbPointerDown({x:r,y:a})}),onPointerUp:H(e.onPointerUp,o.onThumbPointerUp)})});aS.displayName=ak;var aT="ScrollAreaCorner",aA=i.forwardRef((e,t)=>{let r=am(aT,e.__scopeScrollArea),a=!!(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&a?(0,l.jsx)(aR,{...e,ref:t}):null});aA.displayName=aT;var aR=i.forwardRef((e,t)=>{let{__scopeScrollArea:r,...a}=e,s=am(aT,r),[n,o]=i.useState(0),[c,d]=i.useState(0),u=!!(n&&c);return a_(s.scrollbarX,()=>{let e=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(e),d(e)}),a_(s.scrollbarY,()=>{let e=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(e),o(e)}),u?(0,l.jsx)(G.div,{...a,ref:t,style:{width:n,height:c,position:"absolute",right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:0,...e.style}}):null});function aI(e){return e?parseInt(e,10):0}function aL(e,t){let r=e/t;return isNaN(r)?0:r}function aO(e){let t=aL(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function aM(e,t,r="ltr"){let a=aO(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-s,l=t.content-t.viewport,i=function(e,[t,r]){return Math.min(r,Math.max(t,e))}(e,"ltr"===r?[0,l]:[-1*l,0]);return aF([0,l],[0,n-a])(i)}function aF(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let a=(t[1]-t[0])/(e[1]-e[0]);return t[0]+a*(r-e[0])}}var a$=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},a=0;return function s(){let n={left:e.scrollLeft,top:e.scrollTop},l=r.left!==n.left,i=r.top!==n.top;(l||i)&&t(),r=n,a=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(a)};function az(e,t){let r=X(e),a=i.useRef(0);return i.useEffect(()=>()=>window.clearTimeout(a.current),[]),i.useCallback(()=>{window.clearTimeout(a.current),a.current=window.setTimeout(r,t)},[r,t])}function a_(e,t){let r=X(t);ex(()=>{let t=0;if(e){let a=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return a.observe(e),()=>{window.cancelAnimationFrame(t),a.unobserve(e)}}},[e,r])}let aB=i.forwardRef(({className:e,children:t,...r},a)=>(0,l.jsxs)(ax,{ref:a,className:(0,an.cn)("relative overflow-hidden",e),...r,children:[l.jsx(ah,{className:"h-full w-full rounded-[inherit]",children:t}),l.jsx(aq,{}),l.jsx(aA,{})]}));aB.displayName=ax.displayName;let aq=i.forwardRef(({className:e,orientation:t="vertical",...r},a)=>l.jsx(af,{ref:a,orientation:t,className:(0,an.cn)("flex touch-none select-none transition-colors","vertical"===t&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...r,children:l.jsx(aS,{className:"relative flex-1 rounded-full bg-border"})}));aq.displayName=af.displayName;let aH=e=>{switch(e){case"SALE":return"\uD83D\uDCB0";case"SUBSCRIPTION_NEW":return"\uD83D\uDD04";case"SUBSCRIPTION_CANCELLED":return"❌";case"SUBSCRIPTION_EXPIRED":return"⏰";case"SETTLEMENT":return"\uD83D\uDCB5";case"PAYOUT":return"✅";default:return"\uD83D\uDCE2"}},aW=e=>{let t=new Date,r=new Date(e),a=Math.floor((t.getTime()-r.getTime())/1e3);return a<60?"Ahora":a<3600?`Hace ${Math.floor(a/60)} min`:a<86400?`Hace ${Math.floor(a/3600)} h`:a<604800?`Hace ${Math.floor(a/86400)} d\xedas`:r.toLocaleDateString("es-ES")};function aU(){let[e,t]=(0,i.useState)([]),[r,a]=(0,i.useState)(0),[s,n]=(0,i.useState)(!1),[o,c]=(0,i.useState)(!1);(0,i.useRef)(null);let u=async e=>{try{await d.hi.post(`/notifications/${e}/read`),t(t=>t.map(t=>t.id===e?{...t,is_read:!0}:t)),a(e=>Math.max(0,e-1))}catch(e){console.error("Error marking notification as read:",e)}},x=async()=>{try{c(!0),await d.hi.post("/notifications/read-all"),t(e=>e.map(e=>({...e,is_read:!0}))),a(0)}catch(e){console.error("Error marking all as read:",e)}finally{c(!1)}};return(0,l.jsxs)(rQ,{open:s,onOpenChange:n,children:[l.jsx(r2,{asChild:!0,children:(0,l.jsxs)(m.z,{variant:"ghost",size:"icon",className:"relative","aria-label":"Notificaciones",children:[l.jsx(B,{className:"h-5 w-5"}),r>0&&l.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-red-500 text-xs font-medium text-white flex items-center justify-center",children:r>9?"9+":r})]})}),(0,l.jsxs)(al,{className:"w-80 p-0",align:"end",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between px-4 py-3 border-b",children:[l.jsx("h3",{className:"font-semibold",children:"Notificaciones"}),r>0&&(0,l.jsxs)(m.z,{variant:"ghost",size:"sm",className:"text-xs text-blue-600 hover:text-blue-700",onClick:x,disabled:o,children:[l.jsx(q,{className:"h-4 w-4 mr-1"}),"Marcar todas"]})]}),l.jsx(aB,{className:"h-[300px]",children:0===e.length?(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-[200px] text-gray-500",children:[l.jsx(B,{className:"h-8 w-8 mb-2 opacity-50"}),l.jsx("p",{className:"text-sm",children:"No hay notificaciones"})]}):l.jsx("div",{className:"divide-y",children:e.map(e=>l.jsx("div",{className:`px-4 py-3 hover:bg-gray-50 cursor-pointer transition-colors ${e.is_read?"":"bg-blue-50"}`,onClick:()=>!e.is_read&&u(e.id),children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-xl",children:aH(e.type)}),(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm ${e.is_read?"font-medium":"font-semibold"} text-gray-900`,children:e.title}),l.jsx("p",{className:"text-sm text-gray-600 truncate",children:e.message}),l.jsx("p",{className:"text-xs text-gray-400 mt-1",children:aW(e.created_at)})]}),!e.is_read&&l.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500 mt-2"})]})},e.id))})}),e.length>0&&l.jsx("div",{className:"px-4 py-2 border-t text-center",children:l.jsx(m.z,{variant:"ghost",size:"sm",className:"text-xs text-gray-500",onClick:()=>n(!1),children:"Cerrar"})})]})]})}function aV(){let e=(0,c.useRouter)(),{formatPrice:t,symbol:r}=(0,u.U)(),[a,s]=(0,i.useState)("dashboard"),[n,o]=(0,i.useState)("liquidaciones"),[m,x]=(0,i.useState)(null),[p,h]=(0,i.useState)([]),[g,f]=(0,i.useState)(null),[b,y]=(0,i.useState)(null),[v,j]=(0,i.useState)([]),[N,w]=(0,i.useState)(null),[C,D]=(0,i.useState)({kycCompleted:!1,needsKyc:!1,applicationStatus:"PENDING"}),[E,P]=(0,i.useState)({forecasts:!0,affiliate:!1}),[A,R]=(0,i.useState)(!0),[I,L]=(0,i.useState)(!1),[O,M]=(0,i.useState)(null),[F,$]=(0,i.useState)(!1),[z,B]=(0,i.useState)({title:"",description:"",priceCents:"",billingType:"ONE_TIME",subscriptionInterval:"MONTHLY",telegramChannelId:"",active:!0}),[q,H]=(0,i.useState)(!1),[W,U]=(0,i.useState)(""),[V,Z]=(0,i.useState)([]),[Y,G]=(0,i.useState)(!1),[X,K]=(0,i.useState)(!1),[J,Q]=(0,i.useState)({channelId:"",channelTitle:"",channelType:"private",inviteLink:""}),[ee,et]=(0,i.useState)(!1),[er,ea]=(0,i.useState)(null),[es,en]=(0,i.useState)(""),[el,ei]=(0,i.useState)(!1),[eo,ec]=(0,i.useState)(null),[ed,eu]=(0,i.useState)(!1),[em,ex]=(0,i.useState)(!1),[ep,eh]=(0,i.useState)(""),[eg,ef]=(0,i.useState)(""),[eb,ey]=(0,i.useState)(null),[ev,ej]=(0,i.useState)(""),[eN,ew]=(0,i.useState)(!1),[eC,eD]=(0,i.useState)({configured:!1,pending:!1,channelId:null,channelTitle:null,channelUsername:null}),[eE,ek]=(0,i.useState)(null),[eS,eP]=(0,i.useState)(""),[eT,eA]=(0,i.useState)(""),[eR,eI]=(0,i.useState)(!1),[eL,eO]=(0,i.useState)(""),[eM,eF]=(0,i.useState)(null),[e$,ez]=(0,i.useState)([]),[e_,eB]=(0,i.useState)(!1),[eq,eH]=(0,i.useState)(!1),[eW,eU]=(0,i.useState)(null),[eV,eZ]=(0,i.useState)({subject:"",message:""}),[eY,eG]=(0,i.useState)(""),[eX,eK]=(0,i.useState)(!1),[eJ,eQ]=(0,i.useState)([]),[e0,e1]=(0,i.useState)(!1),[e2,e6]=(0,i.useState)(!1),[e5,e3]=(0,i.useState)(null),e4=async()=>{try{try{let e=await d.g8.getMe();x(e.data),console.log("Loaded user profile:",e.data)}catch(e){console.error("Error loading user profile:",e)}try{let e=await d.fi.getMy();h(e.data)}catch(e){console.error("Error loading products:",e)}try{let e=await d.Q4.getMetrics();f(e.data)}catch(e){console.error("Error loading metrics:",e),f({clicks:0,registers:0,ftds:0,deposits:0,totalDeposits:0,conversionRate:0})}try{let e=await d.$z.channels.getAll();Z(e.data.channels||[])}catch(e){console.error("Error loading Telegram channels:",e)}try{let e=await d.$z.getChannelInfo();e.data.connected&&(eu(!0),ec(e.data.channel)),e.data.premiumChannelLink&&ej(e.data.premiumChannelLink)}catch(e){console.error("Error loading Telegram info:",e)}try{let e=await d.$z.publicationChannel.get();console.log("Loaded publication channel:",e.data),eD(e.data)}catch(e){console.error("Error loading publication channel:",e)}try{let e=await d.kn.getMyStats();y(e.data)}catch(e){console.error("Error loading sales stats:",e),y({totalSales:0,totalEarningsCents:0,currency:"EUR"})}try{let e=await d.kn.getMySales();j(e.data.slice(0,10))}catch(e){console.error("Error loading recent sales:",e),j([])}try{let e=await d.lY.getAll();w(e.data)}catch(e){console.error("Error loading settlements:",e)}try{let e=await d.wT.getMyModules();e.data.modules&&P(e.data.modules)}catch(e){console.error("Error loading modules:",e)}try{let e=await d.bs.getKycStatus();D(e.data),console.log("Loaded KYC status:",e.data)}catch(e){console.error("Error loading KYC status:",e)}}catch(e){console.error("Error loading dashboard:",e)}finally{R(!1)}},e8=async()=>{try{let e=await d.bs.getKycStatus();D(e.data),s("dashboard")}catch(e){console.error("Error reloading KYC status:",e)}},e7=async()=>{eB(!0);try{let e=await fetch("https://tipster-portal-1.preview.emergentagent.com/api/tickets/my",{headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`}}),t=await e.json();ez(t.tickets||[])}catch(e){console.error("Error loading tickets:",e)}finally{eB(!1)}},e9=async()=>{if(eV.subject.trim()&&eV.message.trim()){eK(!0);try{let e=[];if(eJ.length>0){let t=new FormData;eJ.forEach(e=>{t.append("files",e)});try{let r=await fetch("https://tipster-portal-1.preview.emergentagent.com/api/upload/tickets",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("access_token")}`},body:t});r.ok&&(e=(await r.json()).urls||[])}catch(e){console.error("Error uploading attachments:",e)}}(await fetch("https://tipster-portal-1.preview.emergentagent.com/api/tickets",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`},body:JSON.stringify({...eV,attachments:e})})).ok&&(eZ({subject:"",message:""}),eQ([]),eH(!1),await e7(),alert("✅ Ticket creado exitosamente"))}catch(e){console.error("Error creating ticket:",e),alert("Error al crear el ticket")}finally{eK(!1)}}},te=async()=>{if(eW&&eY.trim()){eK(!0);try{await fetch(`https://tipster-portal-1.preview.emergentagent.com/api/tickets/${eW.id}/reply`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("access_token")}`},body:JSON.stringify({message:eY})}),eG(""),await e7();let e=e$.find(e=>e.id===eW.id);e&&eU(e)}catch(e){console.error("Error replying to ticket:",e)}finally{eK(!1)}}},tt=async()=>{try{await d.iJ.logout(),localStorage.removeItem("access_token"),e.push("/")}catch(t){console.error("Error logging out:",t),localStorage.removeItem("access_token"),e.push("/")}},tr=async()=>{if(!J.channelId.trim()){en("Por favor, ingresa el ID del canal");return}et(!0),en(""),ea(null);try{let e=await d.$z.channels.verify(J.channelId.trim());e.data.valid?(ea(e.data),Q(t=>({...t,channelTitle:e.data.title||"",channelType:e.data.username?"public":"private"}))):en(e.data.error||"No se pudo verificar el canal")}catch(e){en(e.response?.data?.message||"Error al verificar el canal")}finally{et(!1)}},ta=async()=>{if(!J.channelId.trim()||!J.channelTitle.trim()){en("Por favor, completa todos los campos requeridos");return}ei(!0),en("");try{if((await d.$z.channels.create({channelId:J.channelId.trim(),channelName:er?.username||void 0,channelTitle:J.channelTitle.trim(),channelType:J.channelType,inviteLink:J.inviteLink.trim()||void 0})).data.success){let e=await d.$z.channels.getAll();Z(e.data.channels||[]),K(!1),Q({channelId:"",channelTitle:"",channelType:"private",inviteLink:""}),ea(null),alert("✅ Canal a\xf1adido correctamente")}}catch(e){en(e.response?.data?.message||"Error al a\xf1adir el canal")}finally{ei(!1)}},ts=async e=>{if(confirm("\xbfEst\xe1s seguro de que deseas desconectar este canal?"))try{await d.$z.channels.delete(e),Z(t=>t.filter(t=>t.id!==e)),alert("Canal desconectado")}catch(e){alert("Error al desconectar el canal: "+(e.response?.data?.message||"Error desconocido"))}},tn=async e=>{try{let t=await d.$z.channels.generateInviteLink(e);if(t.data.success){let e=await d.$z.channels.getAll();Z(e.data.channels||[]),alert("✅ Enlace de invitaci\xf3n generado: "+t.data.inviteLink)}else alert("Error: "+(t.data.error||"No se pudo generar el enlace"))}catch(e){alert("Error: "+(e.response?.data?.message||"Error al generar enlace"))}},tl=async()=>{if(e5){e6(!1),ey(e5.id);try{let e=await d.$z.publishProduct(e5.id);console.log("Publish response:",e.data),e.data.success?alert("✅ \xa1Publicado! Tu producto ya est\xe1 en tu canal de Telegram"):alert("❌ "+(e.data.message||"Error al publicar"))}catch(e){console.error("Publish error:",e),alert("❌ Error: "+(e.response?.data?.message||"Error al publicar en Telegram"))}finally{ey(null),e3(null)}}},ti=()=>{e6(!1),e3(null)},to=()=>{M(null),B({title:"",description:"",priceCents:"",billingType:"ONE_TIME",subscriptionInterval:"MONTHLY",telegramChannelId:"",active:!0}),U(""),L(!0)},tc=e=>{M(e),B({title:e.title||"",description:e.description||"",priceCents:e.priceCents?(e.priceCents/100).toString():"",billingType:e.billingType||"ONE_TIME",subscriptionInterval:e.billingPeriod||"MONTHLY",telegramChannelId:e.telegramChannelId||"",active:e.active??!0}),U(""),L(!0)},td=e=>{M(e),$(!0)},tu=async()=>{try{if(!z.title.trim()){U("El t\xedtulo es obligatorio");return}let e=parseFloat(z.priceCents);if(isNaN(e)||e<0){U("El precio debe ser un n\xfamero v\xe1lido mayor o igual a 0");return}H(!0),U("");let t={title:z.title.trim(),description:z.description.trim()||void 0,priceCents:Math.round(100*e),billingType:z.billingType,billingPeriod:"SUBSCRIPTION"===z.billingType?z.subscriptionInterval:void 0,telegramChannelId:z.telegramChannelId||void 0,currency:"EUR"};if(O)await d.fi.update(O.id,t),z.active!==O.active&&(z.active?await d.fi.publish(O.id):await d.fi.pause(O.id));else{let e=await d.fi.create(t);z.active&&e.data?.id&&await d.fi.publish(e.data.id)}await e4(),tm()}catch(e){console.error("Error saving product:",e),U(e.response?.data?.message||"Error al guardar el producto. Por favor, intenta de nuevo.")}finally{H(!1)}},tm=()=>{L(!1),$(!1),M(null),U("")},tx=e=>{let t=V.find(t=>t.channelId===e);return t?t.channelTitle:e};return A?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})}):(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("aside",{className:"fixed top-0 left-0 w-64 h-full bg-white border-r border-gray-200",children:(0,l.jsxs)("div",{className:"p-6",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-8",children:"Antia"}),(0,l.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[l.jsx("div",{className:"text-sm text-gray-500",children:m?.tipsterProfile?.publicName||m?.email||"Cargando..."}),(0,l.jsxs)("div",{className:"text-xs text-gray-400",children:["#",m?.tipsterProfile?.id?.slice(-4)||"----"]})]}),(0,l.jsxs)("nav",{className:"space-y-2",children:[l.jsx("button",{onClick:()=>s("dashboard"),className:`w-full text-left px-4 py-2 rounded-lg ${"dashboard"===a?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:"Dashboard"}),E.forecasts&&(0,l.jsxs)(l.Fragment,{children:[l.jsx("button",{onClick:()=>s("products"),className:`w-full text-left px-4 py-2 rounded-lg ${"products"===a?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:"\uD83C\uDFAF Mis Productos"}),l.jsx("button",{onClick:()=>s("telegram"),className:`w-full text-left px-4 py-2 rounded-lg ${"telegram"===a?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:(0,l.jsxs)("span",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"\uD83D\uDCF1 Telegram"}),V.length>0&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:V.length})]})})]}),E.affiliate&&l.jsx("button",{onClick:()=>s("referrals"),className:`w-full text-left px-4 py-2 rounded-lg ${"referrals"===a?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:"\uD83E\uDD1D Afiliaci\xf3n"}),l.jsx("button",{onClick:()=>s("payouts"),className:`w-full text-left px-4 py-2 rounded-lg ${"payouts"===a?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:(0,l.jsxs)("span",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"\uD83D\uDCB5 Liquidaciones"}),(b?.netEarningsCents||0)>0&&l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:t(b?.netEarningsCents||0)})]})}),C.needsKyc&&l.jsx("button",{onClick:()=>s("kyc"),className:`w-full text-left px-4 py-2 rounded-lg ${"kyc"===a?"bg-orange-50 text-orange-600 font-medium":"text-orange-600 hover:bg-orange-50 animate-pulse"}`,children:(0,l.jsxs)("span",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"\uD83C\uDFE6 Datos de Cobro"}),l.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-orange-100 text-orange-800",children:"Pendiente"})]})}),l.jsx("button",{onClick:()=>s("profile"),className:`w-full text-left px-4 py-2 rounded-lg ${"profile"===a?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:"⚙️ Perfil"}),l.jsx("button",{onClick:()=>s("support"),className:`w-full text-left px-4 py-2 rounded-lg ${"support"===a?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:"❓ Soporte"}),l.jsx("button",{onClick:tt,className:"w-full text-left px-4 py-2 rounded-lg text-red-600 hover:bg-red-50",children:"\uD83D\uDEAA Cerrar Sesi\xf3n"})]})]})}),(0,l.jsxs)("main",{className:"ml-64 p-8",children:[(0,l.jsxs)("div",{className:"fixed top-4 right-8 z-50 flex items-center gap-3",children:[l.jsx(aU,{}),l.jsx(S.Z,{variant:"pill"})]}),C.needsKyc&&"kyc"!==a&&l.jsx(T,{onComplete:()=>s("kyc")}),"kyc"===a&&l.jsx(_,{onComplete:e8,onCancel:()=>s("dashboard"),initialData:C.kycData}),"dashboard"===a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["Hola ",m?.tipsterProfile?.publicName?.split(" ")[0]||"Tipster",", Bienvenido de nuevo!"]}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Aqu\xed est\xe1 un resumen de tu actividad"})]}),(0,l.jsxs)("div",{className:`grid grid-cols-1 md:grid-cols-2 ${E.forecasts?"lg:grid-cols-4":"lg:grid-cols-3"} gap-6 mb-8`,children:[E.forecasts&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-blue-100",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("div",{className:"text-sm text-gray-500",children:"\uD83D\uDCB0 Ingresos Brutos"})}),l.jsx("div",{className:"text-3xl font-bold text-blue-600",children:t(b?.grossEarningsCents||b?.totalEarningsCents||0)}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Total facturado este mes"})]}),E.forecasts&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCB5 Ventas"}),l.jsx("div",{className:"text-3xl font-bold text-gray-900",children:b?.totalSales||0}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Total de ventas"})]}),E.forecasts&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCE6 Productos"}),l.jsx("div",{className:"text-3xl font-bold text-gray-900",children:p.length}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:[p.filter(e=>e.active).length," activos"]})]}),E.affiliate&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 border-2 border-purple-100",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83E\uDD1D Ganancias Afiliaci\xf3n"}),l.jsx("div",{className:"text-3xl font-bold text-purple-600",children:t(g?.totalEarnings||0)}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Comisiones pendientes"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDC65 Referidos FTD"}),l.jsx("div",{className:"text-3xl font-bold text-gray-900",children:g?.ftds||0}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"First Time Deposits"})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"\uD83D\uDCC5 Pr\xf3xima Liquidaci\xf3n"}),l.jsx("div",{className:"text-xl font-bold text-gray-900",children:(()=>{let e=new Date,t=e.getDay(),r=new Date(e);return r.setDate(e.getDate()+((7-t)%7||7)),r.toLocaleDateString("es-ES",{day:"numeric",month:"short"})})()}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:l.jsx("button",{onClick:()=>s("payouts"),className:"text-blue-600 hover:underline",children:"Ver liquidaciones →"})})]})]}),E.forecasts&&(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,l.jsxs)("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Mis Productos"}),l.jsx("button",{onClick:to,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm",children:"+ Crear Producto"})]}),l.jsx("div",{className:"p-6",children:0===p.length?(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx("p",{className:"text-gray-500 mb-4",children:"No tienes productos a\xfan"}),l.jsx("button",{onClick:to,className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Crear tu primer producto"})]}):l.jsx("div",{className:"space-y-4",children:p.slice(0,5).map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg hover:bg-gray-50 transition",children:[(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-gray-900",children:e.title}),(0,l.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[l.jsx("span",{className:"text-sm font-medium text-green-600",children:t(e.priceCents)}),l.jsx("span",{className:`text-xs px-2 py-1 rounded ${e.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"}`,children:e.active?"Activo":"Pausado"}),e.telegramChannelId&&(0,l.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-blue-50 text-blue-700",children:["\uD83D\uDCF1 ",tx(e.telegramChannelId)]})]})]}),l.jsx("button",{onClick:()=>td(e),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Ver"})]},e.id))})})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Ventas Recientes"})}),l.jsx("div",{className:"p-6",children:0===v.length?l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-gray-500",children:"No hay ventas a\xfan"})}):l.jsx("div",{className:"space-y-4",children:v.slice(0,5).map(e=>(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-100 rounded-lg",children:[(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium text-gray-900",children:e.productTitle||"Producto"}),l.jsx("p",{className:"text-sm text-gray-500",children:e.emailBackup||"Cliente"})]}),(0,l.jsxs)("div",{className:"text-right",children:[l.jsx("p",{className:"font-medium text-green-600",children:t(e.amountCents||0)}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString("es-ES")})]})]},e.id))})})]})]}),E.affiliate&&!E.forecasts&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83E\uDD1D Resumen de Afiliaci\xf3n"})}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Clics"}),l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:g?.clicks||0})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"Registros"}),l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:g?.registers||0})]}),(0,l.jsxs)("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[l.jsx("p",{className:"text-sm text-gray-600",children:"FTDs"}),l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:g?.ftds||0})]})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("button",{onClick:()=>s("referrals"),className:"text-purple-600 hover:underline",children:"Ver detalle de afiliaci\xf3n →"})})]})]})]}),"products"===a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Productos"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona tus pron\xf3sticos y suscripciones"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Lista de Productos"}),l.jsx("button",{onClick:to,className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition text-sm font-medium",children:"+ Crear Producto"})]})}),l.jsx("div",{className:"p-6",children:0===p.length?(0,l.jsxs)("div",{className:"text-center py-12",children:[l.jsx("p",{className:"text-gray-500 mb-4",children:"No tienes productos a\xfan"}),l.jsx("button",{onClick:to,className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Crear tu primer producto"})]}):l.jsx("div",{className:"space-y-4",children:p.map(e=>(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:e.title}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:e.description}),(0,l.jsxs)("div",{className:"flex items-center gap-4 mt-2",children:[(0,l.jsxs)("span",{className:"text-sm font-medium text-green-600",children:["€",(e.priceCents/100).toFixed(2)]}),l.jsx("span",{className:`text-xs px-2 py-1 rounded ${e.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"}`,children:e.active?"Activo":"Pausado"}),l.jsx("span",{className:"text-xs text-gray-500",children:"SUBSCRIPTION"===e.billingType?"Suscripci\xf3n":"Pago \xfanico"}),e.telegramChannelId&&(0,l.jsxs)("span",{className:"text-xs px-2 py-1 rounded bg-blue-50 text-blue-700",children:["\uD83D\uDCF1 ",tx(e.telegramChannelId)]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{let t=`${window.location.origin}/checkout/${e.id}`,r=`🔥 ${e.title}

${e.description||""}

💰 Precio: €${(e.priceCents/100).toFixed(2)}

👉 Comprar aqu\xed: ${t}`;navigator.clipboard.writeText(r),alert("✅ Texto copiado al portapapeles!\n\nP\xe9galo en tu canal de Telegram, Instagram, o donde quieras.")},className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm flex items-center gap-2 hover:bg-green-700",title:"Copiar link de checkout con texto sugerido",children:"\uD83D\uDCCB Copiar Link"}),l.jsx("button",{onClick:()=>tc(e),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 text-sm",children:"Editar"}),l.jsx("button",{onClick:()=>td(e),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:"Ver"})]})]}),(0,l.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 mt-3",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between gap-3",children:[(0,l.jsxs)("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs text-green-600 font-medium mb-1",children:"\uD83D\uDCB3 Link de Pago Directo (para tu canal)"}),(0,l.jsxs)("code",{className:"text-xs text-green-800 bg-white px-2 py-1 rounded border border-green-200 block truncate",children:["","/checkout/",e.id]})]}),l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`/checkout/${e.id}`),alert("✅ Link de checkout copiado")},className:"flex-shrink-0 px-3 py-1.5 bg-green-600 text-white text-xs rounded hover:bg-green-700",children:"\uD83D\uDCCB Copiar"})]}),l.jsx("p",{className:"text-xs text-green-700 mt-2",children:"\uD83D\uDCE2 Publica este link en tu canal. El cliente paga y autom\xe1ticamente recibe acceso via Telegram."})]})]},e.id))})})]})]}),"telegram"===a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83D\uDCF1 Canal Premium"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Conecta tu canal privado donde los clientes recibir\xe1n acceso despu\xe9s de pagar"})]}),(0,l.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 via-indigo-50 to-purple-50 border-2 border-blue-200 rounded-2xl p-8 mb-8 shadow-sm",children:[(0,l.jsxs)("div",{className:"text-center mb-6",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\uD83D\uDCD6 Gu\xeda Completa: C\xf3mo conectar tu canal premium"}),l.jsx("p",{className:"text-gray-600",children:"Sigue estos pasos para que tus clientes reciban acceso autom\xe1tico despu\xe9s de comprar"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[l.jsx("div",{className:"bg-white rounded-xl p-6 border-2 border-blue-100 shadow-sm",children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center text-xl font-bold flex-shrink-0",children:"1"}),(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Crea tu canal privado en Telegram"}),(0,l.jsxs)("div",{className:"text-gray-600 space-y-2",children:[(0,l.jsxs)("p",{children:["\uD83D\uDC49 Abre Telegram y ve a ",l.jsx("strong",{children:"Nuevo Canal"})]}),l.jsx("p",{children:'\uD83D\uDC49 Ponle un nombre (ej: "VIP Pron\xf3sticos Premium")'}),(0,l.jsxs)("p",{children:["\uD83D\uDC49 ",l.jsx("strong",{className:"text-red-600",children:"\xa1IMPORTANTE!"})," Selecciona ",l.jsx("strong",{children:'"Canal Privado"'})]}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"\uD83D\uDCA1 El canal privado es donde tus clientes de pago recibir\xe1n tus pron\xf3sticos exclusivos."})]})]})]})}),l.jsx("div",{className:"bg-white rounded-xl p-6 border-2 border-green-100 shadow-sm",children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-green-600 text-white rounded-full flex items-center justify-center text-xl font-bold flex-shrink-0",children:"2"}),(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Agrega al bot como administrador"}),(0,l.jsxs)("div",{className:"text-gray-600 space-y-2",children:[(0,l.jsxs)("p",{children:["\uD83D\uDC49 Entra a tu canal y toca el ",l.jsx("strong",{children:"nombre del canal"})," (arriba)"]}),(0,l.jsxs)("p",{children:["\uD83D\uDC49 Toca ",l.jsx("strong",{children:'"Administradores"'})," → ",l.jsx("strong",{children:'"Agregar Administrador"'})]}),(0,l.jsxs)("p",{children:["\uD83D\uDC49 Busca: ",l.jsx("code",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded font-mono font-bold",children:"@Antiabetbot"})]}),l.jsx("p",{children:"\uD83D\uDC49 Dale estos permisos:"}),(0,l.jsxs)("div",{className:"ml-6 mt-2 p-3 bg-gray-50 rounded-lg",children:[(0,l.jsxs)("p",{className:"text-sm",children:["✅ ",l.jsx("strong",{children:"Invitar usuarios mediante enlace"})," (obligatorio)"]}),l.jsx("p",{className:"text-sm text-gray-500",children:"Los dem\xe1s permisos puedes dejarlos desactivados"})]})]})]})]})}),l.jsx("div",{className:"bg-white rounded-xl p-6 border-2 border-purple-100 shadow-sm",children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-purple-600 text-white rounded-full flex items-center justify-center text-xl font-bold flex-shrink-0",children:"3"}),(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Obt\xe9n el ID de tu canal"}),(0,l.jsxs)("div",{className:"text-gray-600 space-y-2",children:[(0,l.jsxs)("p",{children:["\uD83D\uDC49 Abre Telegram y busca: ",l.jsx("code",{className:"bg-purple-100 text-purple-800 px-2 py-1 rounded font-mono font-bold",children:"@userinfobot"})]}),l.jsx("p",{children:"\uD83D\uDC49 Inicia una conversaci\xf3n con ese bot"}),(0,l.jsxs)("p",{children:["\uD83D\uDC49 ",l.jsx("strong",{children:"Reenv\xeda cualquier mensaje de tu canal"})," a @userinfobot"]}),(0,l.jsxs)("p",{children:["\uD83D\uDC49 El bot te responder\xe1 con informaci\xf3n, busca el n\xfamero que dice ",l.jsx("strong",{children:'"Id"'})]}),(0,l.jsxs)("div",{className:"mt-3 p-4 bg-purple-50 rounded-lg border border-purple-200",children:[l.jsx("p",{className:"text-sm text-purple-800 font-medium mb-1",children:"\uD83D\uDCCB Ejemplo de ID:"}),l.jsx("code",{className:"text-lg font-mono font-bold text-purple-700",children:"-1001234567890"}),(0,l.jsxs)("p",{className:"text-xs text-purple-600 mt-1",children:["El ID siempre empieza con ",l.jsx("strong",{children:"-100"})," seguido de n\xfameros"]})]})]})]})]})}),l.jsx("div",{className:"bg-white rounded-xl p-6 border-2 border-orange-100 shadow-sm",children:(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-orange-600 text-white rounded-full flex items-center justify-center text-xl font-bold flex-shrink-0",children:"4"}),(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"Conecta el canal aqu\xed en Antia"}),(0,l.jsxs)("div",{className:"text-gray-600 space-y-2",children:[(0,l.jsxs)("p",{children:["\uD83D\uDC49 Haz clic en el bot\xf3n ",l.jsx("strong",{className:"text-blue-600",children:'"+ A\xf1adir Canal"'})," de abajo"]}),(0,l.jsxs)("p",{children:["\uD83D\uDC49 Pega el ",l.jsx("strong",{children:"ID del canal"})," que obtuviste (ej: -1001234567890)"]}),l.jsx("p",{children:"\uD83D\uDC49 Ponle un nombre para identificarlo"}),(0,l.jsxs)("p",{children:["\uD83D\uDC49 Haz clic en ",l.jsx("strong",{children:'"Verificar y Conectar"'})]}),l.jsx("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:(0,l.jsxs)("p",{className:"text-sm text-green-800",children:["✅ ",l.jsx("strong",{children:"\xa1Listo!"})," Una vez conectado, podr\xe1s asignar este canal a tus productos y los clientes recibir\xe1n acceso autom\xe1ticamente despu\xe9s de pagar."]})})]})]})]})})]}),(0,l.jsxs)("div",{className:"mt-6 p-4 bg-yellow-50 rounded-xl border border-yellow-200",children:[l.jsx("h4",{className:"font-bold text-yellow-800 mb-2",children:"\uD83E\uDD16 Resumen de bots que necesitas:"}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"@Antiabetbot"}),l.jsx("p",{className:"text-sm text-gray-600",children:"El bot de Antia - agr\xe9galo como admin a tu canal"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg p-3",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"@userinfobot"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Para obtener el ID - reenv\xedale un mensaje de tu canal"})]})]})]}),l.jsx("div",{className:"mt-4 p-4 bg-red-50 rounded-xl border border-red-200",children:(0,l.jsxs)("p",{className:"text-red-800",children:["⚠️ ",l.jsx("strong",{children:"\xa1No confundas!"})," Solo conecta tu canal ",l.jsx("strong",{children:"PRIVADO/PREMIUM"})," (el de pago). Tu canal p\xfablico donde haces marketing NO necesita conectarse aqu\xed."]})})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("h2",{className:"text-xl font-bold text-gray-900 flex items-center gap-2",children:["\uD83D\uDD12 Canales Premium",l.jsx("span",{className:"text-xs font-normal px-2 py-0.5 bg-blue-100 text-blue-700 rounded",children:"Para clientes"})]}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Estos son los canales privados donde tus clientes reciben acceso despu\xe9s de comprar."})]}),l.jsx("button",{onClick:()=>K(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 text-sm font-medium",children:"+ A\xf1adir Canal"})]}),0===V.length?(0,l.jsxs)("div",{className:"text-center py-12 border-2 border-dashed border-gray-200 rounded-lg",children:[l.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCF1"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"No tienes canales conectados"}),l.jsx("p",{className:"text-sm text-gray-400 mb-4",children:'Sigue la gu\xeda de arriba y luego haz clic en "A\xf1adir Canal"'}),l.jsx("button",{onClick:()=>K(!0),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700",children:"A\xf1adir mi primer canal"})]}):l.jsx("div",{className:"space-y-4",children:V.map(e=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-blue-300 transition",children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center ${"public"===e.channelType?"bg-green-100":"bg-blue-100"}`,children:l.jsx("span",{className:"text-2xl",children:"public"===e.channelType?"\uD83C\uDF10":"\uD83D\uDD12"})}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:e.channelTitle}),(0,l.jsxs)("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-500",children:[e.channelName&&(0,l.jsxs)("span",{children:["@",e.channelName]}),l.jsx("span",{className:`px-2 py-0.5 rounded text-xs ${"public"===e.channelType?"bg-green-50 text-green-700":"bg-blue-50 text-blue-700"}`,children:"public"===e.channelType?"P\xfablico":"Privado"}),e.memberCount&&(0,l.jsxs)("span",{children:[e.memberCount," miembros"]})]}),(0,l.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["ID: ",e.channelId," • Conectado: ",new Date(e.connectedAt).toLocaleDateString("es-ES")]}),e.inviteLink&&(0,l.jsxs)("div",{className:"mt-2",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"Enlace: "}),l.jsx("a",{href:e.inviteLink,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-600 hover:underline",children:e.inviteLink})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:["private"===e.channelType&&l.jsx("button",{onClick:()=>tn(e.id),className:"px-3 py-1.5 text-xs border border-gray-300 rounded hover:bg-gray-50",title:"Generar enlace de invitaci\xf3n",children:"\uD83D\uDD17 Generar Link"}),l.jsx("button",{onClick:()=>ts(e.id),className:"px-3 py-1.5 text-xs text-red-600 border border-red-300 rounded hover:bg-red-50",children:"Desconectar"})]})]})},e.id))})]})]}),"referrals"===a&&l.jsx(k,{}),"payouts"===a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"\uD83D\uDCB5 Liquidaciones"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona tus ingresos y pagos"})]}),l.jsx("div",{className:"bg-white rounded-lg shadow mb-6",children:l.jsx("div",{className:"border-b border-gray-200",children:(0,l.jsxs)("nav",{className:"flex -mb-px",children:[l.jsx("button",{onClick:()=>o("liquidaciones"),className:`px-6 py-4 text-sm font-medium border-b-2 ${"liquidaciones"===n?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83D\uDCCA Liquidaciones"}),l.jsx("button",{onClick:()=>o("facturas"),className:`px-6 py-4 text-sm font-medium border-b-2 ${"facturas"===n?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83D\uDCC4 Facturas"}),l.jsx("button",{onClick:()=>o("pagos"),className:`px-6 py-4 text-sm font-medium border-b-2 ${"pagos"===n?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"\uD83D\uDCB3 Pagos Recibidos"})]})})}),"liquidaciones"===n&&(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Balance Pendiente"}),l.jsx("div",{className:"text-3xl font-bold text-blue-600",children:t(b?.netEarningsCents||0)}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Pr\xf3xima liquidaci\xf3n: Domingo"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Total Liquidado (Hist\xf3rico)"}),l.jsx("div",{className:"text-3xl font-bold text-green-600",children:"€0.00"}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Desde el inicio"})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("div",{className:"text-sm text-gray-500 mb-2",children:"Pr\xf3xima Liquidaci\xf3n"}),l.jsx("div",{className:"text-xl font-bold text-gray-900",children:(()=>{let e=new Date,t=e.getDay(),r=new Date(e);return r.setDate(e.getDate()+((7-t)%7||7)),r.toLocaleDateString("es-ES",{weekday:"long",day:"numeric",month:"long"})})()}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Pron\xf3sticos: cada 7 d\xedas"})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,l.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCA Desglose del Per\xedodo Actual"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Detalle de comisiones y neto a recibir"})]}),l.jsx("div",{className:"p-6",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsx("table",{className:"w-full",children:(0,l.jsxs)("tbody",{className:"divide-y divide-gray-100",children:[(0,l.jsxs)("tr",{children:[l.jsx("td",{className:"py-4 text-gray-600",children:"Ingresos Brutos"}),l.jsx("td",{className:"py-4 text-right font-semibold text-gray-900",children:t(b?.grossEarningsCents||0)})]}),(0,l.jsxs)("tr",{className:"bg-red-50",children:[l.jsx("td",{className:"py-4 text-gray-600",children:(0,l.jsxs)("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-red-500",children:"−"}),"Comisi\xf3n Pasarela (Stripe/Redsys)"]})}),(0,l.jsxs)("td",{className:"py-4 text-right font-semibold text-red-600",children:["-",t(b?.gatewayFeesCents||0)]})]}),(0,l.jsxs)("tr",{className:"bg-orange-50",children:[l.jsx("td",{className:"py-4 text-gray-600",children:(0,l.jsxs)("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-orange-500",children:"−"}),"Comisi\xf3n Antia (Plataforma)"]})}),(0,l.jsxs)("td",{className:"py-4 text-right font-semibold text-orange-600",children:["-",t(b?.platformFeesCents||0)]})]}),(0,l.jsxs)("tr",{className:"bg-green-50 border-t-2 border-green-200",children:[l.jsx("td",{className:"py-4 text-gray-900 font-semibold",children:(0,l.jsxs)("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-green-600",children:"="}),"Neto a Recibir"]})}),l.jsx("td",{className:"py-4 text-right font-bold text-green-600 text-xl",children:t(b?.netEarningsCents||0)})]})]})})})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-xl",children:"\uD83C\uDFAF"})}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Pron\xf3sticos"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Venta de productos"})]})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Frecuencia"}),l.jsx("span",{className:"font-medium",children:"Cada 7 d\xedas"})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Comisi\xf3n Antia"}),l.jsx("span",{className:"font-medium text-orange-600",children:"10% (7% alto volumen)"})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Pendiente"}),l.jsx("span",{className:"font-bold text-blue-600",children:t(b?.netEarningsCents||0)})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,l.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[l.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:l.jsx("span",{className:"text-xl",children:"\uD83E\uDD1D"})}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"font-semibold text-gray-900",children:"Afiliaci\xf3n"}),l.jsx("p",{className:"text-xs text-gray-500",children:"Casas de apuestas"})]})]}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Frecuencia"}),l.jsx("span",{className:"font-medium",children:"1 vez al mes"})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Comisi\xf3n Antia"}),l.jsx("span",{className:"font-medium text-green-600",children:"Sin comisi\xf3n"})]}),(0,l.jsxs)("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-gray-600",children:"Pendiente"}),l.jsx("span",{className:"font-bold text-purple-600",children:"€0.00"})]})]})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCB Historial de Liquidaciones"})}),l.jsx("div",{className:"p-6",children:(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCED"}),l.jsx("p",{className:"text-gray-500",children:"No hay liquidaciones procesadas a\xfan"}),l.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Tu primera liquidaci\xf3n se procesar\xe1 el pr\xf3ximo domingo"})]})})]})]}),"facturas"===n&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,l.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCC4 Facturas"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Descarga tus facturas de liquidaci\xf3n"})]}),l.jsx("div",{className:"p-6",children:(0,l.jsxs)("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCC4"}),l.jsx("p",{className:"text-gray-500",children:"No hay facturas disponibles"}),l.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Las facturas se generan autom\xe1ticamente con cada liquidaci\xf3n"})]})})]}),"pagos"===n&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,l.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCB3 Pagos Recibidos"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Historial de transferencias a tu cuenta"})]}),l.jsx("div",{className:"p-6",children:(0,l.jsxs)("div",{className:"text-center py-12",children:[l.jsx("div",{className:"text-4xl mb-4",children:"\uD83D\uDCB8"}),l.jsx("p",{className:"text-gray-500",children:"No hay pagos recibidos a\xfan"}),l.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Aqu\xed ver\xe1s el historial de pagos realizados a tu cuenta bancaria"})]})})]})]}),"profile"===a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mi Perfil"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Configuraci\xf3n de tu cuenta"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-6",children:"Informaci\xf3n Personal"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre P\xfablico"}),l.jsx("input",{type:"text",value:m?.tipsterProfile?.publicName||"",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),l.jsx("input",{type:"email",value:m?.email||"",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tel\xe9fono"}),l.jsx("input",{type:"text",value:m?.phone||"No configurado",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Usuario de Telegram"}),l.jsx("input",{type:"text",value:m?.tipsterProfile?.telegramUsername||"No configurado",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Estado de la cuenta"}),l.jsx("span",{className:`inline-flex px-3 py-1 rounded-full text-sm font-medium ${m?.status==="ACTIVE"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:m?.status==="ACTIVE"?"✓ Activa":m?.status})]}),l.jsx("div",{className:"pt-4 border-t",children:l.jsx("p",{className:"text-sm text-gray-500",children:"Para modificar tu informaci\xf3n de perfil, contacta con el administrador."})})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83C\uDFE6 Datos de Cobro"}),C.kycCompleted?l.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"✓ Completo"}):l.jsx("span",{className:"px-3 py-1 bg-orange-100 text-orange-800 rounded-full text-sm font-medium",children:"Pendiente"})]}),C.kycCompleted&&C.kycData?(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre/Raz\xf3n Social"}),l.jsx("input",{type:"text",value:C.kycData.legalName||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Documento"}),l.jsx("input",{type:"text",value:C.kycData.documentType||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"N\xfamero"}),l.jsx("input",{type:"text",value:C.kycData.documentNumber||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pa\xeds"}),l.jsx("input",{type:"text",value:C.kycData.country||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"M\xe9todo de Cobro"}),l.jsx("input",{type:"text",value:C.kycData.bankAccountType||"-",readOnly:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg bg-gray-50 text-gray-600"})]}),l.jsx("div",{className:"pt-4 border-t",children:l.jsx("button",{onClick:()=>s("kyc"),className:"w-full px-4 py-2 bg-blue-50 text-blue-600 rounded-lg hover:bg-blue-100 font-medium transition",children:"✏️ Modificar Datos de Cobro"})})]}):(0,l.jsxs)("div",{className:"text-center py-8",children:[l.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-3xl",children:"\uD83D\uDCCB"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Datos no configurados"}),l.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Completa tus datos de cobro para poder recibir tus ganancias"}),l.jsx("button",{onClick:()=>s("kyc"),className:"px-6 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 font-medium transition",children:"Completar Ahora"})]})]})]})]}),"support"===a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"mb-8",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"❓ Soporte"}),l.jsx("p",{className:"text-gray-600 mt-1",children:"Centro de ayuda y tickets de soporte"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"lg:col-span-1",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"\uD83D\uDCDD Nuevo Ticket"}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asunto *"}),l.jsx("input",{type:"text",value:eV.subject,onChange:e=>eZ({...eV,subject:e.target.value}),placeholder:"Describe brevemente tu problema",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje *"}),l.jsx("textarea",{value:eV.message,onChange:e=>eZ({...eV,message:e.target.value}),placeholder:"Explica tu problema con detalle...",rows:5,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Adjuntar archivos (opcional)"}),(0,l.jsxs)("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4 text-center hover:border-blue-400 transition cursor-pointer",onClick:()=>document.getElementById("ticket-file-input")?.click(),children:[l.jsx("input",{id:"ticket-file-input",type:"file",multiple:!0,accept:"image/*,.pdf,.doc,.docx",className:"hidden",onChange:e=>{let t=Array.from(e.target.files||[]);eQ(e=>[...e,...t].slice(0,5))}}),(0,l.jsxs)("div",{className:"text-gray-500",children:[l.jsx("span",{className:"text-2xl",children:"\uD83D\uDCCE"}),l.jsx("p",{className:"text-sm mt-1",children:"Haz clic para adjuntar capturas o documentos"}),l.jsx("p",{className:"text-xs text-gray-400",children:"M\xe1x. 5 archivos (im\xe1genes, PDF, DOC)"})]})]}),eJ.length>0&&l.jsx("div",{className:"mt-3 space-y-2",children:eJ.map((e,t)=>(0,l.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-lg px-3 py-2",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx("span",{children:e.type.startsWith("image/")?"\uD83D\uDDBC️":"\uD83D\uDCC4"}),l.jsx("span",{className:"truncate max-w-[150px]",children:e.name}),(0,l.jsxs)("span",{className:"text-gray-400 text-xs",children:["(",(e.size/1024).toFixed(1)," KB)"]})]}),l.jsx("button",{onClick:()=>eQ(e=>e.filter((e,r)=>r!==t)),className:"text-red-500 hover:text-red-700 text-sm",children:"✕"})]},t))})]}),l.jsx("button",{onClick:e9,disabled:!eV.subject.trim()||!eV.message.trim()||eX,className:"w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition disabled:opacity-50 disabled:cursor-not-allowed",children:eX?"Enviando...":"Enviar Ticket"})]})]}),(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mt-6",children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"❓ Preguntas Frecuentes"}),(0,l.jsxs)("div",{className:"space-y-3",children:[(0,l.jsxs)("details",{className:"group",children:[l.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 hover:text-blue-600",children:"\xbfC\xf3mo conecto mi canal de Telegram?"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600 pl-4",children:"Ve a la secci\xf3n Telegram, a\xf1ade @Antiabetbot como admin de tu canal y luego conecta el canal desde el panel."})]}),(0,l.jsxs)("details",{className:"group",children:[l.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 hover:text-blue-600",children:"\xbfCu\xe1ndo recibo mis pagos?"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600 pl-4",children:"Las liquidaciones se procesan el d\xeda 28 de cada mes. Aseg\xfarate de tener tus datos de cobro completos."})]}),(0,l.jsxs)("details",{className:"group",children:[l.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-700 hover:text-blue-600",children:"\xbfC\xf3mo creo un producto sin canal?"}),l.jsx("p",{className:"mt-2 text-sm text-gray-600 pl-4",children:'Al crear un producto, selecciona "Sin canal" en la opci\xf3n de canal. Los clientes recibir\xe1n confirmaci\xf3n por email.'})]})]})]})]}),(0,l.jsxs)("div",{className:"lg:col-span-2",children:[(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"\uD83D\uDCCB Mis Tickets"})}),e_?(0,l.jsxs)("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-2 text-gray-500",children:"Cargando tickets..."})]}):0===e$.length?(0,l.jsxs)("div",{className:"p-8 text-center",children:[l.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx("span",{className:"text-3xl",children:"\uD83D\uDCED"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tienes tickets"}),l.jsx("p",{className:"text-gray-500 text-sm",children:"Cuando crees un ticket, aparecer\xe1 aqu\xed"})]}):l.jsx("div",{className:"divide-y divide-gray-200",children:e$.map(e=>l.jsx("div",{className:`p-4 hover:bg-gray-50 cursor-pointer transition ${eW?.id===e.id?"bg-blue-50":""}`,onClick:()=>eU(e),children:(0,l.jsxs)("div",{className:"flex items-start justify-between",children:[(0,l.jsxs)("div",{className:"flex-1",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-medium text-gray-900",children:e.subject}),l.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${"OPEN"===e.status?"bg-yellow-100 text-yellow-800":"IN_PROGRESS"===e.status?"bg-blue-100 text-blue-800":"RESOLVED"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:"OPEN"===e.status?"Abierto":"IN_PROGRESS"===e.status?"En proceso":"RESOLVED"===e.status?"Resuelto":e.status})]}),l.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:e.messages?.[0]?.message||e.message}),(0,l.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Creado: ",new Date(e.createdAt).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})]})]}),l.jsx("div",{className:"ml-4",children:e.responses?.length>0&&(0,l.jsxs)("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded text-xs",children:[e.responses.length+1," mensajes"]})})]})},e.id))})]}),eW&&(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow mt-6",children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"text-lg font-bold text-gray-900",children:eW.subject}),l.jsx("span",{className:`inline-flex px-2 py-0.5 rounded-full text-xs font-medium mt-1 ${"OPEN"===eW.status?"bg-yellow-100 text-yellow-800":"IN_PROGRESS"===eW.status?"bg-blue-100 text-blue-800":"RESOLVED"===eW.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:"OPEN"===eW.status?"Abierto":"IN_PROGRESS"===eW.status?"En proceso":"RESOLVED"===eW.status?"Resuelto":eW.status})]}),l.jsx("button",{onClick:()=>eU(null),className:"text-gray-400 hover:text-gray-600",children:"✕"})]})}),(0,l.jsxs)("div",{className:"p-6 max-h-80 overflow-y-auto space-y-4",children:[(0,l.jsxs)("div",{className:"p-4 rounded-lg bg-gray-50 mr-8",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:"text-sm font-medium text-gray-700",children:"\uD83D\uDC64 T\xfa"}),l.jsx("span",{className:"text-xs text-gray-400",children:new Date(eW.createdAt).toLocaleString("es-ES")})]}),l.jsx("p",{className:"text-gray-700 text-sm",children:eW.message})]}),eW.responses?.map((e,t)=>l.jsxs("div",{className:`p-4 rounded-lg ${e.isAdmin?"bg-blue-50 ml-8":"bg-gray-50 mr-8"}`,children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("span",{className:`text-sm font-medium ${e.isAdmin?"text-blue-600":"text-gray-700"}`,children:e.isAdmin?"\uD83D\uDC64 Soporte Antia":"\uD83D\uDC64 T\xfa"}),l.jsx("span",{className:"text-xs text-gray-400",children:new Date(e.createdAt).toLocaleString("es-ES")})]}),l.jsx("p",{className:"text-gray-700 text-sm",children:e.message})]},t))]}),"RESOLVED"!==eW.status&&l.jsx("div",{className:"p-6 border-t border-gray-200",children:(0,l.jsxs)("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:eY,onChange:e=>eG(e.target.value),placeholder:"Escribe tu respuesta...",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyPress:e=>"Enter"===e.key&&te()}),l.jsx("button",{onClick:te,disabled:!eY.trim(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition disabled:opacity-50",children:"Enviar"})]})})]})]})]})]})]}),e2&&e5&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:ti,children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",onClick:e=>e.stopPropagation(),children:[l.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6 text-white",children:(0,l.jsxs)("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-3xl",children:"\uD83D\uDCF1"})}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"text-xl font-bold",children:"Compartir en Telegram"}),l.jsx("p",{className:"text-green-100 text-sm",children:"Publicaci\xf3n autom\xe1tica"})]})]})}),(0,l.jsxs)("div",{className:"p-6",children:[l.jsx("p",{className:"text-gray-700 mb-4",children:"\xbfEst\xe1s seguro que quieres compartir este producto en tu canal de Telegram?"}),(0,l.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[l.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Producto:"}),l.jsx("p",{className:"font-semibold text-gray-900",children:e5.title})]}),l.jsx("div",{className:"bg-blue-50 rounded-lg p-4 border border-blue-200",children:(0,l.jsxs)("div",{className:"flex items-start gap-3",children:[l.jsx("span",{className:"text-xl",children:"ℹ️"}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("p",{className:"text-sm text-blue-800",children:[l.jsx("strong",{children:"Se publicar\xe1 autom\xe1ticamente"})," en tu canal:"]}),(0,l.jsxs)("p",{className:"text-sm text-blue-600 font-medium mt-1",children:[eC.channelTitle," ",eC.channelUsername&&`(${eC.channelUsername})`]})]})]})})]}),(0,l.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex justify-end gap-3",children:[l.jsx("button",{onClick:ti,className:"px-5 py-2.5 border border-gray-300 rounded-lg hover:bg-gray-100 text-gray-700 font-medium transition",children:"Cancelar"}),(0,l.jsxs)("button",{onClick:tl,className:"px-5 py-2.5 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium transition flex items-center gap-2",children:[l.jsx("span",{children:"\uD83D\uDCE4"})," S\xed, Publicar Ahora"]})]})]})}),X&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>K(!1),children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4",onClick:e=>e.stopPropagation(),children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"A\xf1adir Canal de Telegram"}),l.jsx("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-gray-600",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,l.jsxs)("div",{className:"p-6 space-y-4",children:[es&&l.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-600",children:es})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["ID del Canal ",l.jsx("span",{className:"text-red-500",children:"*"})]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",value:J.channelId,onChange:e=>{Q({...J,channelId:e.target.value}),ea(null)},placeholder:"Ej: -1001234567890",className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("button",{onClick:tr,disabled:ee||!J.channelId.trim(),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:ee?"Verificando...":"Verificar"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes obtener el ID reenviando un mensaje del canal a @userinfobot"})]}),er&&(0,l.jsxs)("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:[l.jsx("p",{className:"text-sm text-green-800 font-medium",children:"✅ Canal verificado"}),(0,l.jsxs)("p",{className:"text-sm text-green-700",children:["Nombre: ",er.title]}),er.username&&(0,l.jsxs)("p",{className:"text-sm text-green-700",children:["@",er.username]}),(0,l.jsxs)("p",{className:"text-sm text-green-700",children:["Tipo: ",er.type]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Nombre del Canal ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:J.channelTitle,onChange:e=>Q({...J,channelTitle:e.target.value}),placeholder:"Ej: Mi Canal Premium",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Canal"}),(0,l.jsxs)("select",{value:J.channelType,onChange:e=>Q({...J,channelType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"private",children:"\uD83D\uDD12 Privado"}),l.jsx("option",{value:"public",children:"\uD83C\uDF10 P\xfablico"})]})]}),"private"===J.channelType&&(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Enlace de Invitaci\xf3n (Opcional)"}),l.jsx("input",{type:"text",value:J.inviteLink,onChange:e=>Q({...J,inviteLink:e.target.value}),placeholder:"Ej: https://t.me/+AbCdEf123456",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Puedes generarlo despu\xe9s desde la lista de canales"})]}),(0,l.jsxs)("div",{className:"flex gap-3 justify-end pt-4",children:[l.jsx("button",{onClick:()=>K(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),l.jsx("button",{onClick:ta,disabled:el||!J.channelId.trim()||!J.channelTitle.trim(),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:el?"A\xf1adiendo...":"A\xf1adir Canal"})]})]})]})}),I&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:tm,children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:O?"Editar Producto":"Crear Nuevo Producto"}),l.jsx("button",{onClick:tm,className:"text-gray-400 hover:text-gray-600",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,l.jsxs)("div",{className:"p-6",children:[W&&l.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:l.jsx("p",{className:"text-sm text-red-600",children:W})}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["T\xedtulo del Producto ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"text",value:z.title,onChange:e=>B({...z,title:e.target.value}),placeholder:"Ej: Pron\xf3sticos Premium Mensuales",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n"}),l.jsx("textarea",{rows:3,value:z.description,onChange:e=>B({...z,description:e.target.value}),placeholder:"Describe tu producto...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Precio (€) ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:z.priceCents,onChange:e=>B({...z,priceCents:e.target.value}),placeholder:"29.99",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Facturaci\xf3n"}),(0,l.jsxs)("select",{value:z.billingType,onChange:e=>B({...z,billingType:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"ONE_TIME",children:"Pago \xfanico"}),l.jsx("option",{value:"SUBSCRIPTION",children:"Suscripci\xf3n"})]})]}),"SUBSCRIPTION"===z.billingType&&(0,l.jsxs)("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Frecuencia de Cobro"}),(0,l.jsxs)("select",{value:z.subscriptionInterval,onChange:e=>B({...z,subscriptionInterval:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"MONTHLY",children:"Mensual"}),l.jsx("option",{value:"QUARTERLY",children:"Trimestral (cada 3 meses)"}),l.jsx("option",{value:"ANNUAL",children:"Anual"})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Si el cliente no renueva, perder\xe1 acceso autom\xe1ticamente al canal"})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Canal de Telegram ",l.jsx("span",{className:"text-red-500",children:"*"})]}),0===V.length?(0,l.jsxs)("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[l.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"⚠️ No tienes canales conectados"}),l.jsx("p",{className:"text-xs text-yellow-700 mb-3",children:"Debes conectar al menos un canal de Telegram para asignarlo a tus productos."}),l.jsx("button",{type:"button",onClick:()=>{tm(),s("telegram")},className:"text-sm text-blue-600 hover:underline font-medium",children:"Ir a conectar un canal →"})]}):(0,l.jsxs)("select",{value:z.telegramChannelId,onChange:e=>B({...z,telegramChannelId:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"",children:"\uD83D\uDEAB Sin canal (solo confirmaci\xf3n de pago)"}),V.map(e=>(0,l.jsxs)("option",{value:e.channelId,children:["public"===e.channelType?"\uD83C\uDF10":"\uD83D\uDD12"," ",e.channelTitle,e.channelName&&` (@${e.channelName})`]},e.id))]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:z.telegramChannelId?"Los clientes recibir\xe1n acceso a este canal despu\xe9s de pagar":"Sin canal: Los clientes solo recibir\xe1n confirmaci\xf3n de pago"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",id:"active",checked:z.active,onChange:e=>B({...z,active:e.target.checked}),className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),l.jsx("label",{htmlFor:"active",className:"ml-2 text-sm text-gray-700",children:"Producto activo"})]})]}),(0,l.jsxs)("div",{className:"mt-6 flex gap-3 justify-end",children:[l.jsx("button",{onClick:tm,disabled:q,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition disabled:opacity-50",children:"Cancelar"}),l.jsx("button",{onClick:tu,disabled:q,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition disabled:opacity-50 flex items-center gap-2",children:q?(0,l.jsxs)(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Guardando..."]}):O?"Guardar Cambios":"Crear Producto"})]})]})]})}),F&&O&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:tm,children:(0,l.jsxs)("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",onClick:e=>e.stopPropagation(),children:[l.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:O.title}),l.jsx("button",{onClick:tm,className:"text-gray-400 hover:text-gray-600",children:l.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Descripci\xf3n"}),l.jsx("p",{className:"text-gray-900",children:O.description||"Sin descripci\xf3n"})]}),(0,l.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Precio"}),(0,l.jsxs)("p",{className:"text-2xl font-bold text-green-600",children:["€",(O.priceCents/100).toFixed(2)]})]}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Estado"}),l.jsx("span",{className:`inline-block px-3 py-1 rounded text-sm font-medium ${O.active?"bg-green-50 text-green-700":"bg-gray-100 text-gray-600"}`,children:O.active?"Activo":"Pausado"})]})]}),(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Tipo de Facturaci\xf3n"}),l.jsx("p",{className:"text-gray-900",children:"SUBSCRIPTION"===O.billingType?"Suscripci\xf3n":"Pago \xfanico"})]}),O.telegramChannelId&&(0,l.jsxs)("div",{children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-1",children:"Canal de Telegram"}),(0,l.jsxs)("p",{className:"text-gray-900 flex items-center gap-2",children:["\uD83D\uDCF1 ",tx(O.telegramChannelId),(0,l.jsxs)("span",{className:"text-xs text-gray-500",children:["(",O.telegramChannelId,")"]})]})]}),(0,l.jsxs)("div",{className:"pt-4 border-t border-gray-200",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-500 mb-2",children:"Estad\xedsticas"}),(0,l.jsxs)("div",{className:"grid grid-cols-3 gap-4 text-center",children:[(0,l.jsxs)("div",{className:"bg-blue-50 p-3 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"0"}),l.jsx("div",{className:"text-xs text-gray-600",children:"Ventas"})]}),(0,l.jsxs)("div",{className:"bg-green-50 p-3 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:"€0.00"}),l.jsx("div",{className:"text-xs text-gray-600",children:"Ingresos"})]}),(0,l.jsxs)("div",{className:"bg-purple-50 p-3 rounded-lg",children:[l.jsx("div",{className:"text-2xl font-bold text-purple-600",children:"0"}),l.jsx("div",{className:"text-xs text-gray-600",children:"Suscriptores"})]})]})]})]}),(0,l.jsxs)("div",{className:"mt-6 flex gap-3 justify-end",children:[l.jsx("button",{onClick:tm,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition",children:"Cerrar"}),l.jsx("button",{onClick:()=>{$(!1),tc(O)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"Editar Producto"})]})]})]})})]})}},1664:(e,t,r)=>{"use strict";r.d(t,{z:()=>c});var a=r(326),s=r(7577),n=r(4214),l=r(9360),i=r(1223);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=s.forwardRef(({className:e,variant:t,size:r,asChild:s=!1,...l},c)=>{let d=s?n.g7:"button";return a.jsx(d,{className:(0,i.cn)(o({variant:t,size:r,className:e})),ref:c,...l})});c.displayName="Button"},1223:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(1135),s=r(1009);function n(...e){return(0,s.m6)((0,a.W)(e))}},3527:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`/app/frontend/src/app/dashboard/tipster/page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[276,480,515,107],()=>r(482));module.exports=a})();