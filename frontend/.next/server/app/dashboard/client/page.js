(()=>{var e={};e.id=335,e.ids=[335],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},1825:()=>{},6798:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>o}),s(8303),s(4954),s(5866);var r=s(3191),a=s(8716),l=s(7922),i=s.n(l),n=s(5231),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let o=["",{children:["dashboard",{children:["client",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8303)),"/app/frontend/src/app/dashboard/client/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4954)),"/app/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/app/frontend/src/app/dashboard/client/page.tsx"],m="/dashboard/client/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/client/page",pathname:"/dashboard/client",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},4372:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},5364:(e,t,s)=>{Promise.resolve().then(s.bind(s,7455))},8610:(e,t,s)=>{Promise.resolve().then(s.bind(s,8149))},5047:(e,t,s)=>{"use strict";var r=s(7389);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},7455:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(326),a=s(7577),l=s(5047),i=s(8069);function n(){let e=(0,l.useRouter)(),[t,s]=(0,a.useState)("dashboard"),[n,c]=(0,a.useState)(!0),[o,d]=(0,a.useState)(null),[m,x]=(0,a.useState)(null),[u,g]=(0,a.useState)([]),[p,h]=(0,a.useState)([]),[b,y]=(0,a.useState)([]),[f,j]=(0,a.useState)(!1),[v,N]=(0,a.useState)({category:"access",subject:"",description:"",orderId:""}),[D,C]=(0,a.useState)(!1),[P,w]=(0,a.useState)(!1),[E,k]=(0,a.useState)({countryIso:"",telegramUserId:"",locale:"es"}),[S,A]=(0,a.useState)(!1),$=async()=>{try{await i.iJ.logout(),localStorage.removeItem("access_token"),e.push("/")}catch(t){console.error("Error logging out:",t),localStorage.removeItem("access_token"),e.push("/")}},I=async()=>{if(!v.subject.trim()||!v.description.trim()){alert("Por favor, completa todos los campos");return}C(!0);try{if((await i.Ty.createTicket({category:v.category,subject:v.subject.trim(),description:v.description.trim(),orderId:v.orderId||void 0})).data.success){alert("✅ Ticket creado correctamente"),j(!1),N({category:"access",subject:"",description:"",orderId:""});let e=await i.Ty.getMyTickets();h(e.data)}}catch(e){alert("Error al crear ticket: "+(e.response?.data?.message||"Error desconocido"))}finally{C(!1)}},T=async()=>{A(!0);try{if((await i.a6.updateProfile(E)).data.success){alert("✅ Perfil actualizado"),w(!1);let e=await i.a6.getProfile();d(e.data.profile)}}catch(e){alert("Error: "+(e.response?.data?.message||"Error al guardar"))}finally{A(!1)}},R=(e,t="EUR")=>new Intl.NumberFormat("es-ES",{style:"currency",currency:t}).format(e/100),M=e=>new Date(e).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"}),_=e=>r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${{ACTIVE:"bg-green-100 text-green-700",EXPIRED:"bg-red-100 text-red-700",PENDING:"bg-yellow-100 text-yellow-700",PENDING_ACCESS:"bg-blue-100 text-blue-700",REFUNDED:"bg-gray-100 text-gray-700"}[e]||"bg-gray-100 text-gray-600"}`,children:{ACTIVE:"✅ Activo",EXPIRED:"⏰ Vencido",PENDING:"⏳ Pendiente",PENDING_ACCESS:"\uD83D\uDD04 Procesando Acceso",REFUNDED:"↩️ Reembolsado"}[e]||e}),q=e=>r.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${{OPEN:"bg-yellow-100 text-yellow-700",IN_PROGRESS:"bg-blue-100 text-blue-700",RESOLVED:"bg-green-100 text-green-700",CLOSED:"bg-gray-100 text-gray-700"}[e]||"bg-gray-100 text-gray-600"}`,children:{OPEN:"\uD83D\uDD35 Abierto",IN_PROGRESS:"\uD83D\uDFE1 En Progreso",RESOLVED:"✅ Resuelto",CLOSED:"⚫ Cerrado"}[e]||e}),O=u.filter(e=>"ACTIVE"===e.status).length,U=u.reduce((e,t)=>e+(t.amountCents||0),0),F=p.filter(e=>"OPEN"===e.status||"IN_PROGRESS"===e.status).length;return n?r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-600",children:"Cargando..."})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[r.jsx("aside",{className:"fixed top-0 left-0 w-64 h-full bg-white border-r border-gray-200 shadow-sm",children:(0,r.jsxs)("div",{className:"p-6",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-8",children:"Antia"}),(0,r.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-200",children:[r.jsx("div",{className:"text-sm font-medium text-gray-900",children:m?.name||m?.email||"Mi Cuenta"}),r.jsx("div",{className:"text-xs text-gray-500 mt-1",children:m?.email})]}),(0,r.jsxs)("nav",{className:"space-y-1",children:[(0,r.jsxs)("button",{onClick:()=>s("dashboard"),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 transition ${"dashboard"===t?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx("span",{children:"\uD83C\uDFE0"})," Dashboard"]}),(0,r.jsxs)("button",{onClick:()=>s("purchases"),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 transition ${"purchases"===t?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx("span",{children:"\uD83D\uDED2"})," Mis Compras",O>0&&r.jsx("span",{className:"ml-auto bg-green-100 text-green-700 px-2 py-0.5 rounded text-xs",children:O})]}),(0,r.jsxs)("button",{onClick:()=>s("payments"),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 transition ${"payments"===t?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx("span",{children:"\uD83D\uDCC4"})," Facturas y Pagos"]}),(0,r.jsxs)("button",{onClick:()=>s("support"),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 transition ${"support"===t?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx("span",{children:"\uD83D\uDCAC"})," Soporte",F>0&&r.jsx("span",{className:"ml-auto bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded text-xs",children:F})]}),(0,r.jsxs)("button",{onClick:()=>s("profile"),className:`w-full text-left px-4 py-3 rounded-lg flex items-center gap-3 transition ${"profile"===t?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-50"}`,children:[r.jsx("span",{children:"⚙️"})," Mi Perfil"]}),r.jsx("div",{className:"pt-4 border-t border-gray-200 mt-4",children:(0,r.jsxs)("button",{onClick:$,className:"w-full text-left px-4 py-3 rounded-lg text-red-600 hover:bg-red-50 flex items-center gap-3 transition",children:[r.jsx("span",{children:"\uD83D\uDEAA"})," Cerrar Sesi\xf3n"]})})]})]})}),(0,r.jsxs)("main",{className:"ml-64 p-8",children:["dashboard"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("h1",{className:"text-3xl font-bold text-gray-900",children:["\xa1Hola",m?.name?`, ${m.name}`:"","!"]}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona tus compras y accesos"})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:"✅"})}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Accesos Activos"}),r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:O})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:"\uD83D\uDED2"})}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Compras"}),r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:u.length})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-2xl",children:"\uD83D\uDCB0"})}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"text-sm text-gray-500",children:"Total Invertido"}),r.jsx("div",{className:"text-3xl font-bold text-gray-900",children:R(U)})]})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Accesos Activos"})}),r.jsx("div",{className:"p-6",children:0===u.filter(e=>"ACTIVE"===e.status).length?(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx("div",{className:"text-5xl mb-4",children:"\uD83D\uDCED"}),r.jsx("p",{className:"text-gray-500 mb-4",children:"No tienes accesos activos"}),r.jsx("a",{href:"/",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Explorar Pron\xf3sticos"})]}):r.jsx("div",{className:"space-y-4",children:u.filter(e=>"ACTIVE"===e.status).map(e=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:border-green-300 transition",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-semibold text-gray-900",children:e.productTitle}),(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Por: ",e.tipsterName]}),e.expiresAt&&(0,r.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Vence: ",M(e.expiresAt)]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[_(e.status),r.jsx("a",{href:"https://t.me",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm flex items-center gap-2",children:"\uD83D\uDCF1 Ir al Canal"})]})]})},e.id))})})]})]}),"purchases"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mis Compras"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Historial de todas tus compras y accesos"})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:0===u.length?(0,r.jsxs)("div",{className:"p-12 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDED2"}),r.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No tienes compras a\xfan"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Explora los mejores pron\xf3sticos y empieza a ganar"}),r.jsx("a",{href:"/",className:"inline-block bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition",children:"Explorar Pron\xf3sticos"})]}):r.jsx("div",{className:"divide-y divide-gray-100",children:u.map(e=>r.jsx("div",{className:"p-6 hover:bg-gray-50 transition",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"font-semibold text-gray-900 text-lg",children:e.productTitle}),_(e.status)]}),(0,r.jsxs)("p",{className:"text-gray-600 text-sm mb-2",children:["Por: ",e.tipsterName]}),(0,r.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-500",children:[(0,r.jsxs)("span",{children:["\uD83D\uDCC5 Comprado: ",M(e.createdAt)]}),e.validityDays&&(0,r.jsxs)("span",{children:["⏱️ Duraci\xf3n: ",e.validityDays," d\xedas"]}),e.expiresAt&&(0,r.jsxs)("span",{className:e.isExpired?"text-red-500":"",children:[e.isExpired?"❌ Venci\xf3":"\uD83D\uDCC6 Vence",": ",M(e.expiresAt)]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("div",{className:"text-xl font-bold text-gray-900 mb-2",children:R(e.amountCents,e.currency)}),(0,r.jsxs)("div",{className:"flex gap-2",children:["ACTIVE"===e.status&&r.jsx("a",{href:"https://t.me",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 text-sm",children:"\uD83D\uDCF1 Ir al Canal"}),"EXPIRED"===e.status&&r.jsx("button",{className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:"\uD83D\uDD04 Renovar"})]})]})]})},e.id))})})]}),"payments"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Facturas y Pagos"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Historial de todos tus pagos realizados"})]}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:0===b.length?(0,r.jsxs)("div",{className:"p-12 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDCC4"}),r.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No hay pagos registrados"}),r.jsx("p",{className:"text-gray-500",children:"Aqu\xed aparecer\xe1n tus recibos cuando realices una compra"})]}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"Fecha"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"ID Orden"}),r.jsx("th",{className:"px-6 py-4 text-left text-xs font-medium text-gray-500 uppercase",children:"M\xe9todo"}),r.jsx("th",{className:"px-6 py-4 text-right text-xs font-medium text-gray-500 uppercase",children:"Importe"}),r.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 uppercase",children:"Estado"}),r.jsx("th",{className:"px-6 py-4 text-center text-xs font-medium text-gray-500 uppercase",children:"Acciones"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-100",children:b.map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:M(e.createdAt)}),(0,r.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500 font-mono",children:["#",e.id.substring(0,8)]}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-600",children:"stripe"===e.paymentProvider?"\uD83D\uDCB3 Stripe":"redsys"===e.paymentProvider?"\uD83C\uDFE6 Redsys":e.paymentMethod||"N/A"}),r.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 text-right font-medium",children:R(e.amountCents,e.currency)}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-700 rounded text-xs",children:"✅ Pagado"})}),r.jsx("td",{className:"px-6 py-4 text-center",children:r.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm",children:"\uD83D\uDCE5 Recibo"})})]},e.id))})]})})})]}),"support"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-8 flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Soporte"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"\xbfNecesitas ayuda? Estamos aqu\xed para ti"})]}),(0,r.jsxs)("button",{onClick:()=>j(!0),className:"bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition flex items-center gap-2",children:[r.jsx("span",{children:"➕"})," Nuevo Ticket"]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[(0,r.jsxs)("button",{onClick:()=>{N({...v,category:"access",subject:"No tengo acceso al canal"}),j(!0)},className:"bg-white p-6 rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-md transition text-left",children:[r.jsx("div",{className:"text-3xl mb-3",children:"\uD83D\uDD10"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Problemas de Acceso"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Pagu\xe9 y no tengo acceso al canal"})]}),(0,r.jsxs)("button",{onClick:()=>{N({...v,category:"payment",subject:"Problema con el pago"}),j(!0)},className:"bg-white p-6 rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-md transition text-left",children:[r.jsx("div",{className:"text-3xl mb-3",children:"\uD83D\uDCB3"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Problemas de Pago"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Error al procesar el pago"})]}),(0,r.jsxs)("button",{onClick:()=>{N({...v,category:"telegram_change",subject:"Cambio de cuenta Telegram"}),j(!0)},className:"bg-white p-6 rounded-xl border border-gray-200 hover:border-blue-300 hover:shadow-md transition text-left",children:[r.jsx("div",{className:"text-3xl mb-3",children:"\uD83D\uDCF1"}),r.jsx("h3",{className:"font-semibold text-gray-900",children:"Cambiar Telegram"}),r.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Cambi\xe9 de cuenta o celular"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Mis Tickets"})}),0===p.length?(0,r.jsxs)("div",{className:"p-12 text-center",children:[r.jsx("div",{className:"text-6xl mb-4",children:"\uD83D\uDCAC"}),r.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"No tienes tickets"}),r.jsx("p",{className:"text-gray-500",children:"Si tienes alg\xfan problema, crea un ticket y te ayudaremos"})]}):r.jsx("div",{className:"divide-y divide-gray-100",children:p.map(e=>r.jsx("div",{className:"p-6 hover:bg-gray-50 transition",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:e.subject}),q(e.status)]}),r.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:e.description}),(0,r.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Creado: ",M(e.createdAt)]})]}),(0,r.jsxs)("span",{className:"text-xs text-gray-400 font-mono",children:["#",e.id.substring(0,8)]})]})},e.id))})]})]}),"profile"===t&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mi Perfil"}),r.jsx("p",{className:"text-gray-600 mt-1",children:"Gestiona tu informaci\xf3n personal"})]}),(0,r.jsxs)("div",{className:"max-w-2xl",children:[(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-6 pb-6 border-b border-gray-100",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-3xl",children:"\uD83D\uDC64"})}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:m?.name||"Usuario"}),r.jsx("p",{className:"text-gray-500",children:m?.email})]})]}),P?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pa\xeds"}),(0,r.jsxs)("select",{value:E.countryIso,onChange:e=>k({...E,countryIso:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Seleccionar..."}),r.jsx("option",{value:"ES",children:"Espa\xf1a"}),r.jsx("option",{value:"MX",children:"M\xe9xico"}),r.jsx("option",{value:"AR",children:"Argentina"}),r.jsx("option",{value:"CO",children:"Colombia"}),r.jsx("option",{value:"CL",children:"Chile"}),r.jsx("option",{value:"PE",children:"Per\xfa"}),r.jsx("option",{value:"US",children:"Estados Unidos"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ID de Telegram"}),r.jsx("input",{type:"text",value:E.telegramUserId,onChange:e=>k({...E,telegramUserId:e.target.value}),placeholder:"Tu ID de Telegram",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Idioma"}),(0,r.jsxs)("select",{value:E.locale,onChange:e=>k({...E,locale:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"es",children:"Espa\xf1ol"}),r.jsx("option",{value:"en",children:"English"})]})]}),(0,r.jsxs)("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{onClick:T,disabled:S,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:S?"Guardando...":"Guardar Cambios"}),r.jsx("button",{onClick:()=>w(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"})]})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-500",children:"Email"}),r.jsx("span",{className:"font-medium text-gray-900",children:m?.email})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-500",children:"Pa\xeds"}),r.jsx("span",{className:"font-medium text-gray-900",children:o?.countryIso||"No especificado"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-500",children:"Telegram ID"}),r.jsx("span",{className:"font-medium text-gray-900",children:o?.telegramUserId||"No vinculado"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-3 border-b border-gray-100",children:[r.jsx("span",{className:"text-gray-500",children:"Idioma"}),r.jsx("span",{className:"font-medium text-gray-900",children:o?.locale==="es"?"Espa\xf1ol":"English"})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center py-3",children:[r.jsx("span",{className:"text-gray-500",children:"Miembro desde"}),r.jsx("span",{className:"font-medium text-gray-900",children:o?.createdAt?M(o.createdAt):"N/A"})]}),r.jsx("button",{onClick:()=>w(!0),className:"w-full mt-4 px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 font-medium",children:"✏️ Editar Perfil"})]})]}),(0,r.jsxs)("div",{className:"mt-6 bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:[r.jsx("h3",{className:"font-bold text-gray-900 mb-4",children:"Legal"}),(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("a",{href:"#",className:"block text-blue-600 hover:underline",children:"\uD83D\uDCDC T\xe9rminos y Condiciones"}),r.jsx("a",{href:"#",className:"block text-blue-600 hover:underline",children:"\uD83D\uDD12 Pol\xedtica de Privacidad"}),r.jsx("a",{href:"#",className:"block text-blue-600 hover:underline",children:"⚠️ Disclaimer +18 (Apuestas)"})]})]})]})]})]}),f&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:()=>j(!1),children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full mx-4",onClick:e=>e.stopPropagation(),children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:r.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Crear Ticket de Soporte"})}),(0,r.jsxs)("div",{className:"p-6 space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Categor\xeda"}),(0,r.jsxs)("select",{value:v.category,onChange:e=>N({...v,category:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"access",children:"\uD83D\uDD10 Problemas de Acceso"}),r.jsx("option",{value:"payment",children:"\uD83D\uDCB3 Problemas de Pago"}),r.jsx("option",{value:"telegram_change",children:"\uD83D\uDCF1 Cambio de Telegram"}),r.jsx("option",{value:"other",children:"❓ Otro"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asunto"}),r.jsx("input",{type:"text",value:v.subject,onChange:e=>N({...v,subject:e.target.value}),placeholder:"Describe brevemente tu problema",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripci\xf3n"}),r.jsx("textarea",{value:v.description,onChange:e=>N({...v,description:e.target.value}),placeholder:"Cu\xe9ntanos m\xe1s detalles...",rows:4,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"})]}),u.length>0&&(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Compra relacionada (opcional)"}),(0,r.jsxs)("select",{value:v.orderId,onChange:e=>N({...v,orderId:e.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[r.jsx("option",{value:"",children:"Ninguna"}),u.map(e=>(0,r.jsxs)("option",{value:e.id,children:[e.productTitle," - ",M(e.createdAt)]},e.id))]})]})]}),(0,r.jsxs)("div",{className:"p-6 border-t border-gray-200 flex justify-end gap-3",children:[r.jsx("button",{onClick:()=>j(!1),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancelar"}),r.jsx("button",{onClick:I,disabled:D,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:D?"Enviando...":"Enviar Ticket"})]})]})})]})}},8149:(e,t,s)=>{"use strict";s.d(t,{CurrencyProvider:()=>i,U:()=>n});var r=s(326),a=s(7577);s(8069);let l=(0,a.createContext)(void 0);function i({children:e}){let[t,s]=(0,a.useState)("EUR"),[i,n]=(0,a.useState)(1.08),[c,o]=(0,a.useState)(!0),d=(e,s="EUR")=>s===t?e:"EUR"===s&&"USD"===t?Math.round(e*i):"USD"===s&&"EUR"===t?Math.round(e/i):e;return r.jsx(l.Provider,{value:{currency:t,setCurrency:e=>{s(e),localStorage.setItem("preferredCurrency",e)},exchangeRate:i,convert:d,formatPrice:(e,s="EUR")=>{let r=d(e,s),a="USD"===t?"$":"€";return`${a}${(r/100).toFixed(2)}`},symbol:"USD"===t?"$":"€",loading:c},children:e})}function n(){let e=(0,a.useContext)(l);if(void 0===e)throw Error("useCurrency must be used within a CurrencyProvider");return e}},8069:(e,t,s)=>{"use strict";s.d(t,{$z:()=>n,Nq:()=>u,Q4:()=>i,Qm:()=>p,Ty:()=>x,a6:()=>m,fi:()=>l,hi:()=>r,iJ:()=>a,jk:()=>g,kn:()=>c,lY:()=>o,wT:()=>d});let r=s(4464).Z.create({baseURL:"https://affiliate-hub-170.preview.emergentagent.com/api",withCredentials:!0,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{let t=localStorage.getItem("access_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e}),r.interceptors.response.use(e=>e,e=>(e.response?.status!==401||["/login","/register","/"].includes("")||(localStorage.removeItem("access_token"),window.location.href="/login"),Promise.reject(e)));let a={registerTipster:e=>r.post("/auth/tipster/register",e),registerClient:e=>r.post("/auth/client/register",e),login:e=>r.post("/auth/login",e),logout:()=>r.post("/auth/logout"),sendOtp:e=>r.post("/auth/otp/send",{email:e}),verifyOtp:e=>r.post("/auth/otp/verify",{code:e})},l={create:e=>r.post("/products",e),getMy:()=>r.get("/products/my"),getOne:e=>r.get(`/products/${e}`),update:(e,t)=>r.patch(`/products/${e}`,t),publish:e=>r.post(`/products/${e}/publish`),pause:e=>r.post(`/products/${e}/pause`),getCheckoutLink:e=>r.get(`/products/${e}/checkout-link`)},i={getLinks:()=>r.get("/referrals/links"),getMetrics:e=>r.get("/referrals/metrics",{params:{range:e}}),getCommissions:()=>r.get("/referrals/commissions")},n={getChannelInfo:()=>r.get("/telegram/channel-info"),connect:e=>r.post("/telegram/connect",{channelIdentifier:e}),disconnect:()=>r.delete("/telegram/disconnect"),publishProduct:(e,t)=>r.post(`/products/${e}/publish-telegram`,t?{channelId:t}:{}),setPremiumChannel:e=>r.post("/telegram/premium-channel",{premiumChannelLink:e}),publicationChannel:{get:()=>r.get("/telegram/publication-channel"),set:(e,t)=>r.post("/telegram/publication-channel",{channelId:e,channelTitle:t}),remove:()=>r.delete("/telegram/publication-channel"),startLinking:()=>r.post("/telegram/publication-channel/start-linking"),cancelLinking:()=>r.post("/telegram/publication-channel/cancel-linking")},channels:{getAll:()=>r.get("/telegram/channels"),getOne:e=>r.get(`/telegram/channels/${e}`),create:e=>r.post("/telegram/channels",e),verify:e=>r.post("/telegram/channels/verify",{channelId:e}),update:(e,t)=>r.patch(`/telegram/channels/${e}`,t),delete:e=>r.delete(`/telegram/channels/${e}`),refresh:e=>r.post(`/telegram/channels/${e}/refresh`),generateInviteLink:e=>r.post(`/telegram/channels/${e}/invite-link`)}},c={getMy:()=>r.get("/orders/my"),getMySales:()=>r.get("/orders/sales"),getMyStats:()=>r.get("/orders/stats")},o={getAll:()=>r.get("/settlements"),getPending:()=>r.get("/settlements/pending"),getHistory:()=>r.get("/settlements/history"),getTotalPaid:()=>r.get("/settlements/total-paid")},d={getMyModules:()=>r.get("/users/me/modules")},m={getProfile:()=>r.get("/client/profile"),updateProfile:e=>r.put("/client/profile",e),getPurchases:()=>r.get("/client/purchases"),getPurchaseDetails:e=>r.get(`/client/purchases/${e}`),getPaymentHistory:()=>r.get("/client/payments")},x={createTicket:e=>r.post("/support/tickets",e),getMyTickets:()=>r.get("/support/tickets/my"),getTicketDetails:e=>r.get(`/support/tickets/my/${e}`),admin:{getAllTickets:e=>r.get("/support/admin/tickets",{params:{status:e}}),updateTicket:(e,t)=>r.put(`/support/admin/tickets/${e}`,t)}},u={tipsters:{getAll:()=>r.get("/admin/tipsters"),getOne:e=>r.get(`/admin/tipsters/${e}`),updateModules:(e,t)=>r.patch(`/admin/tipsters/${e}/modules`,t)},commissions:{getAll:()=>r.get("/admin/commissions"),getOne:e=>r.get(`/admin/commissions/${e}`),getHistory:e=>r.get(`/admin/commissions/${e}/history`),update:(e,t)=>r.patch(`/admin/commissions/${e}`,t)},reports:{getSummary:e=>r.get("/admin/reports/summary",{params:{currency:e}}),getSales:e=>r.get("/admin/reports/sales",{params:e}),getPlatform:e=>r.get("/admin/reports/platform",{params:e}),getSettlements:e=>r.get("/admin/reports/settlements",{params:e}),getTipsters:e=>r.get("/admin/reports/tipsters",{params:e}),exportCSV:(e,t)=>r.get(`/admin/reports/export/${e}`,{params:t,responseType:"blob"})}},g={getRates:()=>r.get("/currency/rates"),getRate:(e,t)=>r.get(`/currency/rate/${e}/${t}`),convert:(e,t,s)=>r.get("/currency/convert",{params:{amount:e,from:t,to:s}}),admin:{setRate:(e,t,s)=>r.post("/currency/admin/rate",{baseCurrency:e,targetCurrency:t,rate:s}),removeOverride:(e,t)=>r.delete(`/currency/admin/rate/${e}/${t}`),getHistory:(e,t,s)=>r.get(`/currency/admin/history/${e}/${t}`,{params:{limit:s}})}},p={getHousesWithLinks:e=>r.get("/affiliate/houses",{params:{countryCode:e}}),getHouseWithLink:e=>r.get(`/affiliate/houses/${e}`),getMyLinks:()=>r.get("/affiliate/my-links"),generateLink:e=>r.post(`/affiliate/houses/${e}/link`),getCampaigns:()=>r.get("/affiliate/campaigns"),getCampaign:e=>r.get(`/affiliate/campaigns/${e}`),getMetrics:()=>r.get("/affiliate/metrics"),getPayouts:()=>r.get("/affiliate/payouts"),getPayoutDetails:e=>r.get(`/affiliate/payouts/${e}`),admin:{getHouses:(e=!1)=>r.get("/admin/affiliate/houses",{params:{includeInactive:e}}),getHouse:e=>r.get(`/admin/affiliate/houses/${e}`),createHouse:e=>r.post("/admin/affiliate/houses",e),updateHouse:(e,t)=>r.patch(`/admin/affiliate/houses/${e}`,t),getCampaigns:(e=!1)=>r.get("/admin/affiliate/campaigns",{params:{includeInactive:e}}),getCampaign:e=>r.get(`/admin/affiliate/campaigns/${e}`),createCampaign:e=>r.post("/admin/affiliate/campaigns",e),updateCampaign:(e,t)=>r.patch(`/admin/affiliate/campaigns/${e}`,t),importCsv:e=>r.post("/admin/affiliate/import-csv",e,{headers:{"Content-Type":"multipart/form-data"}}),getImportBatches:e=>r.get("/admin/affiliate/import-batches",{params:{houseId:e}}),getConversions:e=>r.get("/admin/affiliate/conversions",{params:e}),updateConversionStatus:(e,t,s)=>r.patch(`/admin/affiliate/conversions/${e}/status`,{status:t,rejectionReason:s}),getPayouts:e=>r.get("/admin/affiliate/payouts",{params:e}),generatePayouts:e=>r.post("/admin/affiliate/payouts/generate",{periodMonth:e}),markPayoutPaid:(e,t)=>r.patch(`/admin/affiliate/payouts/${e}/pay`,t)}}},8303:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/app/frontend/src/app/dashboard/client/page.tsx#default`)},4954:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n,metadata:()=>i});var r=s(9510);s(5023);var a=s(8570);let l=(0,a.createProxy)(String.raw`/app/frontend/src/contexts/CurrencyContext.tsx#CurrencyProvider`);(0,a.createProxy)(String.raw`/app/frontend/src/contexts/CurrencyContext.tsx#useCurrency`);let i={title:"Antia - Plataforma de Pron\xf3sticos",description:"Monetiza tu contenido con Antia"};function n({children:e}){return r.jsx("html",{lang:"es",children:r.jsx("body",{children:r.jsx(l,{children:e})})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[294],()=>s(6798));module.exports=r})();