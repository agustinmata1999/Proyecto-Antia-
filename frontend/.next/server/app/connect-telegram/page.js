(()=>{var e={};e.id=964,e.ids=[964],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},7790:e=>{"use strict";e.exports=require("assert")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},2694:e=>{"use strict";e.exports=require("http2")},8791:e=>{"use strict";e.exports=require("https")},5315:e=>{"use strict";e.exports=require("path")},6162:e=>{"use strict";e.exports=require("stream")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},1568:e=>{"use strict";e.exports=require("zlib")},4695:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c}),t(7709),t(4954),t(5866);var s=t(3191),a=t(8716),n=t(7922),l=t.n(n),i=t(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(r,o);let c=["",{children:["connect-telegram",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7709)),"/app/frontend/src/app/connect-telegram/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,4954)),"/app/frontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/app/frontend/src/app/connect-telegram/page.tsx"],u="/connect-telegram/page",m={require:t,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/connect-telegram/page",pathname:"/connect-telegram",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7607:(e,r,t)=>{Promise.resolve().then(t.bind(t,2544))},6557:(e,r,t)=>{"use strict";t.d(r,{Z:()=>l});var s=t(7577),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,r)=>{let t=(0,s.forwardRef)(({color:t="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:c="",children:d,...u},m)=>(0,s.createElement)("svg",{ref:m,...a,width:l,height:l,stroke:t,strokeWidth:o?24*Number(i)/Number(l):i,className:["lucide",`lucide-${n(e)}`,c].join(" "),...u},[...r.map(([e,r])=>(0,s.createElement)(e,r)),...Array.isArray(d)?d:[d]]));return t.displayName=`${e}`,t}},2933:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(6557).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},7027:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(6557).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},9730:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(6557).Z)("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]])},165:(e,r,t)=>{"use strict";t.d(r,{Z:()=>s});let s=(0,t(6557).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},5047:(e,r,t)=>{"use strict";var s=t(7389);t.o(s,"useParams")&&t.d(r,{useParams:function(){return s.useParams}}),t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},2544:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p});var s=t(326),a=t(7577),n=t(5047),l=t(434),i=t(8069);let o=(0,t(6557).Z)("PartyPopper",[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12v0c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"bpx1uq"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11v0c-.11.7-.72 1.22-1.43 1.22H17",key:"1pd0s7"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98v0C9.52 4.9 9 5.52 9 6.23V7",key:"zq5xbz"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]]);var c=t(2933),d=t(165),u=t(9730),m=t(7027);function x(){let e=(0,n.useRouter)(),r=(0,n.useSearchParams)(),t=r.get("email")||"";r.get("auth");let[x,p]=(0,a.useState)(""),[h,g]=(0,a.useState)(""),[b,f]=(0,a.useState)(!1),[j,v]=(0,a.useState)(""),[y,N]=(0,a.useState)(!1),[w,k]=(0,a.useState)("Antiabetbot"),P=async r=>{if(r.preventDefault(),!t||!x){v("Por favor, ingresa tu email y contrase\xf1a");return}if(!h.trim()){v("Por favor, ingresa el c\xf3digo de vinculaci\xf3n");return}f(!0),v("");try{(await i.$z.auth.connectPreLogin(t,x,h.trim().toUpperCase())).data.success&&(N(!0),setTimeout(()=>{e.push("/login?telegram_connected=true")},2e3))}catch(e){v(e.response?.data?.message||"Error al conectar Telegram. Verifica tus credenciales y el c\xf3digo.")}finally{f(!1)}};return y?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-white flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:s.jsx(o,{className:"w-10 h-10 text-green-600"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"\xa1Telegram Conectado!"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Tu cuenta de Telegram ha sido vinculada correctamente. Ahora puedes acceder a la plataforma."}),(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 text-sm text-gray-500",children:[s.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}),"Redirigiendo al login..."]})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-lg w-full",children:[s.jsx("div",{className:"text-center mb-8",children:s.jsx(l.default,{href:"/",className:"text-3xl font-bold bg-gradient-to-r from-blue-600 to-blue-400 bg-clip-text text-transparent inline-block",children:"Antia"})}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-6 text-white",children:(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 bg-white/20 rounded-xl",children:s.jsx(c.Z,{className:"w-8 h-8"})}),(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-xl font-bold",children:"\xa1Solicitud Aprobada!"}),s.jsx("p",{className:"text-green-100 mt-1",children:"Solo un paso m\xe1s para acceder"})]})]})}),(0,s.jsxs)("div",{className:"p-8",children:[s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4 mb-6",children:(0,s.jsxs)("div",{className:"flex items-start gap-3",children:[s.jsx(d.Z,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),s.jsx("div",{children:s.jsx("p",{className:"text-sm text-blue-800",children:"Para acceder a la plataforma, necesitas conectar tu cuenta de Telegram. Esto nos permite vincular autom\xe1ticamente tus canales cuando crees productos."})})]})}),(0,s.jsxs)("form",{onSubmit:P,className:"space-y-5",children:[j&&s.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:j}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Correo electr\xf3nico"}),s.jsx("input",{type:"email",required:!0,value:t,disabled:!!t,onChange:e=>{},className:"w-full px-4 py-3 border border-gray-300 rounded-lg bg-gray-50 text-gray-600",placeholder:"tu@email.com"})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contrase\xf1a"}),s.jsx("input",{type:"password",required:!0,value:x,onChange:e=>p(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Tu contrase\xf1a"})]}),s.jsx("div",{className:"border border-gray-200 rounded-xl p-5 bg-gradient-to-br from-blue-50/50 to-white",children:(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-2.5 bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl",children:s.jsx(u.Z,{className:"w-5 h-5 text-white"})}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Conectar Telegram"}),(0,s.jsxs)("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-600 mb-4",children:[s.jsx("li",{children:(0,s.jsxs)("a",{href:`https://t.me/${w}?start=vincular`,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline inline-flex items-center gap-1",children:["Abre el bot en Telegram ",s.jsx(m.Z,{size:12})]})}),(0,s.jsxs)("li",{children:["Presiona ",s.jsx("strong",{children:'"START"'})," en el bot"]}),s.jsx("li",{children:"Copia el c\xf3digo de 8 caracteres que recibir\xe1s"}),s.jsx("li",{children:"P\xe9galo en el campo de abajo"})]}),s.jsx("input",{type:"text",value:h,onChange:e=>g(e.target.value.toUpperCase()),placeholder:"XXXXXXXX",className:"w-full px-4 py-3 border border-gray-300 rounded-lg text-center font-mono tracking-widest uppercase text-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:8})]})]})}),s.jsx("button",{type:"submit",disabled:b||!h.trim()||!x,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 text-white py-3.5 rounded-xl hover:from-blue-700 hover:to-blue-800 transition font-medium disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:b?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Conectando..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(u.Z,{size:18}),"Conectar y Acceder"]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(l.default,{href:"/login",className:"text-sm text-gray-500 hover:text-gray-700",children:"â† Volver al login"})})]})]})]})})}function p(){return s.jsx(a.Suspense,{fallback:s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-white flex items-center justify-center",children:s.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}),children:s.jsx(x,{})})}},7709:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(8570).createProxy)(String.raw`/app/frontend/src/app/connect-telegram/page.tsx#default`)}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[276,480,434,795],()=>t(4695));module.exports=s})();